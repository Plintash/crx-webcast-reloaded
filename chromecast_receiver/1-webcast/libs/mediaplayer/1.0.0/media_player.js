// Copyright Google Inc. All Rights Reserved.
(function() { 'use strict';var h,aa="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={vk:!0},ea={};try{ea.__proto__=da;ca=ea.vk;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var fa=ba,m=function(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Ze=b.prototype},ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ia="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:
this,ja=function(){ja=function(){};ia.Symbol||(ia.Symbol=ka)},ka=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}(),ma=function(){ja();var a=ia.Symbol.iterator;a||(a=ia.Symbol.iterator=ia.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ha(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(this)}});ma=function(){}},la=function(a){var b=0;return na(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},na=function(a){ma();a={next:a};
a[ia.Symbol.iterator]=function(){return this};return a},q=function(a){ma();var b=a[Symbol.iterator];return b?b.call(a):la(a)},oa=function(a){if(!(a instanceof Array)){a=q(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},pa=pa||{},r=this,t=function(a){return void 0!==a},v=function(a){return"string"==typeof a},x=function(a){return"number"==typeof a},qa=function(){},ra=function(a){a.vh=void 0;a.Bd=function(){return a.vh?a.vh:a.vh=new a}},sa=function(a){var b=typeof a;if("object"==
b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b},ta=function(a){return"array"==sa(a)},wa=function(a){var b=sa(a);return"array"==b||"object"==b&&"number"==typeof a.length},xa=function(a){return"function"==sa(a)},ya=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},za=function(a,b,c){return a.call.apply(a.bind,arguments)},Aa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},Ba=function(a,b,c){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)},y=Date.now||function(){return+new Date},z=function(a,b){a=a.split(".");var c=r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&t(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]=
{}},Ca=function(a,b){function c(){}c.prototype=b.prototype;a.Ze=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.im=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var cast=r.cast||{};var Da=function(){return!(!cast.__platform__||!cast.__platform__.metrics)},Ea=function(a,b){Da()&&cast.__platform__.metrics.logBoolToUma(a,b)},Fa=function(a){Da()&&cast.__platform__.metrics.logEventToUma(a)},B=function(a,b){Da()&&cast.__platform__.metrics.logIntToUma(a,b)};var Ga=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ga);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};Ca(Ga,Error);Ga.prototype.name="CustomError";var Ha=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");Ga.call(this,c+a[d])};Ca(Ha,Ga);Ha.prototype.name="AssertionError";var Ia=function(a,b){throw new Ha("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ja=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b};var Ka=function(a){return!!a&&"function"===typeof a.then};var La=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(v(a))return v(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if(v(a))return v(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Na=
Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Oa=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=v(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Pa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=v(a)?
a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Ra=function(a){a:{var b=Qa;for(var c=a.length,d=v(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:v(a)?a.charAt(b):a[b]},Sa=function(a){if(!ta(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Ta=function(a,b){b=La(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},Ua=function(a){return Array.prototype.concat.apply([],arguments)},Va=function(a){var b=
a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Wa=function(a,b){this.nl=100;this.Kk=a;this.Ol=b;this.$f=0;this.Hf=null};Wa.prototype.get=function(){if(0<this.$f){this.$f--;var a=this.Hf;this.Hf=a.next;a.next=null}else a=this.Kk();return a};Wa.prototype.put=function(a){this.Ol(a);this.$f<this.nl&&(this.$f++,a.next=this.Hf,this.Hf=a)};var Xa=function(a,b){var c=String(b).toLowerCase();a=String(a.substr(0,b.length)).toLowerCase();return 0==(c<a?-1:c==a?0:1)},Ya=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Za=function(a,b){return a<b?-1:a>b?1:0};var $a;a:{var ab=r.navigator;if(ab){var bb=ab.userAgent;if(bb){$a=bb;break a}}$a=""}var cb=function(a){return-1!=$a.indexOf(a)};var db=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},eb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},fb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},gb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ib=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],
Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var jb=function(a){r.setTimeout(function(){throw a;},0)},kb,lb=function(){var a=r.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!cb("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;
a=Ba(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!cb("Trident")&&!cb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(t(c.next)){c=c.next;var a=c.Hi;c.Hi=null;a()}};return function(a){d.next={Hi:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};var mb=function(){this.Jg=this.ae=null},ob=new Wa(function(){return new nb},function(a){a.reset()});mb.prototype.add=function(a,b){var c=ob.get();c.set(a,b);this.Jg?this.Jg.next=c:this.ae=c;this.Jg=c};mb.prototype.remove=function(){var a=null;this.ae&&(a=this.ae,this.ae=this.ae.next,this.ae||(this.Jg=null),a.next=null);return a};var nb=function(){this.next=this.scope=this.Ad=null};nb.prototype.set=function(a,b){this.Ad=a;this.scope=b;this.next=null};
nb.prototype.reset=function(){this.next=this.scope=this.Ad=null};var tb=function(a,b){pb||qb();rb||(pb(),rb=!0);sb.add(a,b)},pb,qb=function(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);pb=function(){a.then(ub)}}else pb=function(){var a=ub;!xa(r.setImmediate)||r.Window&&r.Window.prototype&&!cb("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(kb||(kb=lb()),kb(a)):r.setImmediate(a)}},rb=!1,sb=new mb,ub=function(){for(var a;a=sb.remove();){try{a.Ad.call(a.scope)}catch(b){jb(b)}ob.put(a)}rb=!1};var wb=function(a){wb[" "](a);return a};wb[" "]=qa;var yb=function(a,b){var c=xb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var zb=cb("Opera"),Ab=cb("Trident")||cb("MSIE"),Bb=cb("Edge"),Cb=cb("Gecko")&&!(-1!=$a.toLowerCase().indexOf("webkit")&&!cb("Edge"))&&!(cb("Trident")||cb("MSIE"))&&!cb("Edge"),Db=-1!=$a.toLowerCase().indexOf("webkit")&&!cb("Edge"),Eb=function(){var a=r.document;return a?a.documentMode:void 0},Fb;
a:{var Gb="",Hb=function(){var a=$a;if(Cb)return/rv:([^\);]+)(\)|;)/.exec(a);if(Bb)return/Edge\/([\d\.]+)/.exec(a);if(Ab)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Db)return/WebKit\/(\S+)/.exec(a);if(zb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Hb&&(Gb=Hb?Hb[1]:"");if(Ab){var Ib=Eb();if(null!=Ib&&Ib>parseFloat(Gb)){Fb=String(Ib);break a}}Fb=Gb}
var Jb=Fb,xb={},Kb=function(a){return yb(a,function(){for(var b=0,c=Ya(String(Jb)).split("."),d=Ya(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=Za(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||Za(0==g[2].length,0==k[2].length)||Za(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},Lb;var Mb=r.document;
Lb=Mb&&Ab?Eb()||("CSS1Compat"==Mb.compatMode?parseInt(Jb,10):5):void 0;var Nb=Object.freeze||function(a){return a};var Ob=function(a,b,c){this.reset(a,b,c,void 0,void 0)};Ob.prototype.xc=0;Ob.prototype.hh=null;var Pb=0;Ob.prototype.reset=function(a,b,c,d,e){this.xc="number"==typeof e?e:Pb++;this.Wd=d||y();this.Sc=a;this.rl=b;this.uj=c;delete this.hh};Ob.prototype.li=function(a){this.Sc=a};var Qb=function(a){this.Vc=a;this.je=this.Wg=this.Sc=this.Ya=null},Rb=function(a,b){this.name=a;this.value=b};Rb.prototype.toString=function(){return this.name};
var Sb=new Rb("SHOUT",1200),Tb=new Rb("SEVERE",1E3),Ub=new Rb("WARNING",900),Vb=new Rb("INFO",800),Wb=new Rb("CONFIG",700),Xb=new Rb("FINE",500),Yb=[new Rb("OFF",Infinity),Sb,Tb,Ub,Vb,Wb,Xb,new Rb("FINER",400),new Rb("FINEST",300),new Rb("ALL",0)],Zb=null,$b=function(a){if(!Zb){Zb={};for(var b=0,c;c=Yb[b];b++)Zb[c.value]=c,Zb[c.name]=c}if(a in Zb)return Zb[a];for(b=0;b<Yb.length;++b)if(c=Yb[b],c.value<=a)return c;return null};Qb.prototype.getName=function(){return this.Vc};
Qb.prototype.getParent=function(){return this.Ya};Qb.prototype.li=function(a){this.Sc=a};var ac=function(a){if(a.Sc)return a.Sc;if(a.Ya)return ac(a.Ya);Ia("Root logger has no level set.");return null};Qb.prototype.log=function(a,b,c){if(a.value>=ac(this).value)for(xa(b)&&(b=b()),a=new Ob(a,String(b),this.Vc),c&&(a.hh=c),c=this;c;){var d=c,e=a;if(d.je)for(var f=0;b=d.je[f];f++)b(e);c=c.getParent()}};Qb.prototype.info=function(a,b){this.log(Vb,a,b)};
var bc={},cc=null,dc=function(){cc||(cc=new Qb(""),bc[""]=cc,cc.li(Wb))},ec=function(){dc();return cc},C=function(a){dc();var b;if(!(b=bc[a])){b=new Qb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=C(a.substr(0,c));c.Wg||(c.Wg={});c.Wg[d]=b;b.Ya=c;bc[a]=b}return b};var D=function(){this.fe=this.fe;this.bg=this.bg};D.prototype.fe=!1;D.prototype.J=function(){this.fe||(this.fe=!0,this.H())};D.prototype.H=function(){if(this.bg)for(;this.bg.length;)this.bg.shift()()};var fc;(fc=!Ab)||(fc=9<=Number(Lb));var gc=fc,hc=Ab&&!Kb("9"),ic=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});r.addEventListener("test",qa,b);r.removeEventListener("test",qa,b);return a}();var jc=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Yc=!1;this.Zj=!0};jc.prototype.stopPropagation=function(){this.Yc=!0};jc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Zj=!1};var kc=function(a,b){jc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Kc=null;a&&this.la(a,b)};Ca(kc,jc);var lc=Nb({2:"touch",3:"pen",4:"mouse"});
kc.prototype.la=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Cb){a:{try{wb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=Db||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Db||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=
v(a.pointerType)?a.pointerType:lc[a.pointerType]||"";this.state=a.state;this.Kc=a;a.defaultPrevented&&this.preventDefault()};kc.prototype.stopPropagation=function(){kc.Ze.stopPropagation.call(this);this.Kc.stopPropagation?this.Kc.stopPropagation():this.Kc.cancelBubble=!0};kc.prototype.preventDefault=function(){kc.Ze.preventDefault.call(this);var a=this.Kc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,hc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var mc="closure_listenable_"+(1E6*Math.random()|0),nc=0;var oc=function(a,b,c,d,e){this.listener=a;this.ig=null;this.src=b;this.type=c;this.capture=!!d;this.Ff=e;this.key=++nc;this.Rd=this.rf=!1},pc=function(a){a.Rd=!0;a.listener=null;a.ig=null;a.src=null;a.Ff=null};var qc=function(a){this.src=a;this.va={};this.ff=0};qc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.va[f];a||(a=this.va[f]=[],this.ff++);var g=rc(a,b,d,e);-1<g?(b=a[g],c||(b.rf=!1)):(b=new oc(b,this.src,f,!!d,e),b.rf=c,a.push(b));return b};qc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.va))return!1;var e=this.va[a];b=rc(e,b,c,d);return-1<b?(pc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.va[a],this.ff--),!0):!1};
var sc=function(a,b){var c=b.type;c in a.va&&Ta(a.va[c],b)&&(pc(b),0==a.va[c].length&&(delete a.va[c],a.ff--))};qc.prototype.nh=function(a,b,c,d){a=this.va[a.toString()];var e=-1;a&&(e=rc(a,b,c,d));return-1<e?a[e]:null};qc.prototype.hasListener=function(a,b){var c=t(a),d=c?a.toString():"",e=t(b);return db(this.va,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].capture!=b))return!0;return!1})};
var rc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Rd&&f.listener==b&&f.capture==!!c&&f.Ff==d)return e}return-1};var tc="closure_lm_"+(1E6*Math.random()|0),uc={},vc=0,E=function(a,b,c,d,e){if(d&&d.once)wc(a,b,c,d,e);else if(ta(b))for(var f=0;f<b.length;f++)E(a,b[f],c,d,e);else c=xc(c),a&&a[mc]?a.ob.add(String(b),c,!1,ya(d)?!!d.capture:!!d,e):yc(a,b,c,!1,d,e)},yc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ya(e)?!!e.capture:!!e,k=zc(a);k||(a[tc]=k=new qc(a));c=k.add(b,c,d,g,f);if(!c.ig){d=Ac();c.ig=d;d.src=a;d.listener=c;if(a.addEventListener)ic||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(Bc(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");vc++}},Ac=function(){var a=Cc,b=gc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},wc=function(a,b,c,d,e){if(ta(b))for(var f=0;f<b.length;f++)wc(a,b[f],c,d,e);else c=xc(c),a&&a[mc]?a.ob.add(String(b),c,!0,ya(d)?!!d.capture:!!d,e):yc(a,b,c,!0,d,e)},
Dc=function(a,b,c,d,e){if(ta(b))for(var f=0;f<b.length;f++)Dc(a,b[f],c,d,e);else d=ya(d)?!!d.capture:!!d,c=xc(c),a&&a[mc]?a.ob.remove(String(b),c,d,e):a&&(a=zc(a))&&(b=a.nh(b,c,d,e))&&Ec(b)},Ec=function(a){if(!x(a)&&a&&!a.Rd){var b=a.src;if(b&&b[mc])sc(b.ob,a);else{var c=a.type,d=a.ig;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Bc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);vc--;(c=zc(b))?(sc(c,a),0==c.ff&&(c.src=null,b[tc]=null)):pc(a)}}},
Bc=function(a){return a in uc?uc[a]:uc[a]="on"+a},Gc=function(a,b,c,d){var e=!0;if(a=zc(a))if(b=a.va[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Rd&&(f=Fc(f,d),e=e&&!1!==f)}return e},Fc=function(a,b){var c=a.listener,d=a.Ff||a.src;a.rf&&Ec(a);return c.call(d,b)},Cc=function(a,b){if(a.Rd)return!0;if(!gc){if(!b)a:{b=["window","event"];for(var c=r,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new kc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=
!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Yc&&0<=e;e--){b.currentTarget=d[e];var f=Gc(d[e],a,!0,b);c=c&&f}for(e=0;!b.Yc&&e<d.length;e++)b.currentTarget=d[e],f=Gc(d[e],a,!1,b),c=c&&f}return c}return Fc(a,new kc(b,this))},zc=function(a){a=a[tc];return a instanceof qc?a:null},Hc="__closure_events_fn_"+(1E9*Math.random()>>>0),xc=function(a){if(xa(a))return a;
a[Hc]||(a[Hc]=function(b){return a.handleEvent(b)});return a[Hc]};var Ic=function(){D.call(this);this.ob=new qc(this);this.wk=this;this.Zh=null};Ca(Ic,D);Ic.prototype[mc]=!0;Ic.prototype.addEventListener=function(a,b,c,d){E(this,a,b,c,d)};Ic.prototype.removeEventListener=function(a,b,c,d){Dc(this,a,b,c,d)};
Ic.prototype.dispatchEvent=function(a){var b,c=this.Zh;if(c)for(b=[];c;c=c.Zh)b.push(c);c=this.wk;var d=a.type||a;if(v(a))a=new jc(a,c);else if(a instanceof jc)a.target=a.target||c;else{var e=a;a=new jc(d,c);ib(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Yc&&0<=f;f--){var g=a.currentTarget=b[f];e=Jc(g,d,!0,a)&&e}a.Yc||(g=a.currentTarget=c,e=Jc(g,d,!0,a)&&e,a.Yc||(e=Jc(g,d,!1,a)&&e));if(b)for(f=0;!a.Yc&&f<b.length;f++)g=a.currentTarget=b[f],e=Jc(g,d,!1,a)&&e;return e};
Ic.prototype.H=function(){Ic.Ze.H.call(this);if(this.ob){var a=this.ob,b=0,c;for(c in a.va){for(var d=a.va[c],e=0;e<d.length;e++)++b,pc(d[e]);delete a.va[c];a.ff--}}this.Zh=null};var Jc=function(a,b,c,d){b=a.ob.va[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Rd&&g.capture==c){var k=g.listener,l=g.Ff||g.src;g.rf&&sc(a.ob,g);e=!1!==k.call(l,d)&&e}}return e&&0!=d.Zj};Ic.prototype.nh=function(a,b,c,d){return this.ob.nh(String(a),b,c,d)};
Ic.prototype.hasListener=function(a,b){return this.ob.hasListener(t(a)?String(a):void 0,b)};var Kc="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Lc=function(){};Lc.prototype.next=function(){throw Kc;};Lc.prototype.uk=function(){return this};var Mc=function(a,b){a&&a.log(Tb,b,void 0)},F=function(a,b){a&&a.log(Ub,b,void 0)},G=function(a,b){a&&a.info(b,void 0)},Nc=function(a,b){a&&a.log(Xb,b,void 0)};var Oc=function(){};Oc.prototype.Fi=null;var Qc=function(a){var b;(b=a.Fi)||(b={},Pc(a)&&(b[0]=!0,b[1]=!0),b=a.Fi=b);return b};var Rc,Sc=function(){};Ca(Sc,Oc);var Tc=function(a){return(a=Pc(a))?new ActiveXObject(a):new XMLHttpRequest},Pc=function(a){if(!a.cj&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.cj=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.cj};Rc=new Sc;var Uc=function(a,b){this.bb={};this.ia=[];this.Ma=this.M=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};h=Uc.prototype;h.Fb=function(){return this.M};h.Ja=function(){Vc(this);for(var a=[],b=0;b<this.ia.length;b++)a.push(this.bb[this.ia[b]]);return a};h.Ia=function(){Vc(this);return this.ia.concat()};h.gc=function(a){return Wc(this.bb,a)};
h.Eb=function(a){if(this===a)return!0;if(this.M!=a.Fb())return!1;var b=Xc;Vc(this);for(var c,d=0;c=this.ia[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Xc=function(a,b){return a===b};Uc.prototype.xa=function(){return 0==this.M};Uc.prototype.clear=function(){this.bb={};this.Ma=this.M=this.ia.length=0};Uc.prototype.remove=function(a){return Wc(this.bb,a)?(delete this.bb[a],this.M--,this.Ma++,this.ia.length>2*this.M&&Vc(this),!0):!1};
var Vc=function(a){if(a.M!=a.ia.length){for(var b=0,c=0;b<a.ia.length;){var d=a.ia[b];Wc(a.bb,d)&&(a.ia[c++]=d);b++}a.ia.length=c}if(a.M!=a.ia.length){var e={};for(c=b=0;b<a.ia.length;)d=a.ia[b],Wc(e,d)||(a.ia[c++]=d,e[d]=1),b++;a.ia.length=c}};h=Uc.prototype;h.get=function(a,b){return Wc(this.bb,a)?this.bb[a]:b};h.set=function(a,b){Wc(this.bb,a)||(this.M++,this.ia.push(a),this.Ma++);this.bb[a]=b};
h.addAll=function(a){if(a instanceof Uc)for(var b=a.Ia(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};h.forEach=function(a,b){for(var c=this.Ia(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Uc(this)};
h.uk=function(a){Vc(this);var b=0,c=this.Ma,d=this,e=new Lc;e.next=function(){if(c!=d.Ma)throw Error("The map has changed since the iterator was created");if(b>=d.ia.length)throw Kc;var e=d.ia[b++];return a?e:d.bb[e]};return e};var Wc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Yc=function(a){if(a.Ja&&"function"==typeof a.Ja)return a.Ja();if(v(a))return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return eb(a)},Zc=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(wa(a)||v(a))Na(a,b,c);else{if(a.Ia&&"function"==typeof a.Ia)var d=a.Ia();else if(a.Ja&&"function"==typeof a.Ja)d=void 0;else if(wa(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=fb(a);e=Yc(a);f=e.length;for(var g=0;g<f;g++)b.call(c,
e[g],d&&d[g],a)}};var bd=function(a){this.f=0;this.Yj=void 0;this.rd=this.ec=this.Ya=null;this.Df=this.ih=!1;if(a!=qa)try{var b=this;a.call(void 0,function(a){$c(b,2,a)},function(a){if(!(a instanceof ad))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(d){}$c(b,3,a)})}catch(c){$c(this,3,c)}},cd=function(){this.next=this.context=this.Id=this.Ee=this.Ic=null;this.lf=!1};cd.prototype.reset=function(){this.context=this.Id=this.Ee=this.Ic=null;this.lf=!1};
var dd=new Wa(function(){return new cd},function(a){a.reset()}),ed=function(a,b,c){var d=dd.get();d.Ee=a;d.Id=b;d.context=c;return d},fd=function(a){if(a instanceof bd)return a;var b=new bd(qa);$c(b,2,a);return b},gd=function(){return new bd(function(a,b){b("Cache is not enabled.")})},id=function(){var a,b,c=new bd(function(c,e){a=c;b=e});return new hd(c,a,b)};bd.prototype.then=function(a,b,c){return jd(this,xa(a)?a:null,xa(b)?b:null,c)};bd.prototype.then=bd.prototype.then;
bd.prototype.$goog_Thenable=!0;var kd=function(a,b){jd(a,null,b,void 0)};bd.prototype.cancel=function(a){0==this.f&&tb(function(){var b=new ad(a);ld(this,b)},this)};
var ld=function(a,b){if(0==a.f)if(a.Ya){var c=a.Ya;if(c.ec){for(var d=0,e=null,f=null,g=c.ec;g&&(g.lf||(d++,g.Ic==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.f&&1==d?ld(c,b):(f?(d=f,d.next==c.rd&&(c.rd=d),d.next=d.next.next):md(c),nd(c,e,3,b)))}a.Ya=null}else $c(a,3,b)},pd=function(a,b){a.ec||2!=a.f&&3!=a.f||od(a);a.rd?a.rd.next=b:a.ec=b;a.rd=b},jd=function(a,b,c,d){var e=ed(null,null,null);e.Ic=new bd(function(a,g){e.Ee=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Id=c?function(b){try{var e=
c.call(d,b);!t(e)&&b instanceof ad?g(b):a(e)}catch(n){g(n)}}:g});e.Ic.Ya=a;pd(a,e);return e.Ic};bd.prototype.cm=function(a){this.f=0;$c(this,2,a)};bd.prototype.dm=function(a){this.f=0;$c(this,3,a)};
var $c=function(a,b,c){if(0==a.f){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.f=1;a:{var d=c,e=a.cm,f=a.dm;if(d instanceof bd){pd(d,ed(e||qa,f||null,a));var g=!0}else{if(d)try{var k=!!d.$goog_Thenable}catch(n){k=!1}else k=!1;if(k)d.then(e,f,a),g=!0;else{if(ya(d))try{var l=d.then;if(xa(l)){qd(d,l,e,f,a);g=!0;break a}}catch(n){f.call(a,n);g=!0;break a}g=!1}}}g||(a.Yj=c,a.f=b,a.Ya=null,od(a),3!=b||c instanceof ad||rd(a,c))}},qd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=
!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(l){k(l)}},od=function(a){a.ih||(a.ih=!0,tb(a.Yk,a))},md=function(a){var b=null;a.ec&&(b=a.ec,a.ec=b.next,b.next=null);a.ec||(a.rd=null);return b};bd.prototype.Yk=function(){for(var a;a=md(this);)nd(this,a,this.f,this.Yj);this.ih=!1};
var nd=function(a,b,c,d){if(3==c&&b.Id&&!b.lf)for(;a&&a.Df;a=a.Ya)a.Df=!1;if(b.Ic)b.Ic.Ya=null,sd(b,c,d);else try{b.lf?b.Ee.call(b.context):sd(b,c,d)}catch(e){td.call(null,e)}dd.put(b)},sd=function(a,b,c){2==b?a.Ee.call(a.context,c):a.Id&&a.Id.call(a.context,c)},rd=function(a,b){a.Df=!0;tb(function(){a.Df&&td.call(null,b)})},td=jb,ad=function(a){Ga.call(this,a)};Ca(ad,Ga);ad.prototype.name="cancel";var hd=function(a,b,c){this.Ll=a;this.resolve=b;this.reject=c};var ud=function(a,b,c){if(xa(a))c&&(a=Ba(a,c));else if(a&&"function"==typeof a.handleEvent)a=Ba(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,wd=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var H=function(a){Ic.call(this);this.headers=new Uc;this.Mg=a||null;this.bc=!1;this.Lg=this.u=null;this.sj=this.ze="";this.Lb=0;this.ye="";this.Mc=this.sh=this.Jf=this.fh=!1;this.Yb=0;this.pa=null;this.Xe="";this.Gg=this.Kl=this.$d=!1};Ca(H,Ic);H.prototype.wa=C("goog.net.XhrIo");var xd=/^https?$/i,yd=["POST","PUT"],zd=function(a){a.Xe="arraybuffer"};
H.prototype.send=function(a,b,c,d){if(this.u)throw Error("[goog.net.XhrIo] Object is active with another request="+this.ze+"; newUri="+a);b=b?b.toUpperCase():"GET";this.ze=a;this.ye="";this.Lb=0;this.sj=b;this.fh=!1;this.bc=!0;this.u=this.ah();this.Lg=this.Mg?Qc(this.Mg):Qc(Rc);this.u.onreadystatechange=Ba(this.Jj,this);this.Kl&&"onprogress"in this.u&&(this.u.onprogress=Ba(function(a){this.Ij(a,!0)},this),this.u.upload&&(this.u.upload.onprogress=Ba(this.Ij,this)));try{Nc(this.wa,Ad(this,"Opening Xhr")),
this.sh=!0,this.u.open(b,String(a),!0),this.sh=!1}catch(f){Nc(this.wa,Ad(this,"Error opening Xhr: "+f.message));Bd(this,f);return}a=c||"";var e=this.headers.clone();d&&Zc(d,function(a,b){e.set(b,a)});d=Ra(e.Ia());c=r.FormData&&a instanceof r.FormData;!(0<=La(yd,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.u.setRequestHeader(b,a)},this);this.Xe&&(this.u.responseType=this.Xe);"withCredentials"in this.u&&this.u.withCredentials!==this.$d&&
(this.u.withCredentials=this.$d);try{Cd(this),0<this.Yb&&(this.Gg=Dd(this.u),Nc(this.wa,Ad(this,"Will abort after "+this.Yb+"ms if incomplete, xhr2 "+this.Gg)),this.Gg?(this.u.timeout=this.Yb,this.u.ontimeout=Ba(this.lk,this)):this.pa=ud(this.lk,this.Yb,this)),Nc(this.wa,Ad(this,"Sending request")),this.Jf=!0,this.u.send(a),this.Jf=!1}catch(f){Nc(this.wa,Ad(this,"Send error: "+f.message)),Bd(this,f)}};
var Dd=function(a){return Ab&&Kb(9)&&x(a.timeout)&&t(a.ontimeout)},Qa=function(a){return"content-type"==a.toLowerCase()};H.prototype.ah=function(){return this.Mg?Tc(this.Mg):Tc(Rc)};H.prototype.lk=function(){"undefined"!=typeof pa&&this.u&&(this.ye="Timed out after "+this.Yb+"ms, aborting",this.Lb=8,Nc(this.wa,Ad(this,this.ye)),this.dispatchEvent("timeout"),this.abort(8))};
var Bd=function(a,b){a.bc=!1;a.u&&(a.Mc=!0,a.u.abort(),a.Mc=!1);a.ye=b;a.Lb=5;Ed(a);Fd(a)},Ed=function(a){a.fh||(a.fh=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};H.prototype.abort=function(a){this.u&&this.bc&&(Nc(this.wa,Ad(this,"Aborting")),this.bc=!1,this.Mc=!0,this.u.abort(),this.Mc=!1,this.Lb=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fd(this))};H.prototype.H=function(){this.u&&(this.bc&&(this.bc=!1,this.Mc=!0,this.u.abort(),this.Mc=!1),Fd(this,!0));H.Ze.H.call(this)};
H.prototype.Jj=function(){this.fe||(this.sh||this.Jf||this.Mc?Gd(this):this.yl())};H.prototype.yl=function(){Gd(this)};
var Gd=function(a){if(a.bc&&"undefined"!=typeof pa)if(a.Lg[1]&&4==Hd(a)&&2==Id(a))Nc(a.wa,Ad(a,"Local request error detected and ignored"));else if(a.Jf&&4==Hd(a))ud(a.Jj,0,a);else if(a.dispatchEvent("readystatechange"),4==Hd(a)){Nc(a.wa,Ad(a,"Request complete"));a.bc=!1;try{var b=Id(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.ze).match(vd)[1]||null;if(!f&&r.self&&r.self.location){var g=
r.self.location.protocol;f=g.substr(0,g.length-1)}e=!xd.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Lb=6;try{var k=2<Hd(a)?a.u.statusText:""}catch(l){Nc(a.wa,"Can not get status: "+l.message),k=""}a.ye=k+" ["+Id(a)+"]";Ed(a)}}finally{Fd(a)}}};H.prototype.Ij=function(a,b){this.dispatchEvent(Jd(a,"progress"));this.dispatchEvent(Jd(a,b?"downloadprogress":"uploadprogress"))};
var Jd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Fd=function(a,b){if(a.u){Cd(a);var c=a.u,d=a.Lg[0]?qa:null;a.u=null;a.Lg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Mc(a.wa,"Problem encountered resetting onreadystatechange: "+e.message)}}},Cd=function(a){a.u&&a.Gg&&(a.u.ontimeout=null);a.pa&&(r.clearTimeout(a.pa),a.pa=null)};H.prototype.qe=function(){return!!this.u};
var Hd=function(a){return a.u?a.u.readyState:0},Id=function(a){try{return 2<Hd(a)?a.u.status:-1}catch(b){return-1}},Kd=function(a){try{if(!a.u)return null;if("response"in a.u)return a.u.response;switch(a.Xe){case "":case "text":return a.u.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.u)return a.u.mozResponseArrayBuffer}Mc(a.wa,"Response type "+a.Xe+" is not supported on this browser");return null}catch(b){return Nc(a.wa,"Can not get response: "+b.message),null}};
H.prototype.getResponseHeader=function(a){if(this.u&&4==Hd(this))return a=this.u.getResponseHeader(a),null===a?void 0:a};H.prototype.getAllResponseHeaders=function(){return this.u&&4==Hd(this)?this.u.getAllResponseHeaders()||"":""};var Ad=function(a,b){return b+" ["+a.sj+" "+a.ze+" "+Id(a)+"]"};var Ld=function(a){return Xa(a,"audio/")},Md=function(a){return Xa(a,"video/")},Nd=/dv(he|av).[s|d|p][e|t|w][n|r|h|b][a|h]?[e|t|w]?/,Od=function(a){var b=!1;a=a.split(",");for(var c=0;c<a.length;c++){if(a[c].match(Nd))return!1;0===a[c].indexOf("hev1.2")&&(b=!0)}return b},Pd=function(a){if(!a)return 100;switch(a.code){case MediaError.MEDIA_ERR_ABORTED:return 101;case MediaError.MEDIA_ERR_NETWORK:return 103;case MediaError.MEDIA_ERR_DECODE:return 102;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return 104;
default:return 100}};var I={},Qd=(I["application/ttml+xml"]=1,I["text/vtt"]=2,I["text/mp4"]=3,I["audio/mp4"]=4,I["video/mp4"]=5,I["video/mp2t"]=6,I["audio/webm"]=7,I["video/webm"]=8,I["application/x-mpegurl"]=9,I["application/vnd.apple.mpegurl"]=10,I["application/dash+xml"]=11,I["application/vnd.ms-sstr+xml"]=12,I["text/cea608"]=13,I["video/ogg"]=14,I["audio/aac"]=15,I["audio/mp3"]=16,I["audio/ogg"]=17,I["audio/wav"]=18,I["image/gif"]=19,I["image/jpg"]=20,I["image/png"]=21,I["text/mp2t"]=22,I["application/mp4"]=23,I);
function Rd(a){if(a){if(Md(a))return"Video";if(Ld(a))return"Audio"}}function Sd(a){switch(a){case "webvtt":return 1;case "ttml":return 2;case "cea608":return 3}return 0}
function Td(a){switch(a){case "mp4a.a6":return 1;case "ec-3":return 2;case "mp4a.40.2":return 3;case "mp4a.40.5":return 4;case "mp4a.67":return 5;case "avc1.4D40":return 6;case "avc1.4D401E":return 7;case "mp4a.a5":return 8;case "ac-3":return 9;case "vorbis":return 10;case "opus":return 11;case "vp8":return 12;case "vp9":return 13}return 0==a.lastIndexOf("avc1",0)?11:0==a.lastIndexOf("mp4a.40",0)?12:0}
function Ud(a,b){switch(b){case 1:switch(a){case "clearkey":return 101;case "widevine":return 102;case "playready":return 103}break;case 2:switch(a){case "widevine":return 201;case "aes_128":return 202;case "aes_128_ckp":return 203}break;case 3:switch(a){case "playready":return 301}}return 0}var Vd=function(a){a.split(",").forEach(function(a){B("Cast.MPL.Codec",Td(a))})},Wd=function(a,b){B("Cast.MPL.ProtocolProtection",Ud(a,b))};var Xd=function(a,b,c){this.type=a;this.key=b;this.data=void 0===c?null:c},Yd=C("castx.common.cache"),Zd=function(){this.ka=cast.__platform__&&cast.__platform__.cache;this.Gc=new Ic;this.Qd=0;this.Qd=this.isEnabled()?this.ka.capacity():0};Zd.prototype.isEnabled=function(){return!!this.ka};var $d=function(a){return!a.isEnabled()||512E3>a.Qd};h=Zd.prototype;h.Gf=function(a){return this.isEnabled()&&this.Qd>=a};h.contains=function(a){return this.isEnabled()?this.ka.contains(a):!1};
h.insert=function(a,b){var c=this;return new Promise(function(d,e){c.isEnabled()?c.Gf(b.byteLength)?(G(Yd,"Cache item was inserted"),c.ka.insert(a,b).then(function(){c.Gc.dispatchEvent(new Xd("INSERT",a,b));c.Qd-=b.byteLength;d()},function(d){c.Gc.dispatchEvent(new Xd("ERROR",a,b));e(d)})):(c.Gc.dispatchEvent(new Xd("OVER_CAPACITY",a,b)),F(Yd,"Insufficient cache space - "+b.byteLength),e("Insufficient cache space for "+a)):(Mc(Yd,"Cache is not enabled"),e("Cache is not enabled"))})};
h.get=function(a){var b=this;return new Promise(function(c,d){b.isEnabled()?b.ka.get(a).then(function(d){G(Yd,"Cache item was fetched");b.Gc.dispatchEvent(new Xd("FETCH",a,d));c(d)},function(c){b.Gc.dispatchEvent(new Xd("NOT_FOUND",a));d(c)}):(Mc(Yd,"Cache is not enabled"),d("Cache is not enabled"))})};h.addEventListener=function(a,b){this.Gc.addEventListener(a,b)};h.removeEventListener=function(a,b){this.Gc.removeEventListener(a,b)};var ae=function(){this.Xj=y()},be=null;ae.prototype.set=function(a){this.Xj=a};ae.prototype.reset=function(){this.set(y())};ae.prototype.get=function(){return this.Xj};var ce=function(a){this.Gl=a||"";be||(be=new ae);this.$l=be};h=ce.prototype;h.Ai=!0;h.dk=!0;h.Xl=!0;h.Wl=!0;h.ek=!1;h.Yl=!1;var de=function(a){return 10>a?"0"+a:String(a)},ee=function(a,b){a=(a.Wd-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},fe=function(a){ce.call(this,a)};Ca(fe,ce);var ge=function(){this.Nl=Ba(this.xk,this);this.yf=new fe;this.yf.dk=!1;this.yf.ek=!1;this.fj=this.yf.Ai=!1;this.Zk={}};
ge.prototype.xk=function(a){if(!this.Zk[a.uj]){var b=this.yf;var c=[];c.push(b.Gl," ");if(b.dk){var d=new Date(a.Wd);c.push("[",de(d.getFullYear()-2E3)+de(d.getMonth()+1)+de(d.getDate())+" "+de(d.getHours())+":"+de(d.getMinutes())+":"+de(d.getSeconds())+"."+de(Math.floor(d.getMilliseconds()/10)),"] ")}b.Xl&&c.push("[",ee(a,b.$l.get()),"s] ");b.Wl&&c.push("[",a.uj,"] ");b.Yl&&c.push("[",a.Sc.name,"] ");c.push(a.rl);b.ek&&(d=a.hh)&&c.push("\n",d instanceof Error?d.message:d.toString());b.Ai&&c.push("\n");
b=c.join("");if(c=he)switch(a.Sc){case Sb:ie(c,"info",b);break;case Tb:ie(c,"error",b);break;case Ub:ie(c,"warn",b);break;default:ie(c,"log",b)}}};var je=null,he=r.console,ie=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var ke=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,le=function(a,b,c,d,e,f){v(a)?(this.nd="y"==a?b:0,this.Uc="m"==a?b:0,this.hc="d"==a?b:0,this.mc="h"==a?b:0,this.rc="n"==a?b:0,this.wc="s"==a?b:0):(this.nd=a||0,this.Uc=b||0,this.hc=c||0,this.mc=d||0,this.rc=e||0,this.wc=f||0)};le.prototype.Eb=function(a){return a.nd==this.nd&&a.Uc==this.Uc&&a.hc==this.hc&&a.mc==this.mc&&a.rc==this.rc&&a.wc==this.wc};
le.prototype.clone=function(){return new le(this.nd,this.Uc,this.hc,this.mc,this.rc,this.wc)};le.prototype.add=function(a){this.nd+=a.nd;this.Uc+=a.Uc;this.hc+=a.hc;this.mc+=a.mc;this.rc+=a.rc;this.wc+=a.wc};var me=function(a,b){this.pj=a;this.Hg=b};me.prototype.getKey=function(){return this.pj};me.prototype.clone=function(){return new me(this.pj,this.Hg)};var ne=function(a){this.Xa=[];if(a)a:{if(a instanceof ne){var b=a.Ia();a=a.Ja();if(0>=this.Fb()){for(var c=this.Xa,d=0;d<b.length;d++)c.push(new me(b[d],a[d]));break a}}else b=fb(a),a=eb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}};h=ne.prototype;h.insert=function(a,b){var c=this.Xa;c.push(new me(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
h.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Sa(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.Hg}};h.bi=function(){var a=this.Xa;if(0!=a.length)return a[0].Hg};h.Ja=function(){for(var a=this.Xa,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].Hg);return b};
h.Ia=function(){for(var a=this.Xa,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};h.gc=function(a){return Pa(this.Xa,function(b){return b.getKey()==a})};h.clone=function(){return new ne(this)};h.Fb=function(){return this.Xa.length};h.xa=function(){return 0==this.Xa.length};h.clear=function(){Sa(this.Xa)};var oe=function(){ne.call(this)};Ca(oe,ne);oe.prototype.enqueue=function(a,b){this.insert(a,b)};oe.prototype.wd=function(){return this.remove()};var pe=function(){this.Pa=[];this.ib=[]},qe=function(a){0==a.Pa.length&&(a.Pa=a.ib,a.Pa.reverse(),a.ib=[])};h=pe.prototype;h.enqueue=function(a){this.ib.push(a)};h.wd=function(){qe(this);return this.Pa.pop()};h.bi=function(){qe(this);var a=this.Pa;return a[a.length-1]};h.Fb=function(){return this.Pa.length+this.ib.length};h.xa=function(){return 0==this.Pa.length&&0==this.ib.length};h.clear=function(){this.Pa=[];this.ib=[]};h.contains=function(a){return 0<=La(this.Pa,a)||0<=La(this.ib,a)};
h.remove=function(a){var b=this.Pa;var c=Ma(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ta(this.ib,a)};h.Ja=function(){for(var a=[],b=this.Pa.length-1;0<=b;--b)a.push(this.Pa[b]);var c=this.ib.length;for(b=0;b<c;++b)a.push(this.ib[b]);return a};var J=function(a,b){this.Db=this.kd=this.Pb="";this.Od=null;this.Lc=this.vb="";this.Qa=this.ll=!1;if(a instanceof J){this.Qa=t(b)?b:a.Qa;re(this,a.Pb);var c=a.kd;se(this);this.kd=c;c=a.Db;se(this);this.Db=c;te(this,a.Od);c=a.vb;se(this);this.vb=c;ue(this,a.eb.clone());a=a.Lc;se(this);this.Lc=a}else a&&(c=String(a).match(vd))?(this.Qa=!!b,re(this,c[1]||"",!0),a=c[2]||"",se(this),this.kd=ve(a),a=c[3]||"",se(this),this.Db=ve(a,!0),te(this,c[4]),a=c[5]||"",se(this),this.vb=ve(a,!0),ue(this,c[6]||"",!0),
a=c[7]||"",se(this),this.Lc=ve(a)):(this.Qa=!!b,this.eb=new we(null,this.Qa))};
J.prototype.toString=function(){var a=[],b=this.Pb;b&&a.push(xe(b,ye,!0),":");var c=this.Db;if(c||"file"==b)a.push("//"),(b=this.kd)&&a.push(xe(b,ye,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Od,null!=c&&a.push(":",String(c));if(c=this.vb)this.Db&&"/"!=c.charAt(0)&&a.push("/"),a.push(xe(c,"/"==c.charAt(0)?ze:Ae,!0));(c=this.eb.toString())&&a.push("?",c);(c=this.Lc)&&a.push("#",xe(c,Be));return a.join("")};
J.prototype.resolve=function(a){var b=this.clone(),c=!!a.Pb;c?re(b,a.Pb):c=!!a.kd;if(c){var d=a.kd;se(b);b.kd=d}else c=!!a.Db;c?(d=a.Db,se(b),b.Db=d):c=null!=a.Od;d=a.vb;if(c)te(b,a.Od);else if(c=!!a.vb){if("/"!=d.charAt(0))if(this.Db&&!this.vb)d="/"+d;else{var e=b.vb.lastIndexOf("/");-1!=e&&(d=b.vb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&
f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(se(b),b.vb=d):c=""!==a.eb.toString();c?ue(b,a.eb.clone()):c=!!a.Lc;c&&(a=a.Lc,se(b),b.Lc=a);return b};J.prototype.clone=function(){return new J(this)};
var re=function(a,b,c){se(a);a.Pb=c?ve(b,!0):b;a.Pb&&(a.Pb=a.Pb.replace(/:$/,""))},te=function(a,b){se(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Od=b}else a.Od=null},ue=function(a,b,c){se(a);b instanceof we?(a.eb=b,a.eb.ki(a.Qa)):(c||(b=xe(b,Ce)),a.eb=new we(b,a.Qa))};J.prototype.getQuery=function(){return this.eb.toString()};J.prototype.removeParameter=function(a){se(this);this.eb.remove(a);return this};
var se=function(a){if(a.ll)throw Error("Tried to modify a read-only Uri");};J.prototype.ki=function(a){this.Qa=a;this.eb&&this.eb.ki(a)};
var De=function(a){return a instanceof J?a.clone():new J(a,void 0)},ve=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},xe=function(a,b,c){return v(a)?(a=encodeURI(a).replace(b,Ee),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Ee=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},ye=/[#\/\?@]/g,Ae=/[#\?:]/g,ze=/[#\?]/g,Ce=/[#\?@]/g,Be=/#/g,we=function(a,b){this.M=this.Z=null;this.Ha=a||null;this.Qa=!!b},Fe=function(a){a.Z||
(a.Z=new Uc,a.M=0,a.Ha&&wd(a.Ha,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};h=we.prototype;h.Fb=function(){Fe(this);return this.M};h.add=function(a,b){Fe(this);this.Ha=null;a=Ge(this,a);var c=this.Z.get(a);c||this.Z.set(a,c=[]);c.push(b);this.M+=1;return this};h.remove=function(a){Fe(this);a=Ge(this,a);return this.Z.gc(a)?(this.Ha=null,this.M-=this.Z.get(a).length,this.Z.remove(a)):!1};h.clear=function(){this.Z=this.Ha=null;this.M=0};h.xa=function(){Fe(this);return 0==this.M};
h.gc=function(a){Fe(this);a=Ge(this,a);return this.Z.gc(a)};h.forEach=function(a,b){Fe(this);this.Z.forEach(function(c,d){Na(c,function(c){a.call(b,c,d,this)},this)},this)};h.Ia=function(){Fe(this);for(var a=this.Z.Ja(),b=this.Z.Ia(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.Ja=function(a){Fe(this);var b=[];if(v(a))this.gc(a)&&(b=Ua(b,this.Z.get(Ge(this,a))));else{a=this.Z.Ja();for(var c=0;c<a.length;c++)b=Ua(b,a[c])}return b};
h.set=function(a,b){Fe(this);this.Ha=null;a=Ge(this,a);this.gc(a)&&(this.M-=this.Z.get(a).length);this.Z.set(a,[b]);this.M+=1;return this};h.get=function(a,b){if(!a)return b;a=this.Ja(a);return 0<a.length?String(a[0]):b};
h.toString=function(){if(this.Ha)return this.Ha;if(!this.Z)return"";for(var a=[],b=this.Z.Ia(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Ja(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.Ha=a.join("&")};h.clone=function(){var a=new we;a.Ha=this.Ha;this.Z&&(a.Z=this.Z.clone(),a.M=this.M);return a};var Ge=function(a,b){b=String(b);a.Qa&&(b=b.toLowerCase());return b};
we.prototype.ki=function(a){a&&!this.Qa&&(Fe(this),this.Ha=null,this.Z.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),this.remove(b),0<a.length&&(this.Ha=null,this.Z.set(Ge(this,b),Va(a)),this.M+=a.length))},this));this.Qa=a};we.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Zc(arguments[b],function(a,b){this.add(b,a)},this)};var He=null,Ie=null,Ke=function(a){var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;Je(a,function(a){d[e++]=a});return d.subarray(0,e)},Je=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=Ie[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}Le();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<
6&192|k))}},Le=function(){if(!He){He={};Ie={};for(var a=0;65>a;a++)He[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Ie[He[a]]=a,62<=a&&(Ie["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var Me=0,Ne=0,Oe=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ke(a);Ia("Type not convertible to Uint8Array.");return new Uint8Array(0)};var Pe=function(){this.G=[]};Pe.prototype.length=function(){return this.G.length};Pe.prototype.end=function(){var a=this.G;this.G=[];return a};var Qe=function(a,b){for(;127<b;)a.G.push(b&127|128),b>>>=7;a.G.push(b)},Re=function(a,b){if(0<=b)Qe(a,b);else{for(var c=0;9>c;c++)a.G.push(b&127|128),b>>=7;a.G.push(1)}};h=Pe.prototype;h.Kg=function(a){this.G.push(a>>>0&255)};h.md=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255)};
h.h=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255);this.G.push(a>>>16&255);this.G.push(a>>>24&255)};h.xi=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;Me=b;Ne=a;this.h(Me);this.h(Ne)};h.sk=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255);this.G.push(a>>>16&255);this.G.push(a>>>24&255)};
h.vi=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?Me=Ne=0:(Ne=0,Me=2147483648);else if(isNaN(b))Ne=0,Me=2147483647;else if(3.4028234663852886E38<b)Ne=0,Me=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),Ne=0,Me=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;Ne=0;Me=(a<<31|c+127<<23|b)>>>0}this.h(Me)};h.ti=function(a){this.G.push(a?1:0)};h.ui=function(a){Re(this,a)};
h.Cc=function(a){this.G.push.apply(this.G,a)};h.ld=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(128>c)this.G.push(c);else if(2048>c)this.G.push(c>>6|192),this.G.push(c&63|128);else if(65536>c)if(55296<=c&&56319>=c&&b+1<a.length){var d=a.charCodeAt(b+1);56320<=d&&57343>=d&&(c=1024*(c-55296)+d-56320+65536,this.G.push(c>>18|240),this.G.push(c>>12&63|128),this.G.push(c>>6&63|128),this.G.push(c&63|128),b++)}else this.G.push(c>>12|224),this.G.push(c>>6&63|128),this.G.push(c&63|128)}};var Se=function(){this.pd=[];this.zb=0;this.ba=new Pe},Te=function(a,b){Qe(a.ba,8*b+2);b=a.ba.end();a.pd.push(b);a.zb+=b.length;b.push(a.zb);return b},Ue=function(a,b){var c=b.pop();for(c=a.zb+a.ba.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.zb++;b.push(c);a.zb++};Se.prototype.reset=function(){this.pd=[];this.ba.end();this.zb=0};var Ve=function(a){for(var b=new Uint8Array(a.zb+a.ba.length()),c=a.pd,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.ba.end();b.set(c,e);a.pd=[b];return b};
h=Se.prototype;h.sk=function(a,b){null!=b&&null!=b&&(Qe(this.ba,8*a),Re(this.ba,b))};h.h=function(a,b){null!=b&&null!=b&&(Qe(this.ba,8*a),Qe(this.ba,b))};h.xi=function(){};h.vi=function(a,b){null!=b&&(Qe(this.ba,8*a+5),this.ba.vi(b))};h.ti=function(a,b){null!=b&&(Qe(this.ba,8*a),this.ba.ti(b))};h.ui=function(a,b){null!=b&&(Qe(this.ba,8*a),Re(this.ba,b))};h.ld=function(a,b){null!=b&&(a=Te(this,a),this.ba.ld(b),Ue(this,a))};
h.Cc=function(a,b){null!=b&&(b=Oe(b),Qe(this.ba,8*a+2),Qe(this.ba,b.length),a=this.ba.end(),this.pd.push(a),this.pd.push(b),this.zb+=a.length+b.length)};var We=function(a,b,c){if(null!=c)for(var d=0;d<c.length;d++)a.Cc(b,c[d])},Xe=function(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=Te(a,b);d(c[e],a);Ue(a,f)}};var Ye=function(){},Ze="function"==typeof Uint8Array,cf=function(a,b,c,d,e){a.ha=null;b||(b=c?[c]:[]);a.nm=c?String(c):void 0;a.od=0===c?-1:0;a.Ga=b;a:{if(b=a.Ga.length)if(--b,(c=a.Ga[b])&&"object"==typeof c&&!ta(c)&&!(Ze&&c instanceof Uint8Array)){a.Nd=b-a.od;a.Ba=c;break a}a.Nd=Number.MAX_VALUE}a.jm={};if(d)for(b=0;b<d.length;b++)c=d[b],c<a.Nd?(c+=a.od,a.Ga[c]=a.Ga[c]||$e):(af(a),a.Ba[c]=a.Ba[c]||$e);if(e&&e.length)for(b=0;b<e.length;b++)bf(a,e[b])},$e=Object.freeze?Object.freeze([]):[],af=function(a){var b=
a.Nd+a.od;a.Ga[b]||(a.Ba=a.Ga[b]={})},K=function(a,b){if(b<a.Nd){b+=a.od;var c=a.Ga[b];return c===$e?a.Ga[b]=[]:c}if(a.Ba)return c=a.Ba[b],c===$e?a.Ba[b]=[]:c},df=function(a,b){if(b<a.Nd){b+=a.od;var c=a.Ga[b];return c===$e?a.Ga[b]=[]:c}c=a.Ba[b];return c===$e?a.Ba[b]=[]:c},ef=function(a){if(null==a||a instanceof Uint8Array)return a;if(v(a))return Ke(a);Ia("Cannot coerce to Uint8Array: "+sa(a));return null},gf=function(a){ff(a);return!a.length||a[0]instanceof Uint8Array?a:Oa(a,ef)},ff=function(a){if(a&&
1<a.length){var b=sa(a[0]);Na(a,function(a){sa(a)!=b&&Ia("Inconsistent type in JSPB repeated field array. Got "+sa(a)+" expected "+b)})}},hf=function(a,b,c){b<a.Nd?a.Ga[b+a.od]=c:(af(a),a.Ba[b]=c)},kf=function(a,b,c){var d=bf(a,jf[0]);d&&d!==b&&void 0!==c&&(a.ha&&d in a.ha&&(a.ha[d]=void 0),hf(a,d,void 0));hf(a,b,c)},bf=function(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=K(a,f);null!=g&&(c=f,d=g,hf(a,f,void 0))}return c?(hf(a,c,d),c):0},lf=function(a,b,c){a.ha||(a.ha={});if(!a.ha[c]){for(var d=
df(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.ha[c]=e}b=a.ha[c];b==$e&&(b=a.ha[c]=[]);return b},mf=function(a){if(a.ha)for(var b in a.ha){var c=a.ha[b];if(ta(c))for(var d=0;d<c.length;d++)c[d]&&c[d].hd();else c&&c.hd()}};Ye.prototype.hd=function(){mf(this);return this.Ga};Ye.prototype.toString=function(){mf(this);return this.Ga.toString()};
Ye.prototype.getExtension=function(a){if(this.Ba){this.ha||(this.ha={});var b=a.km;if(a.lm){if(a.kl())return this.ha[b]||(this.ha[b]=Oa(this.Ba[b]||[],function(b){return new a.Lk(b)})),this.ha[b]}else if(a.kl())return!this.ha[b]&&this.Ba[b]&&(this.ha[b]=new a.Lk(this.Ba[b])),this.ha[b];return this.Ba[b]}};Ye.prototype.clone=function(){return new this.constructor(nf(this.hd()))};
var nf=function(a){if(ta(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?nf(d):d)}return b}if(Ze&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?nf(d):d);return b};var pf=function(a){cf(this,a,0,of,null)};Ca(pf,Ye);var of=[2,13,14];
pf.prototype.og=function(){var a=new Se;var b=gf(df(this,2));0<b.length&&We(a,2,b);b=K(this,4);null!=b&&a.Cc(4,b);b=K(this,7);null!=b&&a.h(7,b);b=K(this,9);null!=b&&a.h(9,b);b=K(this,10);null!=b&&a.h(10,b);b=K(this,11);null!=b&&a.ui(11,b);b=K(this,12);null!=b&&a.h(12,b);b=gf(df(this,13));0<b.length&&We(a,13,b);b=lf(this,qf,14);0<b.length&&Xe(a,14,b,rf);b=K(this,1);null!=b&&a.ui(1,b);b=K(this,3);null!=b&&a.ld(3,b);b=K(this,5);null!=b&&a.ld(5,b);b=K(this,6);null!=b&&a.ld(6,b);b=K(this,8);null!=b&&a.Cc(8,
b);return Ve(a)};var qf=function(a){cf(this,a,0,null,null)};Ca(qf,Ye);qf.prototype.og=function(){var a=new Se;rf(this,a);return Ve(a)};var rf=function(a,b){var c=K(a,1);null!=c&&b.Cc(1,c);c=K(a,2);null!=c&&b.Cc(2,c);c=K(a,3);null!=c&&b.Cc(3,c);c=K(a,4);null!=c&&b.Cc(4,c)};qf.prototype.getKey=function(){return K(this,3)};var tf=function(a){cf(this,a,"scs.sc",sf,null)};Ca(tf,Ye);var sf=[1,2];tf.prototype.og=function(){var a=new Se;var b=df(this,1);if(0<b.length&&null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(Qe(d.ba,8),Re(d.ba,e))}b=lf(this,uf,2);0<b.length&&Xe(a,2,b,vf);return Ve(a)};tf.mm="scs.sc";var uf=function(a){cf(this,a,0,null,jf)};Ca(uf,Ye);var jf=[[2,3,4,5]];uf.prototype.og=function(){var a=new Se;vf(this,a);return Ve(a)};
var vf=function(a,b){var c=K(a,1);null!=c&&b.ld(1,c);c=K(a,2);null!=c&&b.ld(2,c);c=K(a,3);null!=c&&b.sk(3,c);c=K(a,4);null!=c&&b.vi(4,c);c=K(a,5);null!=c&&b.ti(5,c)};h=uf.prototype;h.getName=function(){return K(this,1)};h.getStringValue=function(){return K(this,2)};h.setStringValue=function(a){kf(this,2,a)};h.getFloatValue=function(){var a=K(this,4);return null==a?a:+a};h.setFloatValue=function(a){kf(this,4,a)};z("cast.player.api.VERSION","1.0.0");z("cast.player.api.ErrorCode",{UNKNOWN:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3,MANIFEST:4});var wf=["cast.player.api.ErrorCode.UNKNOWN","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK","cast.player.api.ErrorCode.MANIFEST"];z("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1,PACKED_AUDIO_AC3:2,hm:3,MPEG_LAYER_3:4,TS_AAC:5,PACKED_AUDIO_E_AC3:6,FMP4:7});
z("cast.player.api.HlsVideoSegmentFormat",{MPEG2_TS:0,FMP4:1});z("cast.player.api.CaptionsType",{UNKNOWN:"unknown",WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608",STPP:"stpp"});z("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine",AES_128:"aes_128",AES_128_CKP:"aes_128_ckp"});z("cast.player.api.LoggerLevel",{DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity});z("cast.player.api.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});
var xf=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.setResponse=null;this.interval={time:0,duration:0};this.vc=null};z("cast.player.api.RequestInfo",xf);var yf=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};z("cast.player.api.RequestStatus",yf);
var zf=function(a,b,c,d,e,f){this.codecs=a;this.mimeType=b;this.bitrates=c;this.language=d;this.name=e;this.role=f};z("cast.player.api.StreamInfo",zf);window.VTTCue=window.VTTCue||window.TextTrackCue;var Af=function(a){ec().li($b(a))};z("cast.player.api.setLoggerLevel",Af);je||(je=new ge);if(je){var Bf=je;if(1!=Bf.fj){var Cf=ec(),Df=Bf.Nl;Cf.je||(Cf.je=[]);Cf.je.push(Df);Bf.fj=!0}};var Ef=function(a){this.url=a;this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateManifestRequestInfo=null};z("cast.player.api.HostBase",Ef);var Ff={clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},Gf=C("cast.player.common"),Hf=function(a,b,c){return"caption"==a||Xa(b,"text/")||"application/ttml+xml"===b||"application/mp4"==b&&"stpp"==c},Jf=function(a,b){b&&(b=new Uint8Array(new ArrayBuffer(16)),b.set(a),If(b.subarray(0,4)),If(b.subarray(4,6)),If(b.subarray(6,8)),a=b);this.hf=a};Jf.prototype.Eb=function(a){if(!a)return!1;var b=this.hf;a=a.hf;for(var c=0;16>c;c++)if(b[c]!=a[c])return!1;return!0};
Jf.prototype.hd=function(){return this.hf};Jf.prototype.toString=function(){for(var a="",b=0;b<this.hf.length;b++)a+=("0"+this.hf[b].toString(16)).slice(-2);return a};
var If=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},Kf=new Jf([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Lf=new Jf([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),Mf=new Jf([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),Nf=function(a,b){return MediaSource.isTypeSupported(a+'; codecs="'+b+'"')},Of=function(a){return"mp4a.a6"==a||"ec-3"==a},Pf=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a},Qf=function(a){for(var b=
a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},Rf=function(a){if(cast.__platform__&&cast.__platform__.queryPlatformValue)return cast.__platform__.queryPlatformValue(a)},Sf=function(a){switch(a){case 2:return"mp4a.a5";case 6:return"mp4a.a6";case 4:return"";default:return"mp4a.40.2"}},Tf=function(a){a=a.toLowerCase();return!a.includes(",")&&!!a.match(/^(mp4a|[ae]c-3)/)},Uf=function(a){a=a.split(",");for(var b=0;b<a.length;b++){var c=a[b].match(Nd);if(c&&!Nf("video/mp4",
c[0])){G(Gf,c[0]+" removed");a.splice(b,1);break}if(c=a[b]){var d=c.split(".");2!=d.length||"avc1"!=d[0]&&"avc3"!=d[0]||(c=d[0]+"."+d[1].toUpperCase())}a[b]=c}return a.join(",")},Vf=cast.__platform__&&cast.__platform__.display,Wf=cast.__platform__&&cast.__platform__.canDisplayType,Xf=Rf("log-level-mpl");Af(t(Xf)?parseInt(Xf,10):0);var Yf={"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,yj:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,yj:20}},Zf=function(a,b){Yf[a]?Da()&&cast.__platform__.metrics.logHistogramValueToUma(a,b,Yf[a].min,Yf[a].max,Yf[a].yj):F(Gf,"Invalid histogram name")};var $f=function(a){Ef.call(this,a.url);this.initialBandwidth=3145728;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;this.segmentRequestRetryLimit=3;this.useSingleKeySession=!1;this.mediaElement=a.mediaElement||null;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.decodeContentId=!0===a.decodeContentId;this.protectionSystem=a.protectionSystem||null;this.licenseCustomData=a.licenseCustomData||null;this.zi=1==a.aggressiveStallHandling;this.Vk=1==a.disableSourceBufferTimeAdjust;
this.rh=1==a.hlsContentKeyProtection;this.skipSegmentOnNetworkFailure=1==a.skipSegmentOnNetworkFailure;this.preferSequenceNumberForPlaylistMatching=1==a.preferSequenceNumberForPlaylistMatching;this.ignoreTtmlPositionInfo=1==a.ignoreTtmlPositionInfo;this.useRelativeCueTimestamps=1==a.useRelativeCueTimestamps;this.onQualityLevelChanged=this.onCue=this.onAutoPause=this.onMediaDownloadEnded=this.onManifestReady=this.processLicense=this.processSegment=this.processManifest=this.processMetadata=this.prepareLicenseRequest=
this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};m($f,Ef);z("cast.player.api.Host",$f);
$f.prototype.U=function(a,b,c,d){var e=a;if(b){e=b.errorCode;if(6==b.errorCode&&0<=b.status)var f=b.status;var g=a;null!=e&&(g=10*g+e%10,null!=f&&(g=1E3*g+f%1E3));e=g}B("Cast.MPL.Error",e);a=Math.floor(a/100);Mc(d||ag,"error: "+wf[a]+"/"+e+(c?" ("+c+")":""));if(this.onError)this.onError(a,b)};$f.prototype.Tj=function(a){return this.processManifest?this.processManifest(a):a};var ag=C("cast.player.api.Host");var bg=function(){var a=this;this.ka=new Zd;this.Ve=new Uc;this.Qh=function(){};this.Ph=function(){};this.ka.addEventListener("INSERT",function(b){a.Qh&&a.Qh(b.key)});this.ka.addEventListener("FETCH",function(b){a.Ph&&a.Ph(b.key)})};bg.prototype.isEnabled=function(){return this.ka.isEnabled()};
var dg=function(a,b,c){if(a.isEnabled()){for(var d=new ArrayBuffer(2*c.length),e=new Uint16Array(d),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);a=cg(a,b,d)}else a=gd();return a},cg=function(a,b,c){if(!a.isEnabled())return gd();b=eg(b);G(fg,"Store data into cache with key: "+b);return fd(a.ka.insert(b,c))},eg=function(a){var b=a.url;a.headers&&a.headers.Range&&(b+="\b"+a.headers.Range);return b};bg.prototype.Gf=function(a){return this.ka.Gf(a)};
var gg=function(a,b){return a.isEnabled()?fd(a.ka.get(eg(b))):gd()};bg.prototype.reset=function(){var a=this.ka;a.Qd=a.isEnabled()?a.ka.capacity():0};ra(bg);var fg=C("cast.player.cache.Store");var hg=function(a){this.buffer=a;this.Ni=new DataView(a.buffer,a.byteOffset);this.offset=0},ig=function(a){return a.buffer[a.offset++]},jg=function(a){var b=a.Ni.getUint16(a.offset);a.offset+=2;return b},L=function(a){var b=a.Ni.getUint32(a.offset);a.offset+=4;return b},kg=function(a){var b=L(a);a=L(a);return 4294967296*b+a},lg=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},mg=function(a){return a.buffer.subarray(a.offset)},M=function(a,b){a.offset+=b};var ng=function(){};ng.prototype.$h=function(a,b){a=new Uint8Array(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(String.fromCharCode.apply(null,a));try{var c=decodeURIComponent(a)}catch(d){throw Error("Decoding Error.");}return this.parse(c,b)};var og=function(a){this.zf=30;this.hl=a};m(og,ng);
var pg=function(a,b){a=q(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.localName==b)return c;return null},sg=function(a,b){var c=b.split(":");if(1==c.length){var d=0;if(c=c[0].match(qg))switch(b=parseFloat(c[1]),c[2]){case "h":d=3600*b;break;case "m":d=60*b;break;case "s":d=b;break;case "ms":d=b/1E3;break;case "f":d=b/a.zf}else F(rg,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4==c.length&&(d+=parseInt(c[3],10)/a.zf);return d},
tg=function(a){var b="";a=q(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c.nodeType==Node.TEXT_NODE?(c=c.textContent.trim())&&(b+=c):"span"==c.localName?(b+=tg(c),(c=c.attributes.getNamedItem("tts:fontStyle"))&&"italic"==c.value&&(b="<i>"+b+"</i>")):"br"==c.localName&&(b+="\n");return b};
og.prototype.parse=function(a,b){var c=[],d=(new DOMParser).parseFromString(a,"text/xml"),e=pg(d.childNodes,"tt");if(!e)return F(rg,"missing tt"),c;var f=d=null,g=pg(e.childNodes,"head");if(g){if(f=pg(g.childNodes,"styling")){d=null;f=q(f.childNodes);for(var k=f.next();!k.done;k=f.next())if(k=k.value,"style"===k.nodeName&&(k=ug(k)))d=d||new Map,d.set(k.id,k.origin)}else d=null;f=d;if(k=pg(g.childNodes,"layout")){g=null;k=q(k.childNodes);for(var l=k.next();!l.done;l=k.next()){var n=l.value;if("region"==
n.nodeName&&(l=n.attributes.getNamedItem("xml:id"))){var p=f,u=null,w=ug(n);w?u=w.origin:p&&(w=n.attributes.getNamedItem("style"))&&(u=p.get(w.value));if(p=u)g=g||new Map,n=n.attributes.getNamedItem("tts:textAlign"),g.set(l.value,{align:n&&n.value||"left",origin:p})}}f=g}else f=null}g=pg(e.childNodes,"body");if(!g)return F(rg,"missing body"),c;(k=e.attributes.getNamedItem("ttp:frameRate"))?this.zf=parseInt(k.value,10):(F(rg,"defaulting frameRate to30"),this.zf=30);k=pg(g.childNodes,"div");if(!k)return F(rg,
"missing div"),c;g={};if(e=pg(e.childNodes,"head"))if(e=pg(e.childNodes,"metadata"))for(e=q(e.childNodes),l=e.next();!l.done;l=e.next())l=l.value,"image"==l.localName&&(g["#"+l.attributes.getNamedItem("xml:id").value]=tg(l));e=null;k.attributes&&d&&(l=k.attributes.getNamedItem("style"))&&(e=d.get(l.value));k=q(k.childNodes);for(l=k.next();!l.done;l=k.next()){var A=l.value;if("p"==A.localName&&A.attributes){var ua=w=null;p=n=u=l=null;var vb=tg(A);A=q(A.attributes);for(var va=A.next();!va.done;va=A.next())switch(va=
va.value,va.localName){case "begin":w=sg(this,va.value)+b;break;case "end":ua=sg(this,va.value)+b;break;case "backgroundImage":g[va.value]&&(l=g[va.value]);break;case "origin":u=vg(va.value);break;case "region":n=va.value;break;case "style":p=va.value}!vb&&!l||null===w||null===ua?F(rg,"skipped cue begin="+w+", end="+ua+", text="+a):(w=new VTTCue(w,ua,vb),this.hl||(ua=d,vb=e,A=null,n&&f&&(A=f.get(n))&&A.align&&(w.align=A.align),!u&&p&&ua&&(u=ua.get(p)),u||(u=A&&A.origin||vb),u&&(w.line=u.y,w.position=
u.x,w.snapToLines=!1,"left"!=w.align&&"right"!=w.align&&(w.align="left"))),c.push({xg:w,dj:l}))}}return c};
var vg=function(a){if("auto"===a)return null;a=a.split(" ");return 2!==a.length?(F(rg,"Two numbers are expected in tts:origin"),null):a.find(function(a){return!a.includes("%")})?(F(rg,"Only percentage value is supported in tts:origin"),null):{x:parseInt(a[0],10),y:parseInt(a[1],10)}},ug=function(a){var b=a.attributes;if(!b)return null;var c=b.getNamedItem("xml:id");if(!c)return null;b=b.getNamedItem("tts:origin");if(!b){a=q(a.childNodes);for(var d=a.next();!d.done;d=a.next())d=d.value,d.attributes&&
(b=d.attributes.getNamedItem("tts:origin"));if(!b)return null}return(b=vg(b.value))?{id:c.value,origin:b}:null},rg=C("cast.player.core.TtmlParser"),qg=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/;var xg=function(a){this.ca=wg(a)};xg.prototype.reset=function(a){this.ca=wg(a)};var wg=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};xg.prototype.toString=function(){return this.ca};
xg.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.ca.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.ca.length?this.ca.charAt(this.ca.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(c=a.length-1;0<=c;c--)b+=a[c];this.ca=b};
var yg=function(a,b){if(b.ca.length<a.ca.length)return!0;if(b.ca.length>a.ca.length)return!1;for(var c=0;c<b.ca.length;c++){var d=parseInt(a.ca.charAt(c),10),e=parseInt(b.ca.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var zg=function(a){hg.call(this,a)};m(zg,hg);var Ag=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},Bg=function(a){return a.buffer.subarray(0,a.offset)};Ag.prototype.Kg=function(a){N(this,[a])};Ag.prototype.md=function(a){N(this,[a>>8,a])};Ag.prototype.h=function(a){N(this,[a>>24,a>>16,a>>8,a])};Ag.prototype.xi=function(a){this.h(a/4294967296);this.h(a%4294967296)};
var N=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var Cg=function(a){Ag.call(this,a)};m(Cg,Ag);var Dg=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var Eg=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],Fg=function(a){Mc(C("cast.player.mp4.base"),a)},Gg=function(a,b,c){if(0>a||32<=a)return Fg("Invalid object type id: "+a),null;var d=Eg.indexOf(b);return 0>d?(Fg("Invalid sample rate: "+b),null):0>c||16<c?(Fg("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var Hg=function(a){this.L=new zg(a);this.yc=0;this.Yd=this.Vc=null;this.cg=a;this.pb=0;this.yc=L(this.L);this.pb=4;this.Vc=L(this.L);this.pb+=4;1==this.yc&&(this.yc=kg(this.L),this.pb+=8);1970628964==this.Vc&&(this.Yd=new Jf(lg(this.L,16)),this.pb+=16)},Ig=function(a){switch(a.Vc){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};Hg.prototype.getName=function(){return this.Vc};
var Jg=function(a){return a.cg.subarray(0,a.yc)},O=function(a){return Jg(a).subarray(a.pb)};Hg.prototype.i=function(a){N(a,this.cg.subarray(0,this.yc))};var P=function(a){Hg.call(this,a);this.jc=this.Ma=0;a=L(this.L);this.pb+=4;this.Ma=a>>>24;this.jc=a&16777215};m(P,Hg);var Kg=function(a){P.call(this,a)};m(Kg,P);
Kg.prototype.oh=function(a){for(var b=this.Ma,c=ig(this.L),d=Array(c),e=0;e<c;e++){if(1==b){var f=L(this.L);var g=L(this.L);var k=L(this.L);var l=L(this.L);var n=new xg(Math.floor(4294967296*f/1E4).toString()+"0000");n.add(f%1E4*7296%1E4);n.add(g);f=4294967296/a*f+g/a;k=4294967296/a*k+l/a}else l=L(this.L),k=L(this.L),n=new xg(l.toString()),f=l/a,k/=a;d[e]={time:f,duration:k,Ob:n,offset:0,size:0,url:null}}return d};
var Lg=new Jf([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]),Mg=function(a){P.call(this,a)};m(Mg,P);Mg.prototype.oh=function(a){var b=this.Ma;M(this.L,4);var c=L(this.L),d=0==b?L(this.L):kg(this.L),e=0==b?L(this.L):kg(this.L),f=a+Jg(this).byteOffset,g=this.yc;M(this.L,2);a=jg(this.L);b=Array(a);e=f+g+e;for(f=0;f<a;f++){g=L(this.L)&2147483647;var k=L(this.L);M(this.L,4);b[f]={time:d/c,duration:k/c,Ob:null,offset:e,size:g,url:null};d+=k;e+=g}return b};
var Ng=function(a){P.call(this,a);this.mg=new Uint8Array([]);this.fi=null;this.Dh=!1;this.Ge()};m(Ng,P);Ng.prototype.Ge=function(){var a=new zg(O(this)),b=this.jc;b&1&&M(a,20);var c=L(a);this.fi=mg(a);this.Dh=b&2?!0:!1;this.mg=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.Dh){M(a,8);var d=6*jg(a);this.mg[b]=10+d;M(a,d)}else this.mg[b]=8,M(a,8)};var Og=new Jf([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]),Pg=function(a){P.call(this,a);this.Td=0;this.cd=[];this.Sd=[];this.Ge()};
m(Pg,P);Pg.prototype.Ge=function(){var a=new zg(O(this));this.Td=L(a);var b=this.jc;b&1&&M(a,4);b&4&&M(a,4);var c=!!(b&256),d=!!(b&512),e=!!(b&1024);b=!!(b&2048);for(var f=0;f<this.Td;f++)c&&M(a,4),d&&this.cd.push(L(a)),e&&M(a,4),b&&this.Sd.push(L(a))};Pg.prototype.pg=function(a){Dg(O(this),4,a)};var Qg=function(a){P.call(this,a);this.cf=9E4;this.Ge()};m(Qg,P);Qg.prototype.Ge=function(){var a=new zg(O(this));M(a,4);M(a,4);this.cf=L(a)};var Rg=function(a){P.call(this,a)};m(Rg,P);
var Sg=function(a){P.call(this,a);this.ni=new Jf(lg(this.L,16));a=L(this.L);this.vf=lg(this.L,a)};m(Sg,P);Sg.prototype.getData=function(){return this.vf};var Tg=function(a){P.call(this,a)};m(Tg,P);var Ug=function(a){Hg.call(this,a)};m(Ug,Hg);
Ug.prototype.pg=function(a,b){var c=Q(O(this),1953653094,void 0,void 0);if(c){var d=Q(O(c),1953658222,void 0,void 0);d&&d.pg(a-this.cg.byteOffset);b&&(a=Q(O(c),1935763823,void 0,void 0))&&(b-=this.cg.byteOffset,c=0,a.jc&1&&(c+=8),c+=4,d=O(a),0!=a.Ma&&(Dg(d,c,Math.floor(b/4294967296)),c+=4),Dg(d,c,Math.floor(b%4294967296)))}};
var Vg=function(a,b){var c=Q(a,1836019558);a=O(Q(a,1835295092)).byteOffset;b?c.pg(a+b,a):c.pg(a)},Wg=function(a){switch(a.getName()){case 1836019558:return new Ug(Jg(a));case 1835296868:return new Qg(Jg(a));case 1953658222:return new Pg(Jg(a));case 1935763823:return new Tg(Jg(a));case 1936286840:return new Mg(Jg(a));case 1952868452:return new Rg(Jg(a));case 1970628964:var b=a.Yd;return Og.Eb(b)?new Ng(Jg(a)):Lg.Eb(b)?new Kg(Jg(a)):a;case 1886614376:return new Sg(Jg(a));case 1702061171:case 1751411826:case 1835427940:case 1836476516:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1952867444:case 1953196132:case 1953654136:return new P(Jg(a));
default:return a}},Q=function(a,b,c,d){for(var e=0;e<a.length;){var f=new Hg(a.subarray(e));e+=f.yc;if(f.getName()==b&&(1970628964!=b||c&&c.Eb(f.Yd)))return Wg(f);if(d&&Ig(f)&&(f=Q(O(f),b,c,d)))return f}return null},Xg=function(a,b){for(var c=0,d=[];c<a.length;){var e=new Hg(a.subarray(c));c+=e.yc;d.push(Wg(e));b&&Ig(e)&&(d=d.concat(Xg(O(e),!0)))}return d};var Yg=function(a){og.apply(this,arguments)};m(Yg,og);Yg.prototype.$h=function(a,b){a=Q(a,1835295092);if(!a)return[];a=mg(new hg(O(a)));return og.prototype.$h.call(this,a,b)};var Zg=function(){};m(Zg,ng);
Zg.prototype.parse=function(a,b){for(var c=a.trim().split($g),d=a=0,e=q(c[0].split("\n")),f=e.next();!f.done;f=e.next())if(f=f.value,0==f.indexOf("X-TIMESTAMP-MAP")){(e=f.match(ah))&&(a=bh(e[1]));(e=f.match(ch))&&(d=parseInt(e[1],10)/9E4);break}b+=d-a;if(isNaN(b))return F(dh,"invalid time offset"),[];a=[];c=q(c);for(d=c.next();!d.done;d=c.next()){var g=d.value;if(g){var k=b,l=null,n=f=null,p=null;e=d=null;g=g.split("\n");for(var u=0,w=q(g),A=w.next();!A.done;A=w.next()){A=A.value;if(l=A.match(eh)){f=
A.match(fh);n=A.match(gh);p=A.match(hh);d=A.match(ih);e=A.match(jh);break}u++}l?(w=bh(l[1]),l=bh(l[2]),g=g.slice(u+1).join("\n"),isNaN(w)||isNaN(l)||!g?(F(dh,"skipped cue, begin="+w+", end="+l+", text="+g),d=null):(k=new VTTCue(w+k,l+k,g),f&&(k.align=f[1]),n&&(k.snapToLines="true"===n[1]),p&&(f=parseInt(p[1],10),!k.snapToLines&&(100<f||0>f)&&(f=100),k.line=f),d&&(k.position=parseInt(d[1],10)),e&&(k.size=parseInt(e[1],10)),d=k)):d=null;d&&a.push({xg:d})}}return a};
var bh=function(a){var b=a.split(":");if(3<b.length)return F(dh,"unexpected time format="+a),0;a=0;b=q(b);for(var c=b.next();!c.done;c=b.next())a=60*a+parseFloat(c.value);return a},dh=C("cast.player.core.WebvttParser"),$g=/\n\s*\n/,ch=/MPEGTS:([\d]*)/,fh=/align:(start|middle|end|left|center|right)/,gh=/snapToLines:?(true|false)?/,hh=/line:(-*\d+)/,ih=/position:(\d*)%/,jh=/size:(\d*)%/,ah=/LOCAL:((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/,eh=/((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/;var kh=function(a,b,c,d){D.call(this);this.a=b;this.df=document.createElement("track");this.df.src=b.url;this.df.kind="captions";this.a.mediaElement.appendChild(this.df);this.gd=this.df.track;this.gd.mode="showing";this.Nk=a;this.Zb=c;B("Cast.MPL.Captions",Sd(this.Zb));this.Kd=null;"ttml"==c?this.Kd=new og(1==this.a.ignoreTtmlPositionInfo):"webvtt"==c?this.Kd=new Zg:d&&"application/mp4"==d&&"stpp"==c&&(this.Kd=new Yg(1==this.a.ignoreTtmlPositionInfo));this.Ta=null;this.mk=0};m(kh,D);
kh.prototype.H=function(){lh(this);this.gd.mode="disabled";this.df.remove();D.prototype.H.call(this)};var lh=function(a){var b=a.gd.cues;if(b)for(;0<b.length;)a.gd.removeCue(b[0]);if(a.a.mediaElement.parentNode)for(a=q(a.a.mediaElement.parentNode.getElementsByClassName("mpl_img_cap")),b=a.next();!b.done;b=a.next())b.value.remove()};h=kh.prototype;h.createBuffer=function(){};h.reset=function(){lh(this);this.Ta=null};h.se=function(){return!0};h.Vi=function(){return Infinity};
h.append=function(a,b,c,d){d&&(this.mk=b.time-c);if(this.Kd){var e=this.a.useRelativeCueTimestamps||"ttml"==this.Zb?b.time:this.mk;c=mh(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.Kd.$h(a,e);0<a.length;){e=a.pop();var f=e.xg,g=!1;if(f.startTime<d||.1>=Math.abs(f.startTime-d))for(var k=c.length-1;0<=k;k--)if(c[k].text==f.text&&.1>=Math.abs(c[k].startTime-f.startTime)&&.1>=Math.abs(c[k].endTime-f.endTime)){g=!0;break}g||this.addCue(e)}}this.Ta=b};
h.Ca=function(a){return this.Ta?this.Ta.time+this.Ta.duration-a:0};
h.addCue=function(a){if(this.a.onCue)this.a.onCue(this.Zb);var b=a.xg;this.gd.addCue(b);if(a.dj){a=a.dj;var c=this.a.mediaElement.parentNode;b.id="cap-"+Date.now();b.onenter=function(a,b,c){var d=document.createElement("img");d.setAttribute("id",a.id);d.setAttribute("src","data:image/png;base64,"+b);d.setAttribute("class","mpl_img_cap");d.style.position="absolute";d.style.left="0";d.style.bottom="0";d.style.right="0";d.style.margin="0 auto";d.style.width="100%";d.style.height="100%";d.style.zIndex=
5;c.appendChild(d)}.bind(this,b,a,c);b.onexit=function(a){(a=document.getElementById(a.id))&&a.remove()}.bind(this,b)}};var mh=function(a){for(var b=[],c=a.gd.cues,d=a.Nk.kc(),e=0;e<c.length;){var f=c[e];f.endTime<d?(a.gd.removeCue(f),f.id&&(f=document.getElementById(f.id))&&f.remove()):(b.push(f),e++)}return b};kh.prototype.parse=function(a,b){for(a=this.Kd.parse(a,b);0<a.length;)this.addCue(a.pop())};var nh=function(a){H.call(this);this.Ab=null;this.Xh=a};m(nh,H);nh.prototype.ah=function(){this.Ab&&(this.Ab.onprogress=null);this.Ab=H.prototype.ah.call(this);this.Ab.onprogress=this.Xh;return this.Ab};nh.prototype.H=function(){this.Ab&&(this.Ab.onprogress=null);H.prototype.H.call(this)};var ph=function(){var a=oh,b=this;return new bd(function(c,d){var e=new nh(function(){});E(e,"success",function(a){c(Kd(a.target))},!1,b);E(e,"error",d,!1,b);E(e,"timeout",d,!1,b);e.send(a)})};var qh=function(a,b,c){var d=y();this.clientId=a;this.blockIds=b;this.flags=c;this.timestamp=d},sh=function(){var a=rh();this.Yg=a&&a.clientId||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)};
sh.prototype.Wc=function(a){Ea("Cast.MPL.ExperimentationFetchResult",!0);try{var b=JSON.parse(a.substring(5));var c=new tf(b[0])}catch(g){th(this,"Failed to parse experimentation flags.");return}a=df(c,1);b=lf(c,uf,2);c={};b=q(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.getName(),f=void 0;switch(bf(d,jf[0])){case 2:f=K(d,5);break;case 3:f=K(d,3);break;case 4:f=d.getFloatValue();break;case 5:f=K(d,5)}c[e]=f}uh("Cast.MPL.ExperimentationDownloadedBlockId",a);window.localStorage.setItem("cast.player.common.Experimentation",
JSON.stringify(new qh(this.Yg,a,c)));G(vh,"Flags: "+c.toString())};sh.prototype.Nb=function(){Ea("Cast.MPL.ExperimentationFetchResult",!1);th(this,"Failed to download experimentation flags.")};
var th=function(a,b){F(vh,b);window.localStorage.setItem("cast.player.common.Experimentation",JSON.stringify(new qh(a.Yg,[],{})))},uh=function(a,b){if(t(b)&&0<b.length){b=q(b);for(var c=b.next();!c.done;c=b.next())B(a,c.value)}},xh=function(a){if(!wh()){var b=rh();if(t(b)&&t(b.flags))return b.flags[a]}},wh=function(){var a=rh();if(!t(a)||!t(a.timestamp))return!0;var b=y()-a.timestamp;a=a.flags.expirationHrs;x(a)||(a=3);return b>36E5*a},rh=function(){var a=window.localStorage.getItem("cast.player.common.Experimentation");
return a?JSON.parse(a):void 0};ra(sh);var vh=C("cast.player.common.Experimentation"),yh=sh.Bd(),zh=wh();Ea("Cast.MPL.ExperimentationCheckExpired",zh);if(zh){var oh="https://$Env$.google.com/cast/senderconfig/config?hw=mpl&id=$ClientId$".replace(/\$Env\$/g,"clients3").replace(/\$ClientId\$/g,yh.Yg.toString());ph().then(yh.Wc.bind(yh),yh.Nb.bind(yh))};var Ah=function(a,b){this.ja=a;this.le=[];for(var c=0;c<a.length;c++)this.le.push(c);this.sl=t(b)?b:3;this.Ue={};this.td=this.le.slice()};Ah.prototype.Wi=function(){return 0};Ah.prototype.ri=function(){this.Ue={};this.td=this.le.slice()};Ah.prototype.ef=function(a){this.Ue[a]||(this.Ue[a]=0);this.Ue[a]++;this.Ue[a]>(1==this.td.length?this.sl:this.Wi())&&(a=this.td.indexOf(a),-1<a&&this.td.splice(a,1));return this.td};var Bh=function(a,b){Ah.call(this,a,b)};m(Bh,Ah);
Bh.prototype.ef=function(a,b){for(var c=0,d=this.ja[0],e=1;e<this.ja.length;e++)this.ja[e]<d&&(d=this.ja[e],c=e);if(!b||b&&a==c)this.td=[c];return Ah.prototype.ef.call(this,a,b)};var Ch=function(a,b){Ah.call(this,a,b);this.Te=Array(this.ja.length);this.Te.fill(0);a=xh("numRetriesPerQualityLevel");this.tl=x(a)?a:1;a=xh("blacklistThreshold");this.Uk=x(a)?a:6};m(Ch,Ah);Ch.prototype.Wi=function(){return this.tl};Ch.prototype.ri=function(a){this.Te[a]=0;Ah.prototype.ri.call(this,a)};
Ch.prototype.ef=function(a,b){this.Te[a]+=1;if(this.Te[a]>=this.Uk){var c=this.le.indexOf(a);-1<c&&this.le.splice(c,1)}return Ah.prototype.ef.call(this,a,b)};var Fh=function(a,b,c,d){this.a=a;this.W=b;this.ja=c;a=this.a.initialBandwidth;3145728==this.a.initialBandwidth&&(a=parseFloat(window.localStorage.getItem("cast.player.core.QualityManager.currentBandwidth")),a=x(a)&&a>this.a.initialBandwidth?a:this.a.initialBandwidth);this.cc=a;this.Jc=Dh(this,this.cc);G(Eh,this.W+": initial "+this.ja[this.Jc]);this.gg=0;this.Dg=null;this.rj=y();this.ql=d;a=this.ja;d=Rd(d);if(t(d))for(B("Cast.MPL.Available"+d+"Bitrates",a.length),b=0;b<a.length;b++)B("Cast.MPL.Available"+
d+"Bitrate"+b,a[b])};Fh.prototype.J=function(){Gh(this)};
var Dh=function(a,b,c){for(var d=-1,e=Number.MAX_VALUE,f=t(c)?c[0]:0,g=0;g<a.ja.length;g++)if(!t(c)||-1!==c.indexOf(g)){if(b>=a.ja[g]){var k=b-a.ja[g];k<e&&(d=g,e=k)}a.ja[f]>a.ja[g]&&(f=g)}return 0>d?f:d},Hh=function(a,b,c,d){var e=y();if(!b&&null!==a.Dg&&e-a.Dg<2E3*(c||0))return a.Jc;a.Dg=e;b=Dh(a,.7*a.cc,d);a.a.getQualityLevel&&(b=a.a.getQualityLevel(a.W,b),b>=a.ja.length&&(F(Eh,a.W+": Host provided an invalid quality level!"),b=a.ja.length-1));b!=a.Jc&&(G(Eh,a.W+": from "+a.ja[a.Jc]+" to "+a.ja[b]),
Gh(a),a.Jc=b);return a.Jc},Jh=function(a,b){3E5>y()-a.rj||(B("Cast.MPL.Bandwidth",b),Ih||window.localStorage.setItem("cast.player.core.QualityManager.currentBandwidth",""+b),Gh(a))},Gh=function(a){var b=y(),c=Rd(a.ql);t(c)&&B("Cast.MPL."+c+"Bitrate",a.ja[a.Jc]);a.rj=b},Eh=C("cast.player.core.QualityManager"),Ih=document.domain.includes("gstatic.com");var Kh=function(){};z("cast.player.core.ProcessSourceDataCallback",Kh);Kh.prototype.Oe=function(){};var Lh=function(a,b,c,d,e,f){D.call(this);this.a=a;this.Jl=e;this.Ac=c;this.ea=d;this.W=b;this.gf=!1;this.na=this.Ta=this.uc=null;this.qd=f;this.ic=new pe;this.vd=0;this.createBuffer();this.Dc=null;this.Ye=!0};m(Lh,D);h=Lh.prototype;h.H=function(){D.prototype.H.call(this);this.ic.clear();this.na&&(Dc(this.na,"updateend",this.Oj,!1,this),this.Ye&&"closed"!=this.ea.readyState&&this.ea.removeSourceBuffer(this.na))};
h.createBuffer=function(){if(null===this.na&&"open"==this.ea.readyState){var a=this.Ac.mimeType+'; codecs="'+Uf(this.Ac.codecs)+'"',b=this.qd.findIndex(function(b){return b==a});if(0>b){try{this.na=this.ea.addSourceBuffer(a)}catch(c){throw this.a.U(110,void 0,c.message),c;}G(R,"create new source buffer "+a);this.qd.push(a)}else this.na=this.ea.sourceBuffers[b],G(R,"reuse source buffer index: "+b+", mimetype: "+a);E(this.na,"updateend",this.Oj,!1,this);Mh(this)}};
h.Ca=function(a){var b=this.vd+(this.uc?this.uc.duration:0);return this.Ta?this.Ta.time+this.Ta.duration-a+b:b};h.reset=function(){this.uc=this.Ta=null;this.ic.clear();this.vd=0;this.se()?Nh(this):(G(R,this.W+": queue remove"),this.ic.enqueue({Yh:1,Og:null}));this.se()?Oh(this):(G(R,this.W+": queue abort"),this.ic.enqueue({Yh:0,Og:null}))};h.se=function(){return null!==this.na&&!this.gf&&this.ic.xa()};h.Vi=function(){return Ld(this.Ac.mimeType)?40:20};
var Mh=function(a){for(;!a.ic.xa();){var b=a.ic.wd(),c=b.Og;switch(b.Yh){case 2:G(R,a.W+": dequeue append");a.vd-=c.interval.duration;Ph(a,c.data,c.interval,c.P,c.$);return;case 1:G(R,a.W+": dequeue remove");Nh(a);return;case 0:G(R,a.W+": dequeue abort"),Oh(a)}}};Lh.prototype.Oj=function(){for(var a=this.na.buffered,b=0;b<a.length;b++)G(R,this.W+": "+a.start(b)+" - "+a.end(b));G(R,this.W+": updateend");null!==this.uc&&0!=this.uc.duration&&(this.Ta=this.uc);this.uc=null;this.gf=!1;Mh(this)};
var Ph=function(a,b,c,d,e){var f=a.na.timestampOffset;if(e){Oh(a);var g=Qh(a,c.time);a.na.timestampOffset=g-d;G(R,a.W+": timestampOffset = "+a.na.timestampOffset)}else g=Qh(a,c.time);a.gf=!0;try{a.na.appendBuffer(b)}catch(k){G(R,a.W+": append failed "+k);a.gf=!1;e&&(a.na.timestampOffset=f);Rh(a,b,c,d,e,k);return}G(R,a.W+": successfully append "+b.length+" bytes");null!==a.Dc&&(G(R,a.W+": cleared interval "+a.Dc),clearInterval(a.Dc),a.Dc=null);a.uc={time:g,duration:c.duration};a.Jl.Oe(a.Ac.mimeType,
b,a.na.timestampOffset,g,c.duration)},Oh=function(a){"open"==a.ea.readyState?(G(R,a.W+": abort"),a.na.abort()):F(R,a.W+": unable to abort")},Nh=function(a){G(R,a.W+": remove");a.gf=!0;a.na.remove(0,Infinity)};Lh.prototype.append=function(a,b,c,d){this.se()?Ph(this,a,b,c,d):Rh(this,a,b,c,d)};
var Rh=function(a,b,c,d,e,f){G(R,a.W+": delay append, append to deferred queue");a.vd+=c.duration;a.ic.enqueue({Yh:2,Og:{data:b,interval:{time:c.time,duration:c.duration},P:d,$:e}});f&&22===f.code&&null===a.Dc&&(a.Dc=setInterval(function(){Mh(a)},2E3),G(R,a.W+": set up interval to processDeferred_ "+a.Dc))},Qh=function(a,b){if(!a.Ta||a.a.Vk)return b;var c=b,d=a.na.buffered;0<d.length&&(b=d.end(d.length-1));G(R,a.W+": adjustTime: "+c+" : "+b);return b},R=C("cast.player.core.SourceBufferManager");var S=function(a,b,c,d,e,f,g,k){D.call(this);this.sa=a;this.host=b;this.protocol=c;this.uf=f;this.F=d;c=c.getStreamInfo(d);this.Na=Hf(c.role,c.mimeType,c.codecs)?new kh(a,b,c.codecs,c.mimeType):new Lh(b,d,c,e,a,k);Vd(c.codecs);B("Cast.MPL.MimeType",Qd[c.mimeType]||0);B("Cast.MPL.StreamType",Ld(c.mimeType)?1:Md(c.mimeType)?2:Hf(c.role,c.mimeType,c.codecs)?3:0);this.Of=!1;this.f=1;this.lg=0;this.Vd=!1;this.yi=this.xb=0;this.Bb=400;this.oc=this.Pc=this.Dd=this.Pf=!1;this.qj=this.Pg=0;this.mb=new pe;
this.v=new xf;this.v.setResponse=this.Pl.bind(this);this.g=new nh(this.Xh.bind(this));zd(this.g);E(this.g,"success",this.Wc,!1,this);E(this.g,"error",this.Nb.bind(this,!1));E(this.g,"timeout",this.Nb.bind(this,!0));E(this.g,"ready",this.Al,!1,this);a=this.protocol.getStreamInfo(this.F).bitrates;this.ad=new Fh(b,d,a,c.mimeType);this.qf=bg.Bd();this.Ud=null;(b=g)||(b=this.host.segmentRequestRetryLimit,b=xh("simpleFailOver")?new Ch(a,b):new Bh(a,b));this.Si=b};m(S,D);
var Sh=function(a){t(a.Na.Ye)&&(a.Na.Ye=!1);D.prototype.J.call(a)};S.prototype.J=function(){t(this.Na.Ye)&&(this.Na.Ye=!0);D.prototype.J.call(this)};S.prototype.H=function(){clearTimeout(this.Ud);this.Ud=null;this.Na.J();this.ad.J();this.g.J();D.prototype.H.call(this)};S.prototype.Pl=function(a,b){a?this.Ef({Oc:this.oc,data:new Uint8Array(a),interval:this.v.interval,vc:this.v.vc},this.v,b):this.Nb(!1);this.Pf=!1;this.Dd&&(Th(this),this.Dd=!1)};
var Vh=function(a){a:{var b=a.qf;var c=a.host.url,d=a.F;if(b.isEnabled()&&b.Ve.gc(c)&&(b=b.Ve.get(c)[d],x(b)))break a;b=-1}-1<b?Uh(a,b):Uh(a,Hh(a.ad,!0,void 0,void 0))},Uh=function(a,b){var c=a.protocol.getQualityLevel(a.F);if(b==c)return!1;a.Of=!0;a.protocol.rg(a.F,b,a,a.sa);return!0},Xh=function(a,b,c,d,e){if(a.Pc){G(Wh,a.F+": segment processed");a.Pc=!1;if(a.host.processSegment){var f=a.host.processSegment(a.F,b);if(Ka(f)){f.then(function(f){f instanceof Uint8Array&&(b=f);a.Na.append(b,c,d,e);
a.eg()});return}f instanceof Uint8Array&&(b=f)}a.Na.append(b,c,d,e)}else G(Wh,a.F+": not processing");a.eg()},$h=function(a,b){a.Pc?Yh(a,b,"processing previous segment"):a.mb.xa()?Zh(a,b)?a.Ne(b):(Yh(a,b,"segment duration will go beyond buffer limit"),a.Ud=setTimeout(a.eg.bind(a),1E3)):Yh(a,b,"queue has "+a.mb.Fb()+" segments")},Yh=function(a,b,c){G(Wh,a.F+": queue segment ("+b.data.length+") as "+c);a.mb.enqueue(b)};
S.prototype.eg=function(){if(!this.Pc&&!this.mb.xa()){var a=this.mb.bi();Zh(this,a)?(G(Wh,this.F+": dequeue segment"),this.mb.wd(),this.Ne(a)):(G(Wh,this.F+": delay process downloaded segment"),this.Ud=setTimeout(this.eg.bind(this),1E3))}};var Zh=function(a,b){var c=a.Ca(a.sa.kc());return c<=a.host.autoPauseDuration?!0:c+b.interval.duration<=a.Na.Vi()};S.prototype.Ne=function(a){G(Wh,this.F+": process segment");this.Pc=!0;this.protocol.processSegment(this.F,a,this)};
S.prototype.reset=function(){G(Wh,this.F+": reset");this.f=1;this.lg=0;this.Vd=!1;ai(this);this.Pc=this.Dd=!1;this.mb.clear();clearTimeout(this.Ud);this.Ud=null;this.oc||this.g.abort();this.protocol.reset(this.F);this.Na.reset();this.sa.sc()};S.prototype.Wc=function(a){var b=this.protocol.getQualityLevel(this.F);this.Si.ri(b);this.Ef({Oc:this.oc,headers:this.g.getAllResponseHeaders(),data:new Uint8Array(Kd(a.target)),interval:this.v.interval,vc:this.v.vc},this.v)};
S.prototype.Ef=function(a,b,c){if(!a.Ui){c=t(c)?c:y()-this.lg;b=this.ad;var d=a.data.length;0>=c||(b.a.trackBandwidth&&b.a.trackBandwidth(b.W,c,d),Zf("Cast.MPL.SegmentStats.Size",d),Zf("Cast.MPL.SegmentStats.Time",c),c=0<c?8*d/(c/1E3):0,b.cc=.8*c+(1-.8)*b.cc,G(Eh,b.W+": current="+c.toFixed(2)+", average="+b.cc.toFixed(2)),Jh(b,c),b.gg=0)}ai(this);$h(this,a);if(!bi(this,a)&&(b=this.Ca(this.sa.kc()),a.Ui||Uh(this,Hh(this.ad,10>b,a.interval.duration,void 0)),this.Pg=.8*b+(1-.8)*this.Pg,3E5<y()-this.qj&&
(B("Cast.MPL.AverageBufferDuration",parseInt(this.Pg,10)),this.qj=y()),this.Of))return;this.sa.sc()};var bi=function(a,b){return a.oc?(a.oc=!1,a.protocol.qg(a.F,b.data),!0):a.Vd=!1};h=S.prototype;h.Al=function(){this.Dd&&(Th(this),this.Dd=!1)};
h.Nb=function(a){var b=this.ad,c=y()-this.lg;a&&(b.cc=0<c?8*b.gg/(c/1E3):0);b.gg=0;b.Dg=null;G(Eh,b.W+": current="+b.cc.toFixed(2));Jh(b,b.cc);b=this.protocol.getQualityLevel(this.F);a=this.Si.ef(b,a);0==a.length?this.host.skipSegmentOnNetworkFailure?(ai(this),this.sa.sc()):(this.f=-1,a=this.Pf?void 0:new yf(this.v.url,this.g.Lb,Id(this.g),this.g.getAllResponseHeaders(),Kd(this.g)),this.host.U(301,a)):Uh(this,Hh(this.ad,!0,void 0,a))?(this.Vd=!0,this.sa.sc()):(this.xb++,this.yi=y(),this.sa.sc(this.Bb))};
h.Xh=function(a){this.ad.gg=a.loaded};h.Ca=function(a){return this.Na.Ca(a)};h.createBuffer=function(){this.Na.createBuffer()};
var ei=function(a){a.Of=!1;a.sa.Rh();ci(a,!1);if(a.oc)Th(a);else if(di(a),a.sa.sc(),a.host.onQualityLevelChanged)a.host.onQualityLevelChanged(a.F)},Th=function(a){if(fi(a))a.Dd=!0;else{a.lg=y();a.protocol.updateSegmentRequestInfo(a.F,a.v);var b=a.v.interval;a.v.timeoutInterval=Math.max(2E3*b.duration,1E4);a.v.skipRequest=!1;if(a.host.updateSegmentRequestInfo&&(a.host.updateSegmentRequestInfo(a.v,a.F),a.v.skipRequest)){a.Pf=!0;return}a.qf.ka.contains(eg(a.v))?gg(a.qf,a.v).then(function(c){a.Ef({Oc:a.oc,
data:new Uint8Array(c),interval:b,vc:a.v.vc,Ui:!0},a.v)},function(){gi(a)}):gi(a)}},gi=function(a){G(Wh,a.F+": send request to get segment.");a.g.$d=a.v.withCredentials;a.g.Yb=Math.max(0,a.v.timeoutInterval);a.g.send(a.v.url,void 0,void 0,a.v.headers)};S.prototype.qe=function(){return 0<this.f||this.Pc||fi(this)||!this.Na.se()||!this.mb.xa()};S.prototype.Ch=function(){var a;if(a=!this.Of&&2>this.mb.Fb()&&!fi(this))a=this.mb.bi(),a=!(a&&!Zh(this,a));return a};
var fi=function(a){return a.g.qe()||a.Pf},ci=function(a,b){if(a.protocol.Gd(a.F)){var c=a.protocol.ie(a.F);null===c?(a.oc=!0,a.Vd=a.Vd||b):$h(a,{Oc:!0,data:c,interval:{time:a.v.interval.time,duration:0}})}},di=function(a){var b=a.protocol.Af(a.F);b&&a.uf(b)};
S.prototype.We=function(){if(0<this.xb||this.Vd){if(0<this.xb){if(y()-this.yi<this.Bb)return;this.Bb*=2}Th(this)}else if(1==this.f){var a=this.sa.kc(),b=this.protocol.seek(this.F,a);x(b)?(G(Wh,this.F+": seek success "+a),this.f=2,this.sa.Uh(b),ci(this,!0),di(this),Th(this)):G(Wh,this.F+": seek failure "+a)}else this.protocol.pc(this.F)&&(ci(this,!0),di(this),Th(this)),this.protocol.Ib(this.F)&&(this.f=0)};var ai=function(a){a.xb=0;a.yi=0;a.Bb=400},Wh=C("cast.player.core.SegmentManager");var ii=function(a,b,c,d,e){S.call(this,a,b,c,d,new MediaSource,function(){Mc(hi,"Cannot create session while caching")});this.Ki=e;this.Ug=0};m(ii,S);
ii.prototype.Ef=function(a,b){var c=this,d=bi(this,a)?0:this.protocol.getSegmentInterval(this.F).duration;cg(this.qf,b,a.data.buffer).then(function(){c.Ug+=d;var b=c.Ki,f=c.F,g=a.data.buffer.byteLength;b.s.Ib(f)?(G(ji,"Cached the entire stream "+f),ki(b,f)):b.Sb.Ca(b.ra.uh)>=b.ra.autoResumeDuration?(G(ji,"Successfully cached stream "+f),ki(b,f)):b.Vb.Gf(g)?b.Sb.We():(F(ji,"Cache likely can not fit the next segement for stream "+f),ki(b,f))},function(a){F(hi,"Unable to cache segment ("+b.url+") because of "+
a);ki(c.Ki,c.F)})};ii.prototype.Ca=function(){return this.Ug};var hi=C("cast.player.cache.SegmentManager");var li=function(){};z("cast.player.core.CurrentTimeCallback",li);li.prototype.kc=function(){};var mi=function(){};z("cast.player.core.PlayerCallbacks",mi);h=mi.prototype;h.sc=function(){};h.Uh=function(){};h.Rh=function(){};h.ge=function(){};h.Oh=function(){};h.ag=function(){};var ni=function(a){D.call(this);this.bm=a;this.qh=this.jd=null;this.xb=0;this.di=null;this.Bb=400;this.g=new nh(function(){});E(this.g,"success",this.Wc.bind(this));E(this.g,"error",this.Nb.bind(this));E(this.g,"timeout",this.Bl.bind(this))};m(ni,D);ni.prototype.H=function(){this.g.J();D.prototype.H.call(this)};
ni.prototype.load=function(a){var b=this;if(this.jd=a.url){var c=bg.Bd();c.ka.contains(eg(a))?gg(c,a).then(function(a){b.bd(String.fromCharCode.apply(String,oa(new Uint16Array(a))))},function(){oi(b,a)}):oi(this,a)}else F(Gf,"No url provided for request")};var oi=function(a,b){a.qh=b.headers;a.g.$d=b.withCredentials;a.g.Yb=Math.max(0,b.timeoutInterval);a.xb=0;a.g.send(a.jd,void 0,void 0,a.qh)};ni.prototype.abort=function(){this.g.abort()};
var pi=function(a){return new yf(a.jd,a.g.Lb,Id(a.g),a.g.getAllResponseHeaders(),Kd(a.g))};ni.prototype.Wc=function(a){clearTimeout(this.di);this.Bb=400;this.bd(Kd(a.target))};ni.prototype.Nb=function(){qi(this,408==Id(this.g)?0:this.Bb)};ni.prototype.Bl=function(){qi(this,0)};var qi=function(a,b){a.xb++;clearTimeout(a.di);3<a.xb?a.bd(null):(1<a.xb&&(a.Bb=2*b),a.di=setTimeout(function(){a.g.send(a.jd,void 0,void 0,a.qh)},b))};
ni.prototype.bd=function(a){this.xb=0;var b=this.g;this.bm.tc(a,b.Ab&&b.Ab.responseURL?b.Ab.responseURL:null)};var ri=function(a){ni.call(this,a);this.v=this.a=null};m(ri,ni);ri.prototype.Ed=function(a,b){this.a=a;this.v=new xf;this.v.url=this.jd=b;this.v.setResponse=this.bd.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(this.v);this.v.skipRequest||this.load(this.v)};
ri.prototype.bd=function(a){var b=this;if(this.a&&(a=this.a.Tj(a,this.v),Ka(a))){a.then(function(a){ni.prototype.bd.call(b,a)});return}ni.prototype.bd.call(this,a)};var si=function(a){if(a[7]<<8|1!=a[6])return F(Gf,"PlayReady header object is not valid"),null;var b=a[9]<<8|a[8];b+=10;for(var c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;c=(new DOMParser).parseFromString(c.trim(),"text/xml").childNodes[0].firstElementChild;c=q(c.children);for(var e=c.next();!e.done;e=c.next())e=e.value,"LA_URL"==e.nodeName?d=e.textContent:"KID"==e.nodeName&&(b=Ja(window.atob(e.textContent)));return b?{systemId:Kf,ke:a,xe:new Jf(b,!0),url:d,Sf:8}:(F(Gf,"PlayReady rights management header does not have KID"),
null)},T=function(a){this.host=a;this.Zc=this.Tc=this.uri=null;this.Ah=this.xh=this.R=void 0;this.duration=-1;this.l=[];this.th=[]},ui=function(a){var b=ti(a.l);b||(b=a.l.find(function(a){return 1==a.type&&!Of(a.codecs)}));b&&(b.enabled=!0);a=q(a.l);for(b=a.next();!b.done;b=a.next())if(b=b.value,2==b.type){b.enabled=!0;break}},ti=function(a){return a.find(function(a){return 1==a.type&&Of(a.codecs)&&Nf("audio/mp4",a.codecs)})};
T.prototype.getDefaultAudioStreamIndex=function(){for(var a=-1,b=0;b<this.l.length;b++){var c=this.l[b];if(1==c.type&&Nf("audio/mp4",c.codecs)){if(Of(c.codecs))return b;0>a&&(a=b)}}return a};T.prototype.getDefaultAudioStreamIndex=T.prototype.getDefaultAudioStreamIndex;T.prototype.getStreamCount=function(){return this.l.length};T.prototype.getStreamCount=T.prototype.getStreamCount;T.prototype.enableStream=function(a,b){var c=this.l[a];c.index=-1;c.V=-1;c.$=!0;c.enabled=b;c.Wa=!1;this.th[a]=[]};
T.prototype.enableStream=T.prototype.enableStream;T.prototype.isStreamEnabled=function(a){return this.l[a].enabled};T.prototype.isStreamEnabled=T.prototype.isStreamEnabled;T.prototype.getQualityLevel=function(a){return this.l[a].V};T.prototype.getQualityLevel=T.prototype.getQualityLevel;T.prototype.getStreamInfo=function(a){a=this.l[a];for(var b=[],c=q(a.A),d=c.next();!d.done;d=c.next())b.push(d.value.za);return new zf(a.codecs,a.mimeType,b,a.language,a.name,a.role)};T.prototype.getStreamInfo=T.prototype.getStreamInfo;
h=T.prototype;h.tc=function(){ui(this);if(this.host.onManifestReady)this.host.onManifestReady();this.Zc.onManifestReady()};h.load=function(a){this.Zc=a;this.Ed()};h.Ed=function(){var a=this.host.url;this.uri=new J(a);this.Tc=new ri(this);this.Tc.Ed(this.host,a)};h.Fa=function(){this.Tc&&(this.Tc.J(),this.Tc=null)};h.rg=function(a,b,c){a=this.l[a];a.V=b;a.Wa=!0;ei(c)};h.updateLicenseRequestInfo=function(){};h.getDuration=function(){return this.R?-1:this.duration};
h.Da=function(a){a=this.l[a];var b=a.V;if(0>b)return null;a=a.A[b];var c=a.c;if(0==c.length)return null;b=c[0].time;var d=c.length-1;c=c[d].time+c[d].duration;this.R&&(c-=20,c<b&&(c=b));return{start:b-a.P,end:c-a.P}};h.seek=function(a,b){var c=this.l[a],d=c.A[c.V],e=d.c;a=this.Da(a);if(!a)return null;b<a.start&&(b=a.start);b>a.end&&(b=a.end);b+=d.P;for(a=e.length-1;0<=a;a--)if(b>=e[a].time)return c.index=a,c.Wa=!0,b-d.P;return null};
h.pc=function(a){a=this.l[a];var b=a.index+1;return b<a.A[a.V].c.length?(a.index=b,!0):!1};h.isLiveStream=function(){return this.R||!1};h.isEventStream=function(){return this.xh||!1};h.isLiveSeekableRangeMovingWindow=function(){return this.Ah};h.isLiveDone=function(){};h.Ib=function(a){var b=this.l[a];a=b.index;b=b.A[b.V].c;return!this.R&&a==b.length-1};
h.getSegmentInterval=function(a){var b=this.l[a],c=b.V;return 0<=c&&(a=b.index,0<=a&&(b=b.A[c],c=b.c,a<c.length))?{time:c[a].time-b.P,duration:c[a].duration}:{time:0,duration:0}};h.reset=function(a){this.l[a].index=-1};h.Gd=function(a){a=this.l[a];var b=a.A[a.V];null!==b.rb||null!==b.D&&null!==b.D.la||(a.Wa=!1);return a.Wa};h.qg=function(a,b){this.l[a].Wa=!1;262144<b.length?F(vi,"init data ("+b.length+" bytes) is too large to cache"):this.th[a][this.l[a].V]=b};
h.ie=function(a){var b=this.l[a];var c=this.th[a];return(b=b&&c?c[b.V]||null:null)?(this.l[a].Wa=!1,b):null};h.Af=function(){return null};h.updateSegmentRequestInfo=function(a,b){b.interval=this.getSegmentInterval(a)};h.processSegment=function(){};h.Bf=function(){return 0};var wi=function(a,b){t(a.R)||Ea("Cast.MPL.Live",b);a.R=b},vi=C("cast.player.comon.StreamingProtocolBase");var U=function(a){this.name=a;this.ij=!1};U.prototype.parse=function(){this.ij=!0};var xi=function(a){U.call(this,a);this.value=null};m(xi,U);xi.prototype.parse=function(a){U.prototype.parse.call(this,a);t(a)&&-1<a.indexOf("/")?(a=a.split("/"),this.value=parseInt(a[0],10)/(1<a.length?parseInt(a[1],10):1)):this.value=parseInt(a,10)};var V=function(a,b){U.call(this,a);this.value=b||null};m(V,U);V.prototype.parse=function(a){U.prototype.parse.call(this,a);this.value=a};
var yi=function(a){U.call(this,a);this.value=null};m(yi,U);yi.prototype.parse=function(a){U.prototype.parse.call(this,a);this.value="true"==a.toLowerCase()};var zi=function(a){U.call(this,a);this.value=null};m(zi,U);
zi.prototype.parse=function(a){U.prototype.parse.call(this,a);if(a=a.match(ke)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{b=parseInt(a[2],10)||0;var c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new le(-b,-c,-d,-e,-f,-g):new le(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.hc+a.mc)+a.rc)+a.wc};var Ai=function(a){U.call(this,a);this.value=null};m(Ai,U);
Ai.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.toUpperCase();for(var b in Bi)if(Bi.hasOwnProperty(b)&&a.includes(Bi[b])){this.value=Bi[b];break}};var Bi={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",CLEARKEY:"1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B",tk:"URN:MPEG:DASH:MP4PROTECTION:2011"},Ci=function(a){U.call(this,a);this.value=null};m(Ci,U);
Ci.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.toUpperCase();a.includes("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=Kf:a.includes("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")?this.value=Lf:a.includes("1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B")&&(this.value=Mf)};var Di=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof U){var d=b[c];if(!d.ij){var e=a.getNamedItem(d.name);e&&d.parse(e.value)}}};var Fi=function(a){this.duration=new zi("mediaPresentationDuration");this.type=new V("type");this.pk=new zi("minimumUpdatePeriod");for(this.url=null;a;){if("MPD"==a.nodeName){Di(a.attributes,this);break}a=a.nextElementSibling}this.Md=[];if(a){for(var b=q(a.children),c=b.next();!c.done;c=b.next())if(c=c.value,"BaseURL"==c.nodeName){this.url=c.textContent;break}a=q(a.children);for(c=a.next();!c.done;c=a.next())b=c.value,"Period"==b.nodeName&&this.Md.push(new Ei(b,this))}},Gi=function(a){U.call(this,
a);this.end=this.start=null};m(Gi,U);Gi.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var Hi=function(a){this.media=new V("media");Di(a.attributes,this)},Ii=function(a){this.fk=new V("sourceURL");this.ya=new Gi("range");Di(a.attributes,this)},Ji=function(a){this.duration=new xi("duration");this.bf=new xi("timescale");this.P=new V("presentationTimeOffset");this.I=new xi("startNumber");this.Nc=new Gi("indexRange");Di(a.attributes,this);this.dd=this.oe=null;a=q(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "Initialization":this.oe=new Ii(b);break;
case "SegmentTimeline":this.dd=[];b=q(b.children);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=0;var e=d.attributes.getNamedItem("r");e&&(c=parseInt(e.value,10));e=(e=d.attributes.getNamedItem("t"))?new xg(e.value):null;if(d=d.attributes.getNamedItem("d"))for(d=parseInt(d.value,10),this.dd.push({time:e,duration:d}),e=0;e<c;e++)this.dd.push({time:null,duration:d})}}};
Ji.prototype.Va=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.bf.value&&(a.bf=this.bf);null===a.P.value&&(a.P=this.P);null===a.I.value&&(a.I=this.I);null===a.Nc.start&&(a.Nc=this.Nc);null===a.oe&&(a.oe=this.oe);null===a.dd&&(a.dd=this.dd)};var Ki=function(a){Ji.call(this,a);this.c=[];a=q(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "SegmentURL":this.c.push(new Hi(b))}};m(Ki,Ji);
Ki.prototype.Va=function(a){Ji.prototype.Va.call(this,a);0==a.c.length&&(a.c=this.c)};var Li=function(a){Ji.call(this,a);this.media=new V("media");this.la=new V("initialization");Di(a.attributes,this)};m(Li,Ji);Li.prototype.Va=function(a){Ji.prototype.Va.call(this,a);null===a.media.value&&(a.media=this.media);null===a.la.value&&(a.la=this.la)};
var Ni=function(a){this.Sl=new Ai("schemeIdUri");Di(a.attributes,this);var b=this.Sl.value;this.Pe=Mi(b,a);this.lc=b==Bi.tk},Mi=function(a,b){switch(a){case Bi.PLAYREADY:a=q(b.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "mspr:pro":return si(Ja(window.atob(b.childNodes[0].nodeValue.trim())));case "cenc:pssh":return a=Ja(window.atob(b.childNodes[0].nodeValue)),a=new Sg(a),si(a.getData())}return Oi(Kf);case Bi.WIDEVINE:return Oi(Lf);case Bi.CLEARKEY:return Oi(Mf);default:return null}},
Oi=function(a){return{systemId:a,ke:null,xe:null,url:null,Sf:0}},Pi=function(a){this.Re=[];this.lc=!1;this.Qb=this.D=this.Rb=this.url=null;a=q(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "BaseURL":this.url=b.textContent;break;case "ContentProtection":b=new Ni(b);b.Pe&&this.Re.push(b.Pe);this.lc=this.lc||b.lc;break;case "SegmentBase":this.Qb=new Ji(b);break;case "SegmentTemplate":this.D=new Li(b);break;case "SegmentList":this.Rb=new Ki(b)}};
Pi.prototype.Va=function(a){a.D?this.D&&this.D.Va(a.D):a.D=this.D;a.Qb?this.Qb&&this.Qb.Va(a.Qb):a.Qb=this.Qb;a.Rb?this.Rb&&this.Rb.Va(a.Rb):a.Rb=this.Rb;if(a.url&&this.url){var b=this.url;var c=a.url;b instanceof J||(b=De(b));c instanceof J||(c=De(c));b=b.resolve(c).toString()}else b=a.url||this.url;a.url=b;0==a.Re.length&&(a.Re=this.Re);a.lc=a.lc||this.lc};var Qi=function(a){Pi.call(this,a);this.id=new V("id");this.mimeType=new V("mimeType");this.codecs=new V("codecs");Di(a.attributes,this)};
m(Qi,Pi);Qi.prototype.Va=function(a){Pi.prototype.Va.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};
var Ri=function(a,b){Qi.call(this,a);this.Ak=new xi("bandwidth");this.height=new xi("height");this.width=new xi("width");Di(a.attributes,this);b.Va(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"==this.codecs.value&&(this.codecs.value="avc1.4D401E")};m(Ri,Qi);
var Si=function(a,b){Qi.call(this,a);this.language=new V("lang");this.frameRate=new xi("frameRate");Di(a.attributes,this);this.role=null;b.Va(this);this.A=[];a=q(a.children);for(b=a.next();!b.done;b=a.next())b=b.value,"Representation"==b.nodeName?this.A.push(new Ri(b,this)):"Role"==b.nodeName&&(this.role=b.getAttribute("value"))};m(Si,Qi);
var Ei=function(a,b){Pi.call(this,a);this.duration=new zi("duration");this.start=new zi("start");Di(a.attributes,this);this.url=this.url||b.url;this.l=[];a=q(a.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "AdaptationSet":this.l.push(new Si(b,this))}};m(Ei,Pi);var Ti=function(a){T.call(this,a);this.Se=new Uc(5);this.sg=!1;this.Jd=this.Ed.bind(this);this.pa=null;this.Xc=[];this.Li=[]};m(Ti,T);Ti.prototype.Fa=function(){T.prototype.Fa.call(this);null!==this.pa&&(clearTimeout(this.pa),this.pa=null)};Ti.prototype.updateLicenseRequestInfo=function(a){var b=this.Se.get(a.protectionSystem);b&&(a.headers={},a.headers["content-type"]="text/xml;charset=utf-8",a.url=b.url)};
Ti.prototype.Mh=function(a){if(a.Md&&0!=a.Md.length){wi(this,"dynamic"==a.type.value);a.duration.value&&(this.duration=a.duration.value);a:{var b=a.Md;var c=b[0];if(c.l[0].D){var d=[],e=[];b=q(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var g=f.duration.value,k=0,l=[],n=q(f.l),p=n.next();!p.done;p=n.next()){var u=p.value;p=u.D;if(!p){F(Ui,"Multiple periods not using SegmentTemplate is not supported");c=[{start:c.start.value,duration:c.duration.value,Ie:null}];break a}u=this.uri.resolve(new J(u.A[0].url)).toString();
var w=new J(u);e[k]=e[k]||0;u=e[k];var A={za:0,P:0,c:[],url:null,D:null,I:null,rb:null};Vi(w,p,A);p=Wi(w,p);p={I:A.I,P:A.P,ej:u,D:p};l.push(p);e[k]+=Math.round(g/p.D.duration);k++}d.push({start:f.start.value,duration:f.duration.value,Ie:l})}c=d}else c=[{start:c.start.value,duration:c.duration.value,Ie:null}]}this.Xc=c;a=q(a.Md[0].l);for(c=a.next();!c.done;c=a.next()){d=c.value;e=d.A;c=e[0].mimeType.value;e=d.codecs.value||e[0].codecs.value||"";if(null===c){this.host.U(422,void 0,"No mime type in manifest",
Ui);break}if(Ld(c))b=1;else if(Md(c))b=2;else if(Hf(d.role,c,e))b=3;else continue;c={name:d.id.value,type:b,enabled:!1,Wa:!1,$:!0,index:-1,V:-1,A:[],language:d.language.value,mimeType:c,codecs:e,role:d.role};d=q(d.A);for(e=d.next();!e.done;e=d.next()){e=e.value;b=q(e.Re);for(f=b.next();!f.done;f=b.next())f=f.value,(g=Xi(f.systemId))&&this.Se.set(g,f);e.lc&&(this.sg=!0);f=this.uri.resolve(new J(e.url)).toString();b={za:e.Ak.value||0,id:e.id.value,P:0,c:[],url:f,I:null,D:null,rb:null};e.Qb||e.Rb||e.D?
(e.url&&"/"!=f[f.length-1]&&(f+="/"),f=new J(f),Vi(f,e.Qb,b),(g=e.Rb)&&Vi(f,g,b),e=e.D,g=b,e&&(Vi(f,e,g),g.D=Wi(f,e))):(e=f,f=this.duration,b.c.push({time:0,Ob:new xg("0"),duration:f,url:e}));c.A.push(b)}c.Wa=!0;this.l.push(c)}}else this.host.U(421,void 0,"No periods found in manifest",Ui)};
var Yi=function(a){if(Vf&&Vf.updateOutputMode){var b=a.frameRate.value;if(x(b)){a=q(a.A);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=d.width.value;var e=d.height.value;if(x(c)&&x(e)&&2160<=e){a=d.codecs.value;G(Ui,"Update output mode with frameRate="+b+" codecs="+a);Vf.updateOutputMode(c,e,b,a);break}}}}},Zi=function(a){a=q(a.Md);for(var b=a.next();!b.done;b=a.next()){var c={};b=q(b.value.l);for(var d=b.next();!d.done;c={frameRate:c.frameRate},d=b.next())d=d.value,c.frameRate=d.frameRate.value,
d.A=d.A.filter(function(a){return function(b){var c=a.frameRate;if(Wf){var d=b.codecs.value,e=b.mimeType.value,f=b.width.value;b=b.height.value;x(f)&&x(b)&&2160<=b&&d&&e?(e=e+"; codecs="+Uf(d),f&&b&&(e+="; width="+f+"; height="+b),x(c)&&(e+="; framerate="+c),Od(d)&&(e+="; eotf=smpte2084"),c=Wf(e),G(Ui,"canDisplay("+e+"): "+!!c)):c=!0}else c=!0;return c}}(c)),Yi(d)}};
Ti.prototype.tc=function(a,b){if(a){b&&(this.uri=new J(b));var c=null!==this.pa,d=this.l;this.l=[];var e=(new DOMParser).parseFromString(a,"text/xml");if(e.firstChild)if(e=new Fi(e.firstChild),Zi(e),this.Mh(e),this.sg||this.Zc.De(this.Se.Ia()),this.R&&x(e.pk.value)&&(this.pa=setTimeout(this.Jd,1E3*(e.pk.value||10))),c){for(a=0;a<d.length;a++){b=this.l[a];c=d[a];b.enabled=c.enabled;b.V=c.V;b.Wa=c.Wa;e=[];for(var f=!0,g=c.index,k=0;k<b.A.length;k++){var l=c.A[k],n=b.A[k];n.P=l.P;if(x(l.I)&&x(n.I)){var p=
l.I+g-n.I;p=0<p?{c:n.c,index:p,I:n.I}:{c:l.c.slice(g,n.I-l.I).concat(n.c),index:0,I:l.I+g}}else p=null;if(p)l=p;else{p={c:[],index:0,I:n.I};var u=n.c[0];0<=g&&u.time<l.c[g].time?(p.c=n.c,p.index=$i(l.c[g].time,n.c),l=p):(u=$i(u.time,l.c),-1==u?l=null:(g>u?(p.c=n.c,p.index=g-u):(p.c=l.c.slice(g,u).concat(n.c),p.index=0,x(n.I)&&(p.I-=u-g)),l=p))}e[k]=l;if(!e[k]){f=!1;F(Ui,"Old and new representations are out of sync.");break}}if(!(0>g))if(f){for(f=0;f<b.A.length;f++)b.A[f].c=e[f].c,b.A[f].I=e[f].I;
b.$=c.$;b.index=e[0].index}else b.$=!0,b.index=0}this.Zc.Th()}else T.prototype.tc.call(this,a,b)}else this.host.U(321,pi(this.Tc))};Ti.prototype.Da=function(a){var b=this.l[a];b=b.A[b.V];return 0==b.c.length&&b.D?(a=this.duration,this.R&&(a-=20),{start:0,end:a}):T.prototype.Da.call(this,a)};var bj=function(a,b,c){c=aj(a,b,c);a.Li[b]!=c&&(a.l[b].$=!0);a.Li[b]=c};
Ti.prototype.seek=function(a,b){var c=this.l[a],d=c.A[c.V];if(0==d.c.length&&d.D){var e=this.Da(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.D.duration);d=Math.ceil(this.duration/d.D.duration);c.index=e<d?e:d-1;bj(this,a,c.index);return b}return T.prototype.seek.call(this,a,b)};
Ti.prototype.pc=function(a){var b=this.l[a],c=b.A[b.V];if(0==c.c.length&&c.D){var d=b.index+1;return d<Math.ceil(this.duration/c.D.duration)?(b.index=d,bj(this,a,b.index),!0):!1}return T.prototype.pc.call(this,a)};var aj=function(a,b,c){a=a.Xc;for(var d=0;d<a.length-1&&!(c<a[d+1].Ie[b].ej);d++);return d};h=Ti.prototype;h.Ib=function(a){var b=this.l[a],c=b.A[b.V];return 0==c.c.length&&c.D?b.index==Math.ceil(this.duration/c.D.duration)-1:T.prototype.Ib.call(this,a)};
h.getSegmentInterval=function(a){if(this.Gd(a))return{time:0,duration:0};var b=this.l[a],c=b.A[b.V];if(c.D){b=b.index;if(0>b)return{time:0,duration:0};0<c.c.length?(a=c.c[b].duration,c=c.c[b].time-c.P):(a=c.D.duration,c=b*a);return{time:c,duration:a}}return T.prototype.getSegmentInterval.call(this,a)};
h.updateSegmentRequestInfo=function(a,b){T.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.l[a],d=c.A[c.V];c=c.index;var e=this.Gd(a);if(d.D){var f=d.D,g=null;1<this.Xc.length&&(g=this.Xc[aj(this,a,c)].Ie[a],f=g.D);a=e?f.la:f.url;a=a.replace(/\$RepresentationID\$/g,d.id);a=a.replace(/\$Bandwidth\$/g,d.za.toString());e||(e=c+(d.I||0),1<this.Xc.length&&(e=c+(g.I||0)-g.ej),a=cj(a,e),a=a.replace("$Time$",0<d.c.length?d.c[c].Ob.toString():(c*f.duration).toString()));b.url=a}else{g=f=null;
if(e)c=d.rb,d=c.url?c.url:d.url,c.ya&&(f=c.ya.start,g=c.ya.end);else if(c<d.c.length)c=d.c[c],c.url?d=c.url:(d=d.url,f=c.offset,g=c.offset+c.size-1);else{this.host.U(423,void 0,"Invalid segment info in manifest.",Ui);return}b.url=d;b.headers={};null===f||null===g||(b.headers.Range="bytes="+f+"-"+g)}};
h.processSegment=function(a,b,c){var d=this.l[a],e=d.A[d.V],f=b.data;if(this.sg&&this.Zc){var g=Q(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.ni,url:null,ke:null,xe:null,Sf:0}){var k=Xi(g.systemId);k&&(this.Se.set(k,g),this.Zc.De(this.Se.Ia()),this.sg=!1)}}if(b.Oc)if(d=(d=Q(f,1836019574))?Jg(d):null,null===d)this.host.U(322,void 0,"no init",Ui);else{if(!e.D&&0==e.c.length){a=0;b.Oc&&e.rb&&e.rb.ya&&(a=e.rb.ya.start);f=(f=Q(f,1936286840))?f.oh(a):null;if(!f){F(Ui,"no segments");return}e.c=
f}Xh(c,d,{time:b.interval.time,duration:0},0,!1)}else g=b.interval,e=e.P,1<this.Xc.length&&(e=this.Xc[aj(this,a,d.index)],e=e.Ie[a].P-e.start),this.host.processMetadata&&(a=b.data,Q(a,1701671783,void 0,!0)&&this.host.processMetadata("EMSG",a,b.interval.time)),Xh(c,f,g,g.time+e,d.$),d.$=!1};h.Bf=function(){return 1};
var Xi=function(a){return Kf.Eb(a)?"playready":Lf.Eb(a)?"widevine":Mf.Eb(a)?"clearkey":null},Vi=function(a,b,c){if(b){null!==b.I.value&&(c.I=b.I.value);var d=b.bf.value||1,e=new xg(b.P.value||"0");c.P=parseInt(e.toString(),10)/d;e=new xg(e.toString());var f=b.c,g=b.dd,k=0;g?k=g.length:f&&0<f.length&&(k=f.length);for(var l=0;l<k;l++){var n=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new xg(g[l].time.toString()));var p=parseInt(e.toString(),10)/d,u=new xg(e.toString());if(!f||0>=f.length)var w=
null;else{w=f[l].media.value;var A=a.resolve(new J(w)).toString();w=!w&&A.endsWith("/")?A.slice(0,-1):A}c.c.push({time:p,Ob:u,duration:n/d,url:w});e.add(n)}(d=c.rb)||(f=e=d=null,g=!0,(k=b.oe)&&k.fk.value?(g=!1,d=k.fk.value,k.ya.start&&k.ya.end&&(e=k.ya.start,f=k.ya.end)):(e=0,k&&k.ya.start&&k.ya.end&&(e=k.ya.start,f=k.ya.end,g=!1),b.Nc.start&&b.Nc.end&&(e=Math.min(e,b.Nc.start),f=Math.max(f,b.Nc.end),g=!1),f||(f=2048)),d=g?null:{url:d?a.resolve(new J(d)).toString():null,ya:null===e||null===f?null:
{start:e,end:f},data:null});c.rb=d}},Wi=function(a,b){return{duration:(b.duration.value||0)/(b.bf.value||1),url:a.resolve(new J(b.media.value)).toString(),la:b.la.value?a.resolve(new J(b.la.value)).toString():null}},$i=function(a,b){for(var c=.5*b[0].duration,d=0;d<b.length;d++)if(Math.abs(b[d].time-a)<=c)return d;return-1},cj=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(a){var c=a.indexOf("%0");if(0>c)return b;c=parseInt(a.substring(c+2,a.length-2),10);switch(a.substr(a.length-
2,1)){case "x":return Pf(b,16,c);case "X":return Pf(b,16,c).toUpperCase();case "o":return Pf(b,8,c);default:return Pf(b,10,c)}})},Ui=C("cast.player.dash.Protocol");var dj=function(a){this.Xf=a;this.me=null;this.oi=this.Fc=0},ej=function(a,b){b=b.length>a.Fc?b.subarray(0,a.Fc):b;N(a.me,b);a.Fc-=b.length};
dj.prototype.append=function(a,b,c,d){b=b.subarray(c,d);if(this.me)return ej(this,b),0==this.Fc&&(this.Xf&&this.Xf("ID3",Bg(this.me),this.oi),this.Fc=this.oi=this.me=null),0;c=0;73!=b[c++]||68!=b[c++]||51!=b[c++]?c=null:(c+=3,d=b[c++]<<21|b[c++]<<14|b[c++]<<7|b[c++],c+=d);if(null===c)return 0;if(c<=b.length)return this.Xf&&this.Xf("ID3",b.subarray(0,c),a),c;this.me=new Ag(c);this.oi=a;this.Fc=c;ej(this,b);return 0};var fj=function(){this.m=null;this.xd=this.$c=this.bj=this.Ng=this.Cf=this.Ke=this.C=0};fj.prototype.xa=function(){return null===this.m};fj.prototype.Kf=function(){return this.C>=this.m.length};fj.prototype.la=function(a){this.m=a;this.xd=this.$c=this.Ng=this.Cf=this.Ke=this.C=0};
fj.prototype.parse=function(){for(var a=this.C;this.C<this.m.length&&!(524288<this.C-a);){for(;this.C<this.m.length&&71!=this.m[this.C];)this.C++;if(this.C+188>this.m.length)break;var b=this.C+188,c=b-1;this.C++;var d=this.m[this.C]&64,e=this.m[this.C]&31;this.C++;e=e<<8|this.m[this.C];this.C++;var f=(this.m[this.C]&48)>>4;this.C++;f&2&&(this.C+=this.m[this.C]+1);if(0==e||e==this.Ke)if(d&&this.C++,c=this.m[this.C],this.C++,0==c)for(c=this.C,d=this.m[c]&15,c++,d=d<<8|this.m[c],c++,d=c+d-4,c+=5;c<d;)if(e=
this.m[c],c++,e=(e<<8)+this.m[c],c++,0==e)c+=2;else{this.Ke=this.m[c]&31;c++;this.Ke=(this.Ke<<8)+this.m[c];break}else{if(2==c)for(c=this.C,d=this.m[c]&15,c++,d=d<<8|this.m[c],c++,d=c+d-4,c=c+5+2,e=this.m[c]&15,c++,e=e<<8|this.m[c],c+=e+1;c<d;){e=this.m[c];c++;f=this.m[c]&31;c++;f=f<<8|this.m[c];c++;switch(e){case 27:case 219:this.Cf=f;break;case 15:case 207:this.Ng=f;break;case 21:this.bj=f}e=this.m[c]&15;c++;e=e<<8|this.m[c];c+=e+1}}else if(e==this.bj)this.Qj(this.C,c,!!d);else if(e==this.Cf||e==
this.Ng)d&&this.ai(this.C),e==this.Cf&&this.Pj(this.C,c);this.C=b}};var gj=function(a,b){var c=((a.m[b]&14)<<13)/1.373291015625;c+=(a.m[b+1]<<6)/1.373291015625;c+=(a.m[b+2]&254)/5.4931640625;c+=a.m[b+3]/703.125;return c+=(a.m[b+4]&254)/18E4};fj.prototype.ai=function(a){if(0==this.m[a]&&0==this.m[a+1]&&1==this.m[a+2]){a+=7;var b=this.m[a]>>6&3;a++;var c=this.m[a];a++;this.C=a+c;2==b?this.xd=this.$c=gj(this,a):3==b&&(this.$c=gj(this,a),this.xd=gj(this,a+5))}};fj.prototype.Qj=function(){};
fj.prototype.Pj=function(){};var hj=function(a,b,c){fj.call(this);this.fb=null;this.If=b?new dj(b):null;this.Lh=Infinity;this.Zl=c;for(this.la(a);!this.Kf();)this.parse()};m(hj,fj);hj.prototype.Xi=function(){return this.Lh};hj.prototype.ai=function(a){fj.prototype.ai.call(this,a);null===this.fb&&(this.fb=this.xd);a=ij(this.fb,this.xd);a<this.Lh&&(this.Lh=a)};
hj.prototype.Qj=function(a,b,c){if(this.If){a=new hg(this.m.subarray(a,b+1));if(c){if(1!=L(a)>>8)return;M(a,2);M(a,2);c=ig(a);M(a,c)}null===this.fb&&(this.fb=this.xd);this.If.append(this.Zl+(ij(this.fb,this.$c)-this.fb),mg(a),0)}};var ij=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b;b=95443.7176888889*(c+1)+b;c=Math.abs(d-a);var f=Math.abs(e-a);a=Math.abs(b-a);var g=c;f<c&&(d=e,g=f);a<g&&(d=b);return d};var W=function(a,b){this.Dk=a;this.Yd=b?b:null;this.b=null};W.prototype.i=function(a){var b=Bg(a).length;this.b=a;this.wi();this.B();a=Bg(a).length-b;this.b.buffer.set([a>>24,a>>16,a>>8,a],b)};W.prototype.wi=function(){this.b.h(0);this.b.h(this.Dk);this.Yd&&N(this.b,this.Yd.hd())};W.prototype.B=function(){throw Error("writeBody() should be  overriden.");};var X=function(a,b,c){W.call(this,a);this.Ma=b;this.jc=c};m(X,W);
X.prototype.wi=function(){W.prototype.wi.call(this);this.b.h(this.Ma<<24|this.jc&16777215)};var jj=function(a){X.call(this,1935763823,0,0);this.C=a};m(jj,X);jj.prototype.B=function(){this.b.h(1);this.b.h(this.C)};var kj=function(a){X.call(this,1952867444,1,0);this.ce=a};m(kj,X);kj.prototype.B=function(){this.b.xi(this.ce)};var lj=function(a,b){X.call(this,1935763834,0,0);this.Ri=a;this.ak=b};m(lj,X);lj.prototype.B=function(){this.b.Kg(this.Ri);this.b.h(this.ak.length);0==this.Ri&&N(this.b,this.ak)};
var mj=function(a,b){X.call(this,1702061171,0,0);this.vl=a;this.de=b};m(mj,X);mj.prototype.B=function(){N(this.b,[3,25,0,1,0,4,17,this.vl,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.de[0],this.de[1]])};var nj=function(a,b){W.call(this,1635148611);this.gk=a;this.Sj=b};m(nj,W);nj.prototype.B=function(){N(this.b,[1,77,64,30,255,225]);this.b.md(this.gk.length);N(this.b,this.gk);this.b.Kg(1);this.b.md(this.Sj.length);N(this.b,this.Sj)};var oj=function(){X.call(this,1937011571,0,0)};m(oj,X);oj.prototype.B=function(){this.b.h(0)};
var pj=function(a,b,c){X.call(this,1952804451,0,1);this.Sk=c?0:a;this.Rk=b;this.Qi=c};m(pj,X);pj.prototype.B=function(){this.b.h(256|this.Sk);N(this.b,this.Rk.hd());this.Qi&&(this.b.Kg(16),N(this.b,this.Qi))};var qj=function(a){X.call(this,1936027235,0,2);this.ei=a};m(qj,X);qj.prototype.B=function(){this.b.h(this.ei.length);for(var a=0;a<this.ei.length;a++){var b=this.ei[a].ik;this.b.md(b.length);for(var c=0;c<b.length;c++){var d=b[c];this.b.md(d.Sg);this.b.h(d.Tg)}}};
var rj=function(a,b){X.call(this,1935894637,0,0);this.Tl=a;this.Ul=b};m(rj,X);rj.prototype.B=function(){this.b.h(this.Tl);this.b.h(this.Ul)};var sj=function(a){W.call(this,1718775137);this.Ok=a};m(sj,W);sj.prototype.B=function(){this.b.h(this.Ok)};var tj=function(a){X.call(this,1751411826,0,0);this.el=a};m(tj,X);tj.prototype.B=function(){this.b.h(0);this.b.h(this.el);N(this.b,[0,0,0,0,0,0,0,0,0,0,0,0])};var uj=function(a){X.call(this,1835296868,0,0);this.hb=a};m(uj,X);
uj.prototype.B=function(){this.b.h(0);this.b.h(0);this.b.h(this.hb);this.b.h(0);N(this.b,[85,196,0,0])};var vj=function(a,b){X.call(this,1953196132,0,3);this.gm=a;this.fl=b};m(vj,X);vj.prototype.B=function(){this.b.h(0);this.b.h(0);N(this.b,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);this.b.h(this.gm<<16);this.b.h(this.fl<<16)};var wj=function(a){X.call(this,1953654136,0,0);this.jl=a};m(wj,X);
wj.prototype.B=function(){var a=65536;this.jl&&(a&=-65537);N(this.b,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);this.b.h(a)};var xj=function(a,b){X.call(this,1886614376,0,0);this.ni=a;this.qb=b};m(xj,X);xj.prototype.B=function(){N(this.b,this.ni.hd());this.b.h(this.qb.length);N(this.b,this.qb)};var yj=function(a){X.call(this,1836476516,0,0);this.hb=a};m(yj,X);
yj.prototype.B=function(){this.b.h(0);this.b.h(0);this.b.h(this.hb);N(this.b,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var zj=function(a){X.call(this,1952868452,0,8);this.Tk=a};m(zj,X);zj.prototype.B=function(){this.b.h(1);this.b.h(this.Tk)};var Aj=function(a){X.call(this,1953658222,0,513);this.gi=a};m(Aj,X);
Aj.prototype.B=function(){this.b.h(this.gi.length);this.b.h(0);for(var a=0;a<this.gi.length;a++)this.b.h(this.gi[a].length)};var Bj=function(a){X.call(this,1835427940,0,0);this.xc=a};m(Bj,X);Bj.prototype.B=function(){this.b.h(this.xc)};var Cj=function(a){W.call(this,1835295092);this.Mi=a};m(Cj,W);Cj.prototype.B=function(){for(var a=0;a<this.Mi.length;a++)N(this.b,this.Mi[a])};var Ej=function(a){var b=new Uint8Array(2+a.length);b[1]=1;Ja(a,b,2);xj.call(this,Dj,b)};m(Ej,xj);
var Dj=new Jf([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);var Gj=function(a,b){var c=new Cg;(new xj(Lf,Fj(a,b))).i(c);return Bg(c)},Fj=function(a,b){var c=new pf;hf(c,1,1);var d=Qf(a.ve);df(c,2).push(d);hf(c,3,a.Ml);a=a.Jk;b&&(a=window.atob(a));b=[];for(d=0;d<a.length;d++)b.push(a.charCodeAt(d));b=new Uint8Array(b);hf(c,4,b);hf(c,9,1667392371);return c.og()},Hj=[71,64,1,16,0,1,176,45,255,255,193,0,0,9,34,99,101,224,16,99,98,99,115,0,1,0,0,1,0,16,1,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,143,19,198,145,164,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,71,64,17,16,127,255,255,255,0,0,0,32,112,115,115,104,0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,16,48,147,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,79,16,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,1,112,213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183];var Ij=function(a,b,c){this.ul=a;this.sampleRate=b;this.lb=c;this.Qc=void 0},Jj=function(a,b,c,d){this.width=a;this.height=b;this.fd=c;this.Le=d},Kj=function(a,b,c,d,e,f){this.wb=a;this.Bc=b;this.Gk=c;this.dl=d;this.audio=e;this.video=f},Lj=function(a){W.call(this,1836019574);this.j=a};m(Lj,W);Lj.prototype.B=function(){(new yj(this.j.Bc)).i(this.b);var a=this.j.wb;a&&a.ke&&(new xj(a.systemId,a.ke)).i(this.b);(new Mj(this.j)).i(this.b);(new Nj(this.j)).i(this.b)};
var Nj=function(a){W.call(this,1953653099);this.j=a};m(Nj,W);Nj.prototype.B=function(){var a=0,b=0,c=this.j.video;c&&(a=c.width,b=c.height);(new vj(a,b)).i(this.b);(new Oj(this.j)).i(this.b)};var Oj=function(a){W.call(this,1835297121);this.j=a};m(Oj,W);Oj.prototype.B=function(){(new uj(this.j.Bc)).i(this.b);(new tj(this.j.dl)).i(this.b);(new Pj(this.j)).i(this.b)};var Pj=function(a){W.call(this,1835626086);this.j=a};m(Pj,W);Pj.prototype.B=function(){(new Qj(this.j)).i(this.b)};
var Qj=function(a){W.call(this,1937007212);this.j=a};m(Qj,W);Qj.prototype.B=function(){(new Rj(this.j)).i(this.b);this.j.video&&(new oj).i(this.b)};var Rj=function(a){X.call(this,1937011556,0,0);this.j=a};m(Rj,X);Rj.prototype.B=function(){this.b.h(1);(this.j.video?new Sj(this.j):new Tj(this.j)).i(this.b)};var Tj=function(a){W.call(this,a.wb?1701733217:1836069985);this.j=a};m(Tj,W);
Tj.prototype.B=function(){N(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);this.b.h(this.j.audio.sampleRate<<16);(new mj(this.j.audio.ul,this.j.audio.lb)).i(this.b);this.j.wb&&(new Uj(this.j)).i(this.b)};var Sj=function(a){W.call(this,a.wb?1701733238:1635148593);this.j=a};m(Sj,W);
Sj.prototype.B=function(){N(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);this.b.md(this.j.video.width);this.b.md(this.j.video.height);N(this.b,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new nj(this.j.video.fd,this.j.video.Le)).i(this.b);this.j.wb&&(new Uj(this.j)).i(this.b)};var Mj=function(a){W.call(this,1836475768);this.j=a};m(Mj,W);Mj.prototype.B=function(){(new wj(!this.j.video)).i(this.b)};
var Uj=function(a){W.call(this,1936289382);this.j=a};m(Uj,W);Uj.prototype.B=function(){(new sj(this.j.Gk)).i(this.b);(new rj(this.j.wb.scheme||1667591779,0)).i(this.b);(new Vj(this.j)).i(this.b)};var Vj=function(a){W.call(this,1935894633);this.j=a};m(Vj,W);Vj.prototype.B=function(){var a=this.j.wb;a&&a.xe&&(new pj(a.Sf,a.xe,a.Hk)).i(this.b)};var Wj=function(a,b,c,d,e){Lj.call(this,new Kj(a,b,1836069985,1936684398,new Ij(c,d,e),null))};m(Wj,Lj);
var Xj=function(a,b,c,d,e,f){Lj.call(this,new Kj(a,b,1635148593,1986618469,null,new Jj(c,d,e,f)))};m(Xj,Lj);var Yj=function(a,b,c,d){W.call(this,1836019558);this.j={Ql:a,Bk:b,Rl:c,$j:d}};m(Yj,W);Yj.prototype.B=function(){(new Bj(0)).i(this.b);(new Zj(this.j)).i(this.b)};var Zj=function(a){W.call(this,1953653094);this.j=a};m(Zj,W);Zj.prototype.B=function(){this.j.$j&&(new qj(this.j.$j)).i(this.b);(new zj(this.j.Ql)).i(this.b);(new kj(this.j.Bk)).i(this.b);(new Aj(this.j.Rl)).i(this.b)};var ak=function(a,b,c){W.call(this,1836019558);this.ce=b;this.Cl=a;this.tg=c};m(ak,W);
ak.prototype.B=function(){for(var a=Xg(O(this.Cl),void 0);0<a.length;){var b=a.shift();switch(b.getName()){case 1953653094:(new bk(b,this.ce,this.tg)).i(this.b);break;default:b.i(this.b)}}};var bk=function(a,b,c){W.call(this,1953653094);this.ce=b;this.Dl=a;this.tg=c};m(bk,W);
bk.prototype.B=function(){for(var a=Xg(O(this.Dl),void 0),b=null,c=!1,d=!1;0<a.length;){var e=a.shift();switch(e.getName()){case 1970628964:e instanceof Ng&&(b=e);break;case 1952868452:var f=e;f.jc&32&&(this.tg=!1);Dg(O(f),0,1);e.i(this.b);break;case 1953658222:(new ck(e,this.tg)).i(this.b);break;case 1935763823:c=!0;e.i(this.b);break;case 1935763834:d=!0;e.i(this.b);break;default:e.i(this.b)}}(new kj(this.ce)).i(this.b);b&&(d||(new lj(b.Dh?0:8,b.mg)).i(this.b),c||(new jj(0)).i(this.b))};
var ck=function(a,b){var c=a.jc,d=!1;var e=null;c&1||(d=!0,c|=1);!b||c&1024||c&4||(c|=4,e=0);b=d;X.call(this,1953658222,a.Ma,c);this.Vl=b;this.Ti=e;this.El=a};m(ck,X);ck.prototype.B=function(){var a=new zg(O(this.El));this.b.h(L(a));this.Vl&&this.b.h(0);null===this.Ti||this.b.h(this.Ti);N(this.b,mg(a))};var dk=function(a,b,c){hg.call(this,a);this.If=new dj(b);this.xf=c};m(dk,hg);dk.prototype.kg=function(){throw Error("readAudioHeader is not implemented");};var ek=function(a,b,c,d,e,f,g,k){this.Bi=a;this.vf=c;this.fb=d;this.Kh=f;this.xf=g;this.Pk=k;this.he=[];this.sampleRate=0;this.ng=e;this.de=new Uint8Array([0,0])};
ek.prototype.parse=function(a){for(var b=this.tf(this.vf),c=[],d=null;b.offset<b.buffer.length;){var e=b.If.append(a,b.buffer,b.offset);b.offset+=e;if(!e)if(d=b.kg())d.bk&&(this.ng=d.bk),c.push(lg(b,d.mh)),a+=this.ng/d.sampleRate;else return Mc(fk,"Neither ID3 nor ADTS header was found at "+mg(b).byteOffset),!1}if(null===d)return Mc(fk,"No ADTS header was found."),!1;b=Gg(d.profile,d.sampleRate,d.Nh);if(null===b)return Mc(fk,"Cannot generate audio codec private data."),!1;this.he=c;this.sampleRate=
d.sampleRate;this.de=b;return!0};ek.prototype.tf=function(){throw Error("createdataReader is not implemented");};ek.prototype.Xi=function(){return this.fb};ek.prototype.Cd=function(){throw Error("getTimeScale is not implemented");};var fk=C("cast.player.hls.PackedAudioParser");var gk=function(a,b){dk.call(this,a,b)};m(gk,dk);gk.prototype.kg=function(){var a=this.buffer.subarray(this.offset);if(255!=a[0]||240!=(a[1]&240))return null;var b=((a[3]&3)<<11)+(a[4]<<3)+((a[5]&224)>>5),c=a[2]>>2&15,d=a[1]&1?7:9;this.offset+=d;return{profile:(a[2]>>6&3)+1,sampleRate:Eg[c],Nh:(a[2]<<2&4)+(a[3]>>6&3),mh:b-d}};var hk=function(a,b,c,d,e,f){var g=a.match("mp4a.67")?103:64;ek.call(this,g,a,b,c,1024,d,e,f)};m(hk,ek);hk.prototype.tf=function(a){return new gk(a,this.Kh)};
hk.prototype.Cd=function(){return 1E6};var ik=[48E3,44100,32E3],jk=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],
[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],kk=function(a,b,c){dk.call(this,a,b,c)};m(kk,dk);kk.prototype.kg=function(){var a=this.buffer.subarray(this.offset),b=0;if(11!=a[b++]||119!=a[b++])return null;b+=2;var c=a[b++];b=c>>6&3;c=jk[c&63];return t(c)?{profile:(a[2]>>6&3)+1,sampleRate:ik[b],Nh:6,mh:2*c[b]}:(this.xf(316),null)};var lk=function(a,b,c,d,e,f){ek.call(this,165,a,b,c,1536,d,e,f)};m(lk,ek);lk.prototype.tf=function(a){return new kk(a,this.Kh,this.xf)};
lk.prototype.Cd=function(){return this.sampleRate};var mk=function(a,b){this.a=a;this.wh=!1;this.Vg=b;this.Vh=this.zl.bind(this);this.Sh=this.Hd.bind(this)};mk.prototype.cancel=function(){this.wh=!0};mk.prototype.Hd=function(a){if(!this.wh){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);this.a.U(203,void 0,b)}};mk.prototype.zl=function(a){this.wh||this.Vg(a)};var nk=function(a,b,c,d,e){mk.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.Vh,this.Sh)};m(nk,mk);var ok=[1,2,3,6],pk=C("cast.player.hls.Eac3Reader"),qk=function(a){dk.apply(this,arguments)};m(qk,dk);qk.prototype.kg=function(){var a=this.buffer.subarray(this.offset);if(11!=a[0]||119!=a[1])return null;var b=a[2]<<8&1792|a[3],c=a[4]>>6&3;3===c?(c=a[4]>>4&3,a=3,c=3>c?ik[c]/2:void 0):(a=a[4]>>4&3,c=ik[c]);return t(c)?{profile:0,sampleRate:c,bk:256*ok[a],Nh:6,mh:2*(b+1)}:(Mc(pk,"Cannot determine sample rate."),null)};var rk=function(a,b,c,d,e,f){ek.call(this,166,a,b,c,256,d,e,f)};m(rk,ek);rk.prototype.tf=function(a){return new qk(a,this.Kh,this.xf)};rk.prototype.Cd=function(){return this.sampleRate};var sk=function(a,b,c){mk.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.Vh,this.Sh)};m(sk,mk);var tk=function(a){this.Ra=-1;this.w=null;this.pl=this.ol.bind(this);this.Fl=a};tk.prototype.ol=function(a,b){for(var c=0,d=null,e=0;e<b.length;e++)if(null!==b[e].fg){c=e;d=b[e].fg;break}if(null===d)return null;b=-1;e=Infinity;for(var f=0;f<a.length;f++){var g=Math.abs(a[f].fg-d);if(100>g)return f-c;g<e&&(b=f,e=g)}return 0>b||e>500*this.w.wg?-1:b-c};var uk=function(a,b){b=b[0].ji;for(var c=0;c<a.length;c++)if(a[c].ji==b)return c;return null};h=tk.prototype;
h.update=function(a,b){b=void 0===b?!1:b;if(0>this.Ra)this.w=a;else if(0==a.c.length)F(vk,"new manifest has no segment");else{var c=this.w.c,d=c[this.Ra],e=a.c,f={Ad:uk,tj:"sequence number"};var g={Ad:this.pl,tj:"program date time"};g=this.w.ph&&a.ph?this.Fl?[f,g]:[g,f]:[f];a:{f=b;f=void 0===f?!1:f;g=q(g);for(var k=g.next();!k.done;k=g.next()){k=k.value;b:{var l=this.Ra;var n=k.Ad,p=f;p=void 0===p?!1:p;var u=n(c,e);if(null===u){u=n(e,c);if(null===u){l=-1;break b}u*=-1}n=l-u;!(l<u)||this.w.R&&p?n>=
e.length&&(e.length=0,Array.prototype.push.apply(e,c),n=l):(l=c[l],0<e.length&&(e[0].wf=!0),e.splice(0,0,l),n=0);l=n}if(0>l)F(vk,"No match was found using "+k.tj);else{c=l;break a}}c=-1}!(0>c)||this.w.R&&b||(F(vk,"New segments are appended after current"),0<e.length&&(e[0].wf=!0),e.splice(0,0,d),c=0);0>c?(b=this.w.c[0],b=(this.Ra-c)*b.duration+b.Aa):b=d.Aa-e[c].Aa;e=q(e);for(d=e.next();!d.done;d=e.next())d.value.Aa+=b;this.Ra=0>c?0:c;this.w=a}};
h.next=function(){var a=this.Ra+1;return a<this.w.c.length?(this.Ra=a,!0):!1};h.Ib=function(){return!this.w.R&&this.Ra==this.w.c.length-1};h.Da=function(){var a=this.w.c,b=a[0].Aa,c=a.length-1;a=a[c].Aa+a[c].duration;this.w.R&&(a-=3*this.w.wg,a<b&&(a=b));return{start:b,end:a}};
h.seek=function(a){var b=this.Da();if(!b)return null;for(var c=this.w.c,d=q(c),e=d.next();!e.done;e=d.next())e.value.$=!1;a<b.start&&(a=b.start);a>b.end&&(a=b.end);for(b=c.length-1;0<=b;b--)if(a>=c[b].Aa)return this.Ra=b,c[this.Ra].$=!0,a;return null};var wk=function(a){return 0>a.Ra?null:a.w.c[a.Ra]},vk=C("cast.player.hls.Iterator");var xk=function(a,b,c,d){mk.call(this,a,b);cast.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.Vh,this.Sh)};m(xk,mk);var yk=function(a,b,c,d){D.call(this);this.a=a;this.K=c;this.ua=d;this.nk=b;this.Y=null;this.sb=new tk(1==this.a.preferSequenceNumberForPlaylistMatching);this.Hj=this.xl.bind(this);this.Pi=this.Qk.bind(this);this.hi=this.jg=null;this.Wj=-1;this.He=null;this.g=new H;zd(this.g);E(this.g,"success",this.wl,!1,this);E(this.g,"error",this.Dj,!1,this);E(this.g,"timeout",this.Dj,!1,this);this.v=new xf;this.v.setResponse=this.Yi.bind(this);this.we=this.Me=this.mj=this.Kb=this.ee=this.si=null;this.Ce=this.Zf=
!1;this.Xd=!0;this.oa=null;this.zk={};this.Uf=this.La=this.nc=null;this.yd=-1};m(yk,D);h=yk.prototype;h.H=function(){this.reset();this.g.J()};h.reset=function(){this.Xd=!0;this.nc=this.oa=this.He=null;this.g.abort();this.Me&&(this.Me.cancel(),this.Me=null);this.ee&&(this.ee.cancel(),this.ee=null);null===this.La||clearTimeout(this.La)};h.xl=function(a){this.Me=null;this.we=a;this.La=setTimeout(this.Pi,0)};h.wl=function(a){this.Yi(Kd(a.target))};
h.Yi=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Ka(a))){a.then(function(a){zk(b,a)});return}zk(this,a)}else this.a.U(313)};var zk=function(a,b){a.Me=a.a.rh?new xk(a.a,a.Hj,b,a.si):new sk(a.a,a.Hj,b)};yk.prototype.Dj=function(){this.a.U(314,new yf(this.v.url,this.g.Lb,Id(this.g),this.g.getAllResponseHeaders(),Kd(this.g)))};
yk.prototype.Qk=function(){var a=this.He.info,b=this.He.data;a&&a.Qc&&this.we&&b&&(G(Ak,"decrypt segment"),this.ee=new nk(this.a,this.Il.bind(this,a),this.we,a.Qc,b),this.La=this.He=null)};yk.prototype.Il=function(a,b){this.Ne(a,new Uint8Array(b))};
yk.prototype.Ne=function(a,b){G(Ak,"process segment");this.ee=null;var c;null!=this.ua&&0===this.ua&&(c=new hj(b,this.a.processMetadata,a.Aa));if(null!=this.K)switch(this.K){case 2:case 6:case 1:switch(this.K){case 2:c=lk;break;case 6:c=rk;break;default:c=hk}b=new c(this.Y.X.codecs,b,a.Aa,this.a.processMetadata,this.a.U.bind(this.a),this.a.decodeContentId);var d=a.wf||a.$;c=this.zk;var e=a.ac||void 0,f=a.Qc||void 0,g=c.endOfLastSegment;g=d||!t(g)?b.fb:g;if(b.parse(g)){b.fb=g;c.endOfLastSegment=g+
b.ng/b.sampleRate*b.he.length;c=new Cg(2*b.vf.length);d&&(d=null,e&&(d={systemId:Lf,url:null,ke:Fj(e,b.Pk),xe:new Jf(Qf(e.ve),!1),Hk:f,Sf:f?f.length:16,scheme:1667392371}),G(fk,"Built AudioMoov with objectType(0x"+b.Bi.toString(16)+") and sampleRate("+b.sampleRate+")"),(new Wj(d,b.Cd(),b.Bi,b.sampleRate,b.de)).i(c));f=g*b.Cd();d=b.ng/b.sampleRate*b.Cd();g=b.he;if(e){e=b.he;for(var k=[],l=0;l<e.length;l++){var n=e[l].length;if(0==n%16)k.push({ik:[{Sg:16,Tg:n-16}]});else{var p=n%16;k.push({ik:[{Sg:16,
Tg:n-16-p},{Sg:p,Tg:0}]})}}e=k}else e=void 0;(new Yj(d,f,g,e)).i(c);(new Cj(b.he)).i(c);c=Bg(c);Vg(c)}else c=null;e=c;if(!e){this.a.U(315);return}c=b;b=e;break;case 4:break;case 7:break;default:c=new hj(b,this.a.processMetadata,a.Aa)}if(a.wf||a.$)this.oa=null,a.$=!1;a={time:a.Aa,duration:a.duration};e=c?c.Xi():a.time;if(c=null===this.oa&&Infinity!=e)G(Ak,"start: "+e),this.oa=4==this.K?0:e,this.nc=a,this.nk&&(f=this.nk,f.fa&&f.fa.$(e,a));e=this.hi;this.hi=null;Xh(e,b,a,this.oa||0,c)};
var Ck=function(a){a.a.rh&&!a.si?cast.__platform__.cryptokeys.getKeyByName("CKP").then(function(b){a.si=b;Bk(a)}):Bk(a)},Bk=function(a){a.we=null;a.v.url=a.Kb;a.v.skipRequest=!1;if(a.a.updateLicenseRequestInfo&&(a.a.updateLicenseRequestInfo(a.v),a.v.skipRequest))return;a.g.$d=a.v.withCredentials;a.g.Yb=Math.max(0,a.v.timeoutInterval);a.g.send(a.v.url,void 0,void 0,a.v.headers)};h=yk.prototype;
h.processSegment=function(a,b,c){this.hi=c;this.He={data:b,info:a};(c=a.oj)?this.Kb!=c||null===this.we?(this.Kb=c,Ck(this)):this.La=setTimeout(this.Pi,0):this.Ne(a,b)};h.updateSegmentRequestInfo=function(a){var b=wk(this.sb);if(b){var c;this.Ce?(this.Ce=!1,this.Uf=c=b.Vf,b=this.Y.O.Hh.get(c),c=b.Cb,b=b.url):(a.vc=b,this.Xd&&(b.$=!0,this.Xd=!1),a.interval=this.getSegmentInterval(),c=b.Cb,b=b.url);c&&(a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end);a.url=b}};
h.getSegmentInterval=function(){var a=wk(this.sb);return a?{time:a.Aa,duration:a.duration}:{time:0,duration:0}};h.Da=function(){return this.sb.Da()};h.Ib=function(){return this.sb.Ib()};var Dk=function(a){var b=wk(a.sb);if(b.mi||b.ac&&b.ac.ve!=a.mj&&(0===a.K||0===a.ua))a.Zf=!0;b.Vf!==a.Uf&&(a.Ce=!0)};yk.prototype.pc=function(){var a=this.sb.next();a&&Dk(this);return a};yk.prototype.seek=function(a){a=this.sb.seek(a);x(a)&&Dk(this);return a};
yk.prototype.Fe=function(){this.yd=this.Y.duration;Ek(this,this.Y.O)};var Ek=function(a,b){a.sb.update(b,a.a.mediaElement&&a.a.mediaElement.paused);a.jg&&(ei(a.jg),a.jg=null)};h=yk.prototype;h.rg=function(a,b,c){this.Wj=a;this.jg=b;this.Xd=!0;this.Y&&this.Y.O&&this.Y.O.R&&this.Y.Fa();this.Y=c;c.O?Ek(this,c.O):c.load()};h.getQualityLevel=function(){return this.Wj};h.$=function(a,b){this.Xd=!0;this.oa=a;this.nc=b};h.qg=function(a){this.Y.O.Hh.get(this.Uf).Gi=a};
h.ie=function(){var a=wk(this.sb),b=a.Vf;if(b&&b!==this.Uf){if(b=this.Y.O.Hh.get(b).Gi)this.Ce=!1;return b}if(a.mi)return this.Zf=!1,(b=Rf("hls-sample-aes-init-segment"))&&b.clear_leader?Ja(window.atob(b.clear_leader)):null;if(!a.ac||!a.Qc)return null;this.Zf=!1;this.mj=a.ac.ve;b=a.ac;a=a.Qc;var c=this.a.decodeContentId;var d=(d=Rf("hls-sample-aes-init-segment"))?{Vj:d.pssh_offset,lj:d.key_id_offset,kj:d.iv_offset,jk:Ja(window.atob(d.template))}:{Vj:196,lj:530,kj:548,jk:new Uint8Array(Hj)};var e=
d.jk;e.set(Gj(b,c),d.Vj);e.set(Qf(b.ve),d.lj);e.set(a,d.kj);return e};h.Af=function(){var a=wk(this.sb);return a?a.rk:null};h.Gd=function(){return this.Zf||this.Ce};h.getDuration=function(){return this.yd};var Ak=C("cast.player.hls.Adaptation"),Fk=function(a){yk.call(this,a,null,3)};m(Fk,yk);Fk.prototype.pc=function(){return null===this.oa||null===this.nc?!1:yk.prototype.pc.call(this)};Fk.prototype.seek=function(a){return null===this.oa||null===this.nc?null:yk.prototype.seek.call(this,a)};
Fk.prototype.processSegment=function(a,b,c){var d={time:a.Aa,duration:a.duration},e=!1;if(null===this.oa||null===this.nc)b=new Uint8Array(0);else if(this.Xd||a.$)d=this.nc,e=!0;Xh(c,b,d,this.oa||0,e)};var Gk=function(a,b,c){this.Ck=new J(a);this.K=b;this.ua=c;this.f=0;this.ue=this.Ig=this.kf=this.Kb=this.Ac=this.Za=null;this.gh=this.xc=0;this.eh=!1;this.Pd=null;this.aj=this.$i=!1;this.wj=new Map;this.Gh=this.Wf=null;this.w={hj:!1,R:!0,dg:null,hg:"none",ph:!1,wg:0,pi:0,c:[],Wb:[],xj:[],Hh:this.wj}};
Gk.prototype.parse=function(a){a=q(a.split("\n"));for(var b=a.next();!b.done;b=a.next())if(!Hk(this,b.value))return F(Ik,"failed to parse HLS playlist"),this.w=null;if(this.$i&&this.aj)for(a=0;a<this.w.Wb.length;)b=this.w.Wb[a].codecs,Jk(this.w.Wb[a].mimeType,b)?(F(Ik,"filtered out "+b+" stream"),this.w.Wb.splice(a,1)):a++;if(0<this.w.c.length&&(a=this.w.c[0],!a.ac))for(b=1;b<this.w.c.length;b++)this.w.c[b].ac&&(a.mi=!0);return this.w};
var Jk=function(a,b){return 0<=a.indexOf("audio")||0>b.indexOf(",")&&(0==b.indexOf("mp4a.")||"ac-3"==b)?!0:!1},Kk=function(a,b){var c=new J(b);c.Pb||(b=a.Ck.resolve(c).toString());return b},Hk=function(a,b){b=b.trim();if(!b)return!0;if("#"!=b[0]){if(3!=a.f&&4!=a.f)Lk(a,"URI"),a=!1;else{b=Kk(a,b);if(3==a.f){a.Za.fg=a.Pd;null!==a.Pd&&(a.Pd+=1E3*a.Za.duration);if(a.Kb||a.kf||a.Ig){a.Za.oj=a.Kb;a.Za.ac=a.kf;a.Za.rk=a.Ig;var c=a.Za;if(a.ue){var d=a.ue;for(var e=new Uint8Array(16),f=15,g=d.length;0<g;g-=
2,f--)e[f]=parseInt(1<g?d.substr(g-2,2):d.substr(0,1),16);d=e}else{d=a.Za.ji;e=new Uint8Array(16);for(f=15;0<=f;f--)e[f]=d&255,d>>=8;d=e}c.Qc=d}a.Wf&&(a.Za.Vf=a.Wf);a.Za.url=b;a.w.c.push(a.Za)}else a.Ac.url=b,a.w.Wb.push(a.Ac);a.f=2;a=!0}return a}c="#EXTINF:";if(0==b.indexOf(c))return d=b.indexOf(","),b=b.substr(c.length,(0<=d?d:b.length)-c.length),2!=a.f&&1!=a.f?(Lk(a,"EXTINF"),a=!1):(b=parseFloat(b),a.Za={ji:a.xc,url:"",Cb:null,Aa:a.gh,duration:b,wf:a.eh,fg:a.Pd,oj:null,ac:null,rk:null,Qc:null,
$:!1,mi:!1,Vf:null},a.w.pi+=b,a.gh+=b,a.eh=!1,a.xc+=1,a.f=3,a=!0),a;c="#EXT-X-MAP:";if(0==b.indexOf(c))return Mk(a,b.substr(c.length));c="#EXT-X-KEY:";if(0==b.indexOf(c))return Nk(a,b.substr(c.length));if(0==b.indexOf("#EXT-X-DISCONTINUITY-SEQUENCE"))return 1!=a.f?(Lk(a,"EXT-X-DISCONTINUITY-SEQUENCE"),a=!1):a=!0,a;if(0==b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=a.f&&1!=a.f?(Lk(a,"EXT-X-DISCONTINUITY"),a=!1):(a.eh=!0,a.f=2,a=!0),a;c="#EXT-X-PROGRAM-DATE-TIME:";if(0==b.indexOf(c))return b=b.substr(c.length),
2!=a.f&&3!=a.f&&1!=a.f?(Lk(a,"EXT-X-PROGRAM-DATE-TIME"),a=!1):(c=Date.parse(b),isNaN(c)?(F(Ik,"cannot parse #EXT-X-PROGRAM-DATE-TIME: "+b),a=!1):(a.Pd=c,a=a.w.ph=!0)),a;c="#EXT-X-BYTERANGE:";if(0==b.indexOf(c))return b=b.substr(c.length),3!=a.f?(Lk(a,"EXT-X-BYTERANGE"),a=!1):(b=Ok(a,b),a.Za.Cb=b,a.Gh=b.end,a=!0),a;if(0==b.indexOf("#EXTM3U"))return 0!=a.f?(Lk(a,"EXTM3U"),a=!1):(a.f=1,a=!0),a;c="#EXT-X-PLAYLIST-TYPE:";if(0==b.indexOf(c)){b=b.substr(c.length);if(1!=a.f)Lk(a,"EXT-X-PLAYLIST-TYPE"),a=
!1;else{if("EVENT"==b||"VOD"==b)a.w.dg=b;a=!0}return a}if(0==b.indexOf("#EXT-X-ENDLIST"))return 2!=a.f&&1!=a.f?(Lk(a,"EXT-X-ENDLIST"),a=!1):(a.w.R=!1,a=!0),a;c="#EXT-X-STREAM-INF:";if(0==b.indexOf(c)){b=b.substr(c.length);if(1!=a.f&&2!=a.f)Lk(a,"EXT-X-STREAM-INF"),a=!1;else if(g=b.match("BANDWIDTH=([0-9]+)")){c=parseInt(g[1],10);d="video/mp2t";(e=Pk(b,'CODECS="([^"]*)"'))?Jk(d,e)?(a.$i=!0,f=a.K,7==f||1==f||2==f||6==f?d="audio/mp4":4==f&&(d="audio/mpeg",e="")):(a.aj=!0,e=e.replace("mp4a.40.34","mp4a.6B"),
1==a.ua&&(d="video/mp4")):e="avc1.4D401E,mp4a.40.2";f={width:null,height:null};if(g=b.match("RESOLUTION=(\\d+x\\d+)"))g=g[1].split("x"),2===g.length&&(f.width=parseInt(g[0],10),f.height=parseInt(g[1],10));a.Ac={hk:"variant",mimeType:d,za:c,codecs:e,ci:f,$k:Pk(b,"FRAME-RATE=([0-9]+)"),Ec:[Pk(b,'AUDIO="([^"]*)"')],am:Pk(b,'SUBTITLES="([^"]*)"'),Fk:Pk(b,'CLOSED-CAPTIONS="([^"]*)"'),url:""};a.w.hj=!0;a.f=4;a=!0}else F(Ik,"no BANDWIDTH attribute"),a=!1;return a}c="#EXT-X-TARGETDURATION:";if(0==b.indexOf(c))return b=
b.substr(c.length),1!=a.f?(Lk(a,"EXT-X-TARGETDURATION"),a=!1):(a.w.wg=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA-SEQUENCE:";if(0==b.indexOf(c))return b=b.substr(c.length),1!=a.f?(Lk(a,"EXT-X-MEDIA-SEQUENCE"),a=!1):(a.xc=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA:";if(0==b.indexOf(c))a:if(b=b.substr(c.length),2!=a.f&&1!=a.f)Lk(a,"EXT-X-MEDIA"),a=!1;else{e=Pk(b,"TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)");switch(e){case "SUBTITLES":c="webvtt";d="text/vtt";break;case "CLOSED-CAPTIONS":c="webvtt";d="text/mp2t";
break;case "AUDIO":c=Sf(a.K);d="audio/mp4";0==a.K&&(d="video/mp2t");break;default:a=!0;break a}f=null;g=b.match('URI="([^"]*)"');null===g||(f=Kk(a,g[1]));var k=!1;g=b.match('DEFAULT="?(YES|NO)"?');null===g||(k="YES"==g[1]);if(f||"CLOSED-CAPTIONS"==e)b={hk:"media",type:e,mimeType:d,codecs:c,url:f,name:Pk(b,'NAME="([^"]*)"'),language:Pk(b,'LANGUAGE="([^"]*)"'),il:k,groupId:Pk(b,'GROUP-ID="([^"]*)"')},a.w.xj.push(b);a=!0}else a=!0;return a},Lk=function(a,b){F(Ik,"unexpected "+b+": state "+a.f)},Ok=function(a,
b){var c=b.split("@");b=parseInt(c[0],10);if(1<c.length)a=parseInt(c[1],10);else if(null!=a.Gh)a=a.Gh+1;else return F(Ik,"Expected EXT-X-BYTERANGE to either have offset or to come after another EXT-X-BYTERANGE"),null;return{start:a,end:a+b-1}},Mk=function(a,b){if(1!=a.f&&2!=a.f)return Lk(a,"EXT-X-MAP"),!1;var c=Pk(b,'URI="([^"]*)"');if(!c)return F(Ik,"expected #EXT-X-MAP to have URI: "+b),!1;c=Kk(a,c);b=Pk(b,'BYTERANGE="([^"]*)"');var d=null;if(b&&(d=Ok(a,b),!d))return!1;c={url:c,Cb:d,Gi:null};b=
c.Cb;d="url="+c.url+",byterange=";a.Wf=b?""+d+b.start+"-"+b.end:d+"all";a.wj.set(a.Wf,c);return!0},Nk=function(a,b){if(2!=a.f&&3!=a.f&&1!=a.f)return Lk(a,"EXT-X-KEY"),!1;var c;if(0<=b.indexOf("METHOD=AES-128")){if(c=b.match('URI="([^"]*)"'))a.Kb=Kk(a,c[1]);a.ue=Pk(b,"IV=0[x|X]([0-9a-fA-F]+)");a.kf=null;a.w.hg="aes_128";return!0}if(0<=b.indexOf("METHOD=SAMPLE-AES")){c=b.match('KEYFORMAT="([^"]*)"');if(!c)return F(Ik,"Missing KEYFORMAT for SAMPLE-AES"),!0;var d=c[1];if("com.widevine"!=d&&"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"!=
d)return F(Ik,"KEYFORMAT "+d+" is not supported for SAMPLE-AES"),!0;if(1!=Rf("enable-hls-sample-aes"))return F(Ik,"SAMPLE-AES not support by Cast platform"),!1;if(c=b.match('URI="data:.*?,(.*?)"'))if(c=c[1],"com.widevine"==d){a:{try{var e=JSON.parse(window.atob(c))}catch(g){e=!1;break a}var f=e.key_ids;f&&Array.isArray(f)&&0!=f.length?(a.kf={Ml:e.provider,Jk:e.content_id,ve:f[0]},e=!0):(F(Ik,"no Widevine key ID"),e=!1)}if(!e)return!1}else{if(e="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"==d){a:{try{f=
window.atob(c)}catch(g){e=!1;break a}a.Ig=Ja(f);e=!0}e=!e}if(e)return!1}a.ue=Pk(b,"IV=0[x|X]([0-9a-fA-F]+)");a.Kb=null;a.w.hg="widevine";return!0}if(0<=b.indexOf("METHOD=NONE"))return a.Kb=null,a.kf=null,a.Ig=null,a.ue=null,!0;F(Ik,"unsupported KEY");return!1},Pk=function(a,b){return(a=a.match(b))?a[1]:null},Ik=C("cast.player.hls.Parser");var Qk=function(a,b,c,d,e,f){f=void 0===f?!0:f;D.call(this);this.a=a;this.Je=b;this.Mb=new ri(this);this.pa=null;this.em=this.Eg.bind(this);this.X=c;this.duration=-1;this.O=null;this.K=d;this.ua=e;this.ii=f;this.te=this.Lf=void 0;this.$g=0};m(Qk,D);h=Qk.prototype;h.H=function(){this.Mb.J();null!==this.pa&&(clearTimeout(this.pa),this.pa=null);D.prototype.H.call(this)};h.load=function(){this.Eg()};
h.Fa=function(){this.duration=-1;this.O=null;this.Mb.abort();null!==this.pa&&(clearTimeout(this.pa),this.pa=null)};h.Eg=function(){this.X.url?(G(Rk,"update: "+this.X.url),this.Mb.Ed(this.a,this.X.url)):Mc(Rk,"cannot load stream without url")};
h.tc=function(a){if(a){var b=new Gk(this.X.url,this.K,this.ua),c=this.O;(this.O=b.parse(a))?(this.O.R&&(this.te=!1,"EVENT"==this.O.dg&&(this.Lf=!1)),c&&c.R&&(a=this.O,c.c[0].url!==a.c[0].url||c.c[c.c.length-1].url!==a.c[a.c.length-1].url||c.c[0].Cb!==a.c[0].Cb||c.c[c.c.length-1].Cb!==a.c[a.c.length-1].Cb?(this.$g=0,"EVENT"!=c.dg&&(this.O.c.length==c.c.length?this.Lf=!0:this.O.c.length>c.c.length&&(this.Lf=!1)),this.te=!this.O.R):(this.$g++,3==this.$g&&(this.te=!0))),this.O.R&&!this.te?(c=1E3*this.O.wg,
this.pa=setTimeout(this.em,c),G(Rk,"update in: "+c)):this.duration=this.O.pi,this.Je.Fe(this)):this.a.U(412)}else this.a.U(312,pi(this.Mb))};var Rk=C("cast.player.hls.Playlist");var Sk=function(a,b,c,d,e){D.call(this);this.a=a;this.Mb=new ri(this);this.Ae=b;this.Je=c;this.K=d;this.ua=e;this.Ea=[];this.Ua=[];this.$a=[];this.Zd=[];this.Gb={}};m(Sk,D);Sk.prototype.H=function(){this.Mb.J();for(var a=q(this.Ua),b=a.next();!b.done;b=a.next())b.value.J();this.Ua.length=0;this.$a.length=0;a=q(this.Ea);for(b=a.next();!b.done;b=a.next())b.value.J();this.Ea.length=0;this.Zd=[];this.Gb={};D.prototype.H.call(this)};Sk.prototype.load=function(){this.Mb.Ed(this.a,this.a.url)};
Sk.prototype.tc=function(a){if(a){var b=this.Mb.jd;if(b)if(a=(new Gk(b,this.K,this.ua)).parse(a)){if(a.hj){Tk(a);if(0===a.Wb.length){this.a.U(411);return}b={};for(var c=q(a.Wb),d=c.next();!d.done;d=c.next())if(d=d.value,t(b[d.url]))this.Ea[b[d.url]].X.Ec=this.Ea[b[d.url]].X.Ec.concat(d.Ec);else{var e=new Qk(this.a,this.Je,d,this.K,this.ua);this.Ea.push(e);b[d.url]=this.Ea.length-1}for(b=0;b<this.Ea.length;b++)c=this.Ea[b].X,c.Ec.length&&(this.Zd[b]||(this.Zd[b]=[]),this.Zd[b]=this.Zd[b].concat(c.Ec))}else{switch(this.K){case 1:case 7:c=
"mp4a.40.2";d="audio/mp4";break;case 2:c="ac-3";d="audio/mp4";break;case 6:c="mp4a.a6";d="audio/mp4";break;case 4:c="";d="audio/mpeg";break;case 5:c="mp4a.40.2";d="video/mp2t";break;default:c="avc1.4D401E,mp4a.40.2",d="video/mp2t"}1==this.ua&&(d="video/mp4");b=new Qk(this.a,this.Je,{hk:"variant",mimeType:d,za:0,codecs:c,ci:{width:null,height:null},$k:null,Ec:[],am:null,Fk:null,url:b},this.K,this.ua);this.Ea.push(b)}a=q(a.xj);for(b=a.next();!b.done;b=a.next())b=b.value,c=0,"AUDIO"==b.type&&t(this.K)&&
(c=this.K),c=new Qk(this.a,this.Je,b,c),"CLOSED-CAPTIONS"==b.type&&this.a.onCue||this.Ua.push(c);Uk(this);this.Ae.onManifestReady()}else this.a.U(411)}else this.a.U(311,pi(this.Mb))};
var Vk=function(a){for(var b={},c=0;c<a.Ua.length;c++){var d=a.Ua[c].X;if("AUDIO"==d.type&&t(d.groupId)){var e=d.groupId,f={};e in b||(b[e]=f);b[d.groupId][d.language+d.name]=c}else a.$a.push(gb(a.Ua[c]))}return b},Uk=function(a){var b=Vk(a),c=[];for(e in b)b.hasOwnProperty(e)&&c.push(b[e]);b=Object.keys(b);if(0==c.length)a.$a=a.Ua;else{var d=Object.keys(c[0]).length;var e=0;for(var f=1;f<c.length;f++){var g=Object.keys(c[f]).length;g<d&&(d=g,e=f)}0!=e&&F(Wk,"Group has different number of tracks.");
for(var k in c[e])a.Gb[k]=[c[e][k]];for(k=0;k<c.length;k++)if(k!=e){d=c[k];f={};for(var l in d)a.Gb[l]?a.Gb[l].push(d[l]):(f.dh=b[k],a.Ea.every(function(a){return function(b){return b.X.Ec.includes(a.dh)}}(f))&&(a.Gb[l]=[d[l]])),f={dh:f.dh}}c=[];for(var n in a.Gb)a.Gb[n].sort(),c.push(gb(a.Ua[a.Gb[n][0]]));a.$a.unshift.apply(a.$a,oa(c))}},Xk=function(a,b){var c=a.$a[b],d=c.X;if("AUDIO"!=d.type){if(a=a.Ua.find(function(a){return a.X==d}))return a}else for(var e=q(a.Gb[d.language+d.name]),f=e.next();!f.done;f=
e.next())if(f=f.value,a.Ua[f].ii)return a.Ua[f];F(Wk,"No playlist is selectable with "+b+".");return c},Yk=function(a,b){var c=a.Zd[b];a.Ua.forEach(function(a){"AUDIO"==a.X.type&&(a.X.groupId&&c.includes(a.X.groupId)?a.ii=!0:a.ii=!1)})},Tk=function(a){a.Wb=a.Wb.filter(function(a){if(Wf){var b=a.codecs;var d=a.mimeType,e=a.ci.width;a=a.ci.height;x(e)&&x(a)&&2160<=a&&(b||"audio/mpeg"!=d)?(d=d+"; codecs="+b,e&&a&&(d+="; width="+e+"; height="+a),Od(b)&&(d+="; eotf=smpte2084"),b=Wf(d),G(Wk,"canDisplayType("+
d+"): "+b)):b=!0}else b=!0;return b})},Wk=C("cast.player.hls.MasterPlaylist");var Y=function(a,b,c){this.a=a;this.K=b;this.ua=void 0===c?0:c;this.ma=this.sf=this.vj=this.Ae=null;this.tb=new yk(a,this,void 0,this.ua);this.fa=this.da=null;this.yh=this.Bh=void 0};Y.prototype.load=function(a){this.sf=this.vj=this.Ae=a;this.ma=new Sk(this.a,this,this,this.K,this.ua);this.ma.load();B("Cast.MPL.HlsVideoSegmentFormat",this.ua)};Y.prototype.Fa=function(){this.tb.J();this.da&&(this.da.J(),this.da=null);this.fa&&(this.fa.J(),this.fa=null);this.ma&&(this.ma.J(),this.ma=null)};
Y.prototype.onManifestReady=function(){var a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0);a=!0;for(var b=q(this.ma.Ea),c=b.next();!c.done;c=b.next())if(c=c.value,!Jk(c.X.mimeType,c.X.codecs)){a=!1;break}a&&t(this.K)&&(a=this.tb,a.K=this.K,a.ua=void 0);if(this.a.onManifestReady)this.a.onManifestReady();this.Ae.onManifestReady();this.Ae=null};
Y.prototype.getDefaultAudioStreamIndex=function(){for(var a=this.ma.$a,b=-1,c=0;c<a.length;c++){var d=a[c].X;if("AUDIO"==d.type&&d.il)if("mp4a.a5"==d.codecs){b=c;break}else-1==b&&(b=c)}return-1<b?b+1:b};Y.prototype.getDefaultAudioStreamIndex=Y.prototype.getDefaultAudioStreamIndex;Y.prototype.getStreamCount=function(){return this.ma.$a.length+1};Y.prototype.getStreamCount=Y.prototype.getStreamCount;
Y.prototype.enableStream=function(a,b,c){if(0<a){a=Xk(this.ma,a-1);var d=a.X.type;"AUDIO"==d?this.da&&this.da.Y==a||(this.da&&(this.da.J(),this.da=null),b&&Nf("audio/mp4",Sf(this.K))&&(this.da=new yk(this.a,this,t(this.K)?this.K:1),this.da.Y=a,c&&c.ge())):"SUBTITLES"==d&&(this.fa&&(this.fa.J(),this.fa=null),b&&(this.fa=new Fk(this.a),this.fa.Y=a,this.fa.$(this.tb.oa,this.tb.nc)))}};Y.prototype.enableStream=Y.prototype.enableStream;Y.prototype.isStreamEnabled=function(a){return null!==Zk(this,a)};
Y.prototype.isStreamEnabled=Y.prototype.isStreamEnabled;var Zk=function(a,b){0==b?a=a.tb:(b=Xk(a.ma,b-1),a=null===a.da||a.da.Y!=b?null===a.fa||a.fa.Y!=b?null:a.fa:a.da);return a};Y.prototype.getQualityLevel=function(a){return Zk(this,a).getQualityLevel()};Y.prototype.getQualityLevel=Y.prototype.getQualityLevel;
Y.prototype.getStreamInfo=function(a){var b=[],c;if(0==a){b=[];a=this.ma.Ea;for(c=0;c<a.length;c++)b.push(a[c].X.za);a=this.ma.Ea[0].X;c=a.codecs;if(this.da)for(var d=a.codecs.split(","),e=0;e<d.length;e++)if(0==d[e].indexOf("avc1.")){c=d[e];break}}else a=this.ma.$a[a-1].X,b.push(0),c=a.codecs;return new zf(c,a.mimeType,b,a.language,a.name,null)};Y.prototype.getStreamInfo=Y.prototype.getStreamInfo;h=Y.prototype;
h.rg=function(a,b,c,d){var e=Zk(this,a),f=0==a?this.ma.Ea[b]:Xk(this.ma,a-1);if(0==a){Yk(this.ma,b);if(this.da&&this.da.Y)a:{for(a=0;a<this.ma.$a.length;a++){var g=this.ma.$a[a].X;if("AUDIO"==g.type&&g.language+g.name==this.da.Y.X.language+this.da.Y.X.name){a+=1;break a}}a=-1}else a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0,d);G(Gf,"Switched to media "+a+".")}e.rg(b,c,f)};h.reset=function(a){Zk(this,a).reset()};h.Da=function(a){return Zk(this,a).Da()};
h.Fe=function(a){t(this.Bh)||(Ea("Cast.MPL.Live",a.O.R),this.Bh=a.O.R);t(this.yh)||(this.yh="EVENT"==a.O.dg?!0:!1);this.tb.Y==a?this.tb.Fe():null!==this.da&&this.da.Y==a?this.da.Fe():null!==this.fa&&this.fa.Y==a&&this.fa.Fe();if(this.sf){var b=a.O.hg;switch(b){case "widevine":this.sf.De([b]);break;case "aes_128":this.a.rh&&(b="aes_128_ckp",a.O.hg=b);Wd(b,2);break;case "none":break;default:F(Gf,"Unexpected HLS protection type")}this.sf=null}this.vj.Th()};h.updateLicenseRequestInfo=function(){};
h.getDuration=function(){return this.tb.getDuration()};h.seek=function(a,b){return Zk(this,a).seek(b)};h.pc=function(a){return Zk(this,a).pc()};h.isLiveStream=function(){return this.Bh||!1};h.isEventStream=function(){return this.yh||!1};h.isLiveSeekableRangeMovingWindow=function(){var a=this.tb.Y;return a?a.Lf:void 0};h.isLiveDone=function(){var a=this.tb.Y;return a?a.te:void 0};h.Ib=function(a){return Zk(this,a).Ib()};h.getSegmentInterval=function(a){return Zk(this,a).getSegmentInterval()};
h.Gd=function(a){return Zk(this,a).Gd()};h.qg=function(a,b){Zk(this,a).qg(b)};h.ie=function(a){return Zk(this,a).ie()};h.Af=function(a){return Zk(this,a).Af()};h.updateSegmentRequestInfo=function(a,b){Zk(this,a).updateSegmentRequestInfo(b)};h.processSegment=function(a,b,c){b.Oc?Xh(c,b.data,{time:0,duration:0},0,!0):Zk(this,a).processSegment(b.vc,b.data,c)};h.Bf=function(){return 2};var bl=function(a){this.R=new yi("IsLive");this.Wk=new xi("DVRWindowLength");this.Bc=new xi("TimeScale");for(this.duration=new xi("Duration");a;){if("SmoothStreamingMedia"==a.nodeName){Di(a.attributes,this);break}a=a.nextElementSibling}this.streams=[];this.wb=null;if(a)for(this.Bc.value||(this.Bc.value=1E7),a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("StreamIndex"==a.nodeName){var b=new $k(a,this.Bc.value);0<b.cb.length&&this.streams.push(b)}else"Protection"==a.nodeName&&(this.wb=new al(a.firstElementChild))},
cl=function(a,b){V.call(this,a,b)};m(cl,V);cl.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4D40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "DFXP":case "TTML":this.value="ttml";break;default:this.value=null}};var dl=function(){U.call(this,"CodecPrivateData");this.Le=this.fd=null};m(dl,U);
dl.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.split("00000001");3==a.length&&(this.fd=Qf(a[1]),this.Le=Qf(a[2]))};var el=function(){U.call(this,"CodecPrivateData");this.value=null};m(el,U);el.prototype.parse=function(a){U.prototype.parse.call(this,a);a&&(this.value=Qf(a))};var fl=function(a){this.za=new xi("Bitrate");this.format=new cl("FourCC",a)},gl=function(a){fl.call(this,"ttml");Di(a.attributes,this)};m(gl,fl);
var hl=function(a){fl.call(this,"avc1.4D401E");this.width=new xi("MaxWidth");this.height=new xi("MaxHeight");this.lb=new dl;Di(a.attributes,this)};m(hl,fl);var il=function(a){fl.call(this,"mp4a.40.2");this.sampleRate=new xi("SamplingRate");this.Ek=new xi("Channels");this.lb=new el;Di(a.attributes,this)};m(il,fl);
var $k=function(a,b){this.type=new V("Type");this.url=new V("Url");this.name=new V("Name");this.language=new V("Language");Di(a.attributes,this);this.Xb=0;switch(this.type.value){case "video":this.Xb=2;break;case "audio":this.Xb=1;break;case "text":this.Xb=3}this.c=[];this.cb=[];var c=new xg("0");for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("QualityLevel"==a.nodeName){var d=a;switch(this.Xb){case 2:d=new hl(d);break;case 1:d=new il(d);break;case 3:d=new gl(d);break;default:d=null}d&&
d.format.value&&this.cb.push(d)}else if("c"==a.nodeName){var e=a;d=b;var f=e.attributes.getNamedItem("t");f&&c.reset(f.value);f=null;var g=-1;e.attributes.getNamedItem("d")&&(f=parseInt(e.attributes.d.value,10),g=f/d);e=(e=e.attributes.getNamedItem("r"))?parseInt(e.value,10):1;for(var k=0;k<e;k++)this.c.push({time:parseInt(c.toString(),10)/d,duration:g,Ob:new xg(c.toString()),offset:0,size:0,url:null}),null===f||c.add(f)}c=this.c.length-1;for(a=0;a<c;a++)if(d=this.c[a],f=this.c[a+1],0>d.duration){f=
f.Ob;g=d.Ob;if(f.ca==g.ca)f=0;else{if(!yg(f,g))throw Error("Value must be smaller than the current value");k=e=0;for(var l=1,n=0;n<f.ca.length;n++){var p=parseInt(f.ca.charAt(f.ca.length-1-n),10)-(n<g.ca.length?parseInt(g.ca.charAt(g.ca.length-1-n),10):0)-k;k=0>p?1:0;e+=(k?10+p:p)*l;l*=10}if(k)throw Error("Value must be smaller than the current value");if(e>Number.MAX_SAFE_INTEGER)throw Error("Difference lost precision");f=e}d.duration=f/b}},al=function(a){this.systemId=new Ci("SystemID");Di(a.attributes,
this);this.Pe=null;this.systemId.value&&Kf.Eb(this.systemId.value)&&(this.Pe=si(Ja(window.atob(a.textContent.trim()))))};C("cast.player.smooth");var jl=function(a){T.call(this,a);this.Qe=null;this.hb=1E7};m(jl,T);
jl.prototype.Mh=function(a){var b=a.wb;if(b){b=b.Pe;if(null===b){kl(this,"invalid protection info");return}this.Qe=b}a.Bc.value&&(this.hb=a.Bc.value);a.duration.value&&(this.duration=a.duration.value/this.hb);wi(this,1==a.R.value);this.R&&(this.duration=-1,a.Wk.value?(this.xh=!1,this.Ah=!0):(this.xh=!0,this.Ah=!1));b=Infinity;for(var c=q(a.streams),d=c.next();!d.done;d=c.next())d=d.value,(2==d.Xb||1==d.Xb)&&d.c[0].time<b&&(b=d.c[0].time);c=[];a=q(a.streams);for(d=a.next();!d.done;d=a.next()){var e=
d.value;if(0==e.cb.length){kl(this,"no quality levels");return}d=e.cb[0].format.value;if(null===d){kl(this,"unknown media format");return}var f=null;if(2==e.Xb)a:{f=b;var g=e.cb[0];if(null===g.lb.fd)kl(this,"no sps"),f=null;else{g=g.lb.fd[3].toString(16);1==g.length&&(g="0"+g);for(var k=ll(2,"video/mp4",d+g.toLowerCase(),e.language.value,e.name.value),l=0;l<e.cb.length;l++){g=e.cb[l];if(null===g.za.value||null===g.width.value||null===g.height.value||null===g.lb.fd||null===g.lb.Le){kl(this,"invalid video quality");
f=null;break a}var n=this.Qe,p=this.hb,u=g.width.value,w=g.height.value,A=g.lb.fd,ua=g.lb.Le,vb=new Cg;(new Xj(n,p,u,w,A,ua)).i(vb);k.A.push(ml(e.url.value,g.za.value,f,e.c,Bg(vb)))}f=k}}else if(1==e.Xb)a:{f=b;g=ll(1,"audio/mp4",d,e.language.value,e.name.value);for(k=0;k<e.cb.length;k++){l=e.cb[k];if(null===l.za.value||null===l.sampleRate.value){kl(this,"invalid audio quality");f=null;break a}(n=l.lb.value)||(n=l.Ek.value,n=Gg(2,l.sampleRate.value,null===n?2:n));w=n;if(null===w){kl(this,"invalid audio codec private data");
f=null;break a}n=this.Qe;p=this.hb;u=l.sampleRate.value;A="mp4a.a6"==d?166:64;ua=new Cg;(new Wj(n,p,A,u,w)).i(ua);g.A.push(ml(e.url.value,l.za.value,f,e.c,Bg(ua)))}f=g}else if(3==e.Xb){f=b;g=ll(3,"text/mp4",d,e.language.value,e.name.value,!1);for(k=0;k<e.cb.length;k++)g.A.push(ml(e.url.value,e.cb[k].za.value||0,f,e.c,null));f=g}f&&("mp4a.a6"==d?c.push(f):this.l.push(f))}Array.prototype.push.apply(this.l,c)};var kl=function(a,b){a.host.U(431,void 0,b,nl)};h=jl.prototype;
h.tc=function(a,b){if(a){b&&(this.uri=new J(b));var c=(new DOMParser).parseFromString(a,"text/xml");c=new bl(c.firstChild);this.Mh(c);T.prototype.tc.call(this,a,b);this.Qe&&this.Zc.De(["playready"])}else this.host.U(331,pi(this.Tc))};h.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.Qe.url};h.ie=function(a){a=this.l[a];a.Wa=!1;return a.A[a.V].rb.data};
h.updateSegmentRequestInfo=function(a,b){T.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.l[a];a=c.index;c=c.A[c.V];var d=c.url;d=d.replace(ol,c.za.toString());d=d.replace(pl,c.c[a].Ob.toString());b.url=this.uri.resolve(new J(d)).toString().toString()};
h.processSegment=function(a,b,c){var d=this.l[a],e=b.data,f=b.interval;if(b.Oc)Xh(c,e,{time:f.time,duration:0},0,!1);else{if(this.R){var g=this.hb;var k=(k=Q(e,1970628964,Lg,!0))?k.oh(g):null;if(null===k||0==k.length)F(nl,"no new segments");else{a=this.l[a];g=a.A[a.V].c;if(0!=k.length){for(var l=k[0].time,n=0;n<g.length;n++){var p=g[n].time;if(p>l||.3>Math.abs(p-l)){g.splice(n,g.length-n);break}}k=q(k);for(l=k.next();!l.done;l=k.next())g.push(l.value)}ql(a)}if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=
q(b[1].split(/,|;/));for(a=b.next();!a.done;a=b.next())if(a=a.value.match("([^=]*)=([0-9]*)"))for(g=a[1],k=q(this.l),l=k.next();!l.done;l=k.next())if(l=l.value,g==l.name){g=l.A[0].c;a=a[2];k=parseInt(a,10)/this.hb;(0==g.length||g[g.length-1].time<k)&&g.push({time:k,duration:0,Ob:new xg(a),offset:0,size:0,url:null});break}b=q(this.l);for(l=b.next();!l.done;l=b.next())ql(l.value)}}b=f.time+d.A[d.V].P;if(3==d.type)e=(e=Q(e,1835295092))?O(e):null;else{a=b*this.hb;g=2==d.type;k=Xg(e);l=new Cg(e.byteLength+
1024);n=null;for(e=0;0<k.length;)switch(p=k.shift(),p.getName()){case 1836019558:n=Q(O(p),1970628964,Og,!0);(new ak(p,a,g)).i(l);break;case 1835295092:var u=null;n&&(u=n.fi?n.fi:new Uint8Array([]));e=u?u.length:0;(new Cj(u?[u,O(p)]:[O(p)])).i(l);break;default:p.i(l)}a=Bg(l);Vg(a,e);e=a}null===e?this.host.U(332,void 0,"no media data",nl):(Xh(c,e,f,b,d.$),d.$=!1)}};h.Bf=function(){return 3};
var ll=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,$:!0,A:[],language:d,Wa:t(f)?f:!0,codecs:c,index:-1,V:-1}},ml=function(a,b,c,d,e){return{url:a||"",za:b,P:c,c:d,D:null,I:null,rb:e?{url:null,ya:null,data:e}:null}},ql=function(a){var b=a.A[0].c,c=b.length-1E4;0<c&&a.index>=c&&(b.splice(0,c),a.index-=c)},nl=C("cast.player.smooth.Protocol"),ol=/{bitrate}|{Bitrate}/,pl=/{start time}|{start_time}/;var rl=function(a,b,c){this.Vb=a;this.ra=b;this.Ik=c;this.Sb=this.s=null;this.qk=!1;this.vg=new oe;this.ra.Tj=this.Hl.bind(this);this.ra.onError=this.Hd.bind(this)};h=rl.prototype;h.load=function(){switch(this.ra.Uj){case 1:this.s=new Ti(this.ra);break;case 2:this.s=new Y(this.ra,this.ra.gl);break;case 3:this.s=new jl(this.ra);break;default:F(ji,"Unrecognized streaming protocol "+this.ra.Uj);return}G(ji,"Pre caching "+this.ra.url);this.s.load(this)};
h.Fa=function(){this.s&&(this.s.Fa(),this.vg.clear(),this.qk=!0);this.Sb&&(this.Sb.J(),this.Sb=null)};h.Hl=function(a,b){var c=this;if(null===a)return null;kd(dg(this.Vb,b,a),function(a){F(ji,a);sl(c)});return this.ra.processManifest?this.ra.processManifest(a):a};h.onManifestReady=function(){for(var a=this.s.getStreamCount(),b=0;b<a;b++)if(this.s.isStreamEnabled(b)){var c=this.s.getStreamInfo(b).mimeType;this.vg.enqueue(b,Md(c)?0:Ld(c)?1:2)}tl(this)};h.Th=function(){};
var tl=function(a){if(a.vg.xa()||a.qk)sl(a);else if($d(a.Vb.ka))F(ji,"Cache is full. Notifies Content Cache to move to next content."),sl(a);else{var b=a.vg.wd();a.s.enableStream(b,!0);a.Sb=new ii(a,a.ra,a.s,b,a);Vh(a.Sb)}};rl.prototype.kc=function(){return this.ra.uh};var ki=function(a,b){if(0<a.Sb.Ca(a.ra.uh)){var c=a.Vb,d=a.ra.url,e=a.s.getQualityLevel(b);c.isEnabled()&&(c.Ve.gc(d)||c.Ve.set(d,[]),c.Ve.get(d)[b]=e)}tl(a)};rl.prototype.sc=function(){this.Sb.We()};rl.prototype.Hd=function(){sl(this)};
var sl=function(a){a.s.Fa();a.Ik.zj()};h=rl.prototype;h.De=function(){};h.Rh=function(){};h.Uh=function(){};h.Oe=function(){};h.ge=function(){};h.Oh=function(){};h.ag=function(){};var ji=C("cast.player.cache.ContentLoader");var ul=function(){};z("cast.player.cache.ContentCacheCallbacks",ul);ul.prototype.zj=function(){};var vl=function(a){$f.call(this,a);this.Uj=a.protocolType||0;this.uh=a.initialTime||0;this.gl=a.hlsSegmentFormat};m(vl,$f);z("cast.player.api.ContentCacheHost",vl);var wl=function(){this.Vb=bg.Bd();this.Zg=new pe;this.dc=this.ud=null};z("cast.player.api.ContentCache",wl);
wl.prototype.load=function(a){if(!this.Vb.isEnabled())return F(xl,"Platform cache is not enabled"),Promise.reject(Error("Platform cache is not enabled"));this.Vb.reset();a=q(a);for(var b=a.next();!b.done;b=a.next())b=new rl(this.Vb,b.value,this),this.Zg.enqueue(b);yl(this);this.dc=id();return Promise.resolve(this.dc.Ll)};wl.prototype.load=wl.prototype.load;wl.prototype.Fa=function(){this.ud&&(this.ud.Fa(),this.ud=null);this.dc&&(this.dc.reject("Canceled"),this.dc=null)};wl.prototype.unload=wl.prototype.Fa;
var yl=function(a){$d(a.Vb.ka)||a.Zg.xa()?a.dc&&(a.ud=null,a.dc.resolve(),a.dc=null):(a.ud=a.Zg.wd(),a.ud.load())};wl.prototype.zj=function(){yl(this)};wl.setCacheInsertCallback=function(a){bg.Bd().Qh=a};wl.setCacheHitCallback=function(a){bg.Bd().Ph=a};var xl=C("cast.player.api.ContentCache");var Al=function(a){this.Oi=a;this.Rg=this.oa=this.Wd=this.mode=this.Yf=0;this.jh=new zl(this);this.kh=new zl(this);this.Hc=[];this.reset()},Bl=function(a){return a.Wd+a.oa};Al.prototype.clear=function(){this.Rg=this.Wd=this.mode=0;this.Hc=[];this.reset()};Al.prototype.reset=function(){this.mode=0;this.jh.reset(0);this.kh.reset(1)};
var Dl=function(a,b,c){if(255==a&&255==b||!a&&!b)return{mf:a,nf:b,result:0};a=Cl[a];b=Cl[b];if(a&128){if(!(b&128)&&0!=c.f&&c.Qg==b)return{mf:a,nf:b,result:1}}else if(b&128&&1<=a&&31>=a)return{mf:a,nf:b,result:2};return{mf:a,nf:b,result:3}},Fl=function(a,b,c){255==b&&255==c||!b&&!c?(45==++a.Rg&&a.reset(),a.jh.Rc.clear(),a.kh.Rc.clear()):(a.Rg=0,El(a.jh,b,c))};
Al.prototype.decode=function(){this.Hc.sort(function(a,b){var c=a.time-b.time;return 0==c?a.order-b.order:c});for(var a=0;a<this.Hc.length;a++){var b=this.Hc[a];this.Wd=b.time;0==b.type?Fl(this,b.Ii,b.Ji):1==b.type&&this.Yf&496&&El(this.kh,b.Ii,b.Ji)}this.Hc.length=0};
var Cl=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],Gl=function(){this.Zb=0};Gl.prototype.set=function(a){this.Zb=a};
Gl.prototype.get=function(){return this.Zb};var Hl=function(){this.Qg=this.Di=this.f=0};Hl.prototype.clear=function(){this.f=0};Hl.prototype.update=function(){this.f=2==this.f?1:0};Hl.prototype.matches=function(a,b){return 0!=this.f&&a==this.Di&&b==this.Qg};var Il=function(){this.timestamp=this.$b=0;this.re=!1};Il.prototype.reset=function(){this.timestamp=this.$b=0;this.re=!1};
var Jl=function(a){this.jb=[];for(var b=0;15>=b;b++){this.jb[b]=[];for(var c=0;32>=c;c++)this.jb[b][c]=new Il}this.T=this.qa=this.ta=0;this.style=new Gl;this.aa=a;this.Be=0},Ll=function(a){for(var b="",c=Bl(a.aa),d=c,e=1;15>=e;++e){for(var f="",g=!1,k=1;32>=k;++k){var l=a.jb[e][k];if(0!=l.$b){var n=String.fromCharCode(l.$b);" "!=n&&(g=!0);f+=n;var p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3==a.style.Zb?(!l.re&&" "==n&&g&&32>k&&Kl(a.aa.Oi,c,c,b?b+"\n"+f:f),l.re=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&Kl(a.aa.Oi,
c,d,b)};Jl.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.jb[b][c].reset();this.Be=a;this.T=0;this.qa=this.ta=1};
var Ml=function(a){return a.jb[a.ta][a.qa]},Pl=function(a,b,c){2<=b&&1<a.qa&&(--a.qa,Ml(a).$b=0);var d=Ml(a);d.timestamp=Bl(a.aa);a:{switch(b){case 0:b=Nl[(c&127)-32];break a;case 1:b=Ol[c&15];break a}b=0}d.$b=b;32>a.qa&&a.qa++},Ql=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.jb[b+e][f],k=a.jb[c+e][f];g.$b=k.$b;g.timestamp=k.timestamp;g.re=k.re}},Rl=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.jb[b+d][e].reset()},Sl=function(a){a.ta=0<a.T?a.T:1;a.qa=1;Rl(a,0,
15)},Nl=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Ol=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],Tl=function(a){this.aa=a;this.Xg=0;this.style=new Gl;this.Ih=new Jl(a);this.Jh=new Jl(a);this.fa=new Jl(a);
this.nb=this.Ih;this.Fd=this.Jh;this.N=this.nb};Tl.prototype.reset=function(a,b){this.Xg=b;this.style.set(2);this.nb=this.Ih;this.Fd=this.Jh;this.N=this.nb;var c=(a<<2)+(b<<1);this.Ih.reset(c);this.Jh.reset(c);this.fa.reset((a<<2)+(b<<1)+1)};
var Ul=function(a,b){var c=a.nb;switch(a.style.get()){case 4:if(0<c.T)break;case 1:case 2:Ll(c),Sl(a.nb),Sl(a.Fd),c.ta=15,c.T=b}a.style.set(3);a.N=c;a.N.style=a.style;a.aa.mode=1<<c.Be;c.qa=1;c.T!=b&&(c.T>b?(Ll(c),Rl(c,c.ta-c.T,b)):c.ta<b&&(b=c.T),c.T=b)},Vl=function(a){a.style.set(1);a.N=a.Fd;a.N.T=0;a.N.style=a.style;a.aa.mode=1<<a.N.Be},Wl=function(a){a.style.set(4);a.N=a.fa;a.N.style=a.style;a.aa.mode=1<<a.N.Be},zl=function(a){this.aa=a;this.Rc=new Hl;this.lh=0;this.pf=new Tl(a);this.Ei=new Tl(a);
this.bh=this.pf};zl.prototype.reset=function(a){this.lh=a;this.Rc.clear();this.bh=this.pf;this.pf.reset(a,0);this.Ei.reset(a,1)};
var El=function(a,b,c){a.Rc.update();b=Dl(b,c,a.Rc);switch(b.result){case 0:return;case 1:case 2:return}var d=b.mf;c=b.nf;if(32<=d||!d)a.aa.mode&a.aa.Yf&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.bh.N,b&96&&Pl(a,0,b),c&96&&Pl(a,0,c));else if(d&16)a:if(!a.Rc.matches(d,c)&&(b=a.Rc,b.Di=d,b.Qg=c,b.f=2,b=d&8?a.Ei:a.pf,a.bh=b,a.aa.mode=1<<(a.lh<<2)+(b.Xg<<1)+(4==b.style.Zb?1:0),(a.aa.mode|1<<(a.lh<<2)+(b.Xg<<1)+(4!=b.style.Zb?1:0))&a.aa.Yf))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>
5&1];c=c&16?4*((c&14)>>1):0;d=b.N;switch(b.style.get()){case 4:a=d.ta;break;case 3:if(a!=d.ta){if(a<d.T&&(a=d.T,a==d.ta))break;var e=1+d.ta-d.T,f=1+a-d.T;Ql(d,f,e,d.T);b=e;var g=d.T;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));Rl(d,b,g)}}d.ta=a;d.qa=c+1}else switch(d&7){case 1:switch(c&112){case 32:Pl(b.N,0,32);break a;case 48:57==c?(b=b.N,Ml(b).$b=0,32>b.qa&&b.qa++):Pl(b.N,1,c&15)}break;case 2:c&32&&Pl(b.N,2,c&31);break;case 3:c&32&&Pl(b.N,3,c&31);break;case 4:case 5:if(32<=c&&47>=c)switch(c){case 32:Vl(b);
break;case 33:b=b.N;1<b.qa&&(--b.qa,Ml(b).$b=0);break;case 36:b=b.N;a=Ml(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.jb[c][d]==a){for(;32>=d;d++)b.jb[c][d].reset();break}break;case 37:Ul(b,2);break;case 38:Ul(b,3);break;case 39:Ul(b,4);break;case 40:Pl(b.N,0,32);break;case 41:b.style.set(2);b.N=b.nb;b.N.T=0;b.N.style=b.style;b.aa.mode=1<<b.N.Be;break;case 42:a=b.fa;a.T=15;a.style.set(4);Sl(a);Wl(b);break;case 43:Wl(b);break;case 44:a=b.nb;switch(b.style.get()){case 1:case 2:case 3:Ll(a)}Rl(a,0,15);
break;case 45:b:{a=b.N;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.ta){++a.ta;a.qa=1;break b}case 3:}2>a.T&&(a.T=2,a.ta<a.T&&(a.ta=a.T));b=a.ta-a.T+1;Ll(a);Ql(a,b,b+1,a.T-1);Rl(a,a.ta,1)}break;case 46:Rl(b.Fd,0,15);break;case 47:Ll(b.nb),a=b.Fd,b.Fd=b.nb,b.nb=a,Vl(b)}break;case 7:switch(c){case 33:case 34:case 35:b=b.N,32<(b.qa+=c&3)&&(b.qa=32)}}};var Xl=function(a){this.Vg=a;this.Tb=0;this.gb=new Uint8Array(5120)};Xl.prototype.clear=function(){this.Tb=0};Xl.prototype.append=function(a){this.gb.set(a,this.Tb);this.Tb+=a.length};
var Yl=function(a,b){for(var c,d=c=0,e=0;d<a.Tb;)2==c&&3==a.gb[d]?c=0:(0==a.gb[d]?c++:c=0,a.gb[e]=a.gb[d],e++),d++;c=d-e;for(d=0;d+c<a.Tb;){for(var f=0;255==a.gb[d];)f+=255,d++;f+=a.gb[d++];if(45<f)break;for(e=0;255==a.gb[d];)e+=255,d++;e+=a.gb[d++];if(4==f){f=a.Vg.aa;var g=b,k=new hg(a.gb.subarray(d,d+e));if(181==ig(k)&&49==jg(k)&&1195456820==L(k)&&3==ig(k)){var l=ig(k);if(0!=(l&64)){l&=31;M(k,1);for(var n=0;n<l;n++){var p=ig(k),u=(p&4)>>2,w=ig(k),A=ig(k);u&&f.Hc.push({time:g,type:p&3,Ii:w,Ji:A,
order:f.Hc.length})}}}}d+=e}a.Tb=0};var Zl=function(a){this.Ub=new Xl(a);this.kb=null;this.yd=0;this.cf=9E4;this.Td=0;this.cd=[];this.Sd=[]};h=Zl.prototype;h.la=function(a){if(a){var b=Q(a,1835296868,void 0,!0);b&&(this.cf=b.cf);if(b=Q(a,1953658222,void 0,!0))if(this.cd=b.cd,0!=this.cd.length&&(this.Sd=b.Sd,this.Td=b.Td,a=Q(a,1835295092)))this.kb=new hg(O(a))}else this.yd=0,this.kb=null};h.ck=function(a){this.yd=a};h.xa=function(){return null===this.kb};
h.Kf=function(){var a;(a=null===this.kb)||(a=this.kb,a=!(a.offset<a.buffer.length));return a};h.parse=function(){if(this.kb)for(var a=this.yd/this.Td,b=0,c=0,d=this.cd[0];!this.Kf();){var e=L(this.kb);6==(ig(this.kb)&31)?(this.Ub.append(lg(this.kb,e-1)),Yl(this.Ub,0==this.Sd.length?b:b+this.Sd[c]/this.cf)):M(this.kb,e-1);d-=e+4;0==d&&(b+=a,c++,d=this.cd[c])}};var $l=function(a){fj.call(this);this.Ub=new Xl(a)};m($l,fj);$l.prototype.la=function(a){fj.prototype.la.call(this,a);this.Ub.clear()};$l.prototype.ck=function(){};
$l.prototype.Pj=function(a,b){for(var c=0;;){a:{var d=a;var e=b;for(e-=3;d<=e;){if(0==this.m[d]&&0==this.m[d+1]){if(0==this.m[d+2]&&1==this.m[d+3]){d+=4;break a}if(1==this.m[d+2]){d+=3;break a}}d++}d=-1}e=0<=d;if(0<this.Ub.Tb||6==c){c=e?d-1:b;var f=this.Ub;f.Tb+(c-a+1)<=f.gb.length||Yl(this.Ub,this.$c);this.Ub.append(this.m.subarray(a,c+1))}if(!e)break;Yl(this.Ub,this.$c);a=d;c=this.m[a++]&31}};var am=function(a,b){kh.call(this,a,b,"webvtt");this.wa=C("cast.player.cea608.InbandCaptionsManager");this.aa=new Al(this);this.aa.Yf=1;this.Oa=null;this.oa=0;this.zd=null;this.sd=[];this.Jd=this.Wh.bind(this);this.La=null;this.Ld=new pe};m(am,kh);am.prototype.H=function(){this.reset();kh.prototype.H.call(this)};
am.prototype.Wh=function(){if(this.Oa.xa()){var a=this.Ld.wd();this.oa!=a.P&&(this.aa.clear(),this.zd=null);this.oa=a.P;this.aa.oa=a.Mk;this.Oa.la(a.data);this.Oa.ck(a.duration)}this.Oa.parse();if(this.Oa.Kf()){this.aa.decode();if(0<this.sd.length){for(mh(this);0<this.sd.length;)a=this.sd.pop(),a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue({xg:a});this.sd.length=0}this.Oa.la(null)}this.Ld.xa()&&this.Oa.xa()?this.La=null:this.La=setTimeout(this.Jd,20)};
var Kl=function(a,b,c,d){null!==a.zd&&b<a.zd&&(b=a.zd);.1>c-b&&(c=b+.1);a.zd=c;a.sd.push({start:b,end:c,text:d})};am.prototype.Oe=function(a,b,c,d,e){if(Md(a)){if(!this.Oa)switch(a){case "video/mp2t":this.Oa=new $l(this);break;case "video/mp4":this.Oa=new Zl(this);break;default:return}1<this.Ld.Fb()?F(this.wa,"Dropped segment"):(this.Ld.enqueue({data:b,duration:e,P:c,Mk:"video/mp4"==a?d:c}),G(this.wa,"Pending "+this.Ld.Fb()),null===this.La&&(this.La=setTimeout(this.Jd,20)))}};
am.prototype.reset=function(){kh.prototype.reset.call(this);this.oa=0;this.zd=null;this.sd.length=0;this.Oa&&this.Oa.la(null);this.aa.clear();this.Ld.clear();null!==this.La&&(clearTimeout(this.La),this.La=null)};var bm=function(a,b,c,d){D.call(this);this.a=a;this.s=b;this.ml=d;this.qb=c;this.o=this.nj=null;this.Jb="none";this.Bg=this.Ag=this.qc=null;this.Fg=!1;this.g=new H;zd(this.g);E(this.g,"success",this.Wc,!1,this);E(this.g,"error",this.Nb,!1,this)};m(bm,D);bm.prototype.H=function(){this.o&&(this.qc&&Dc(this.qc,"message",this.Ej,!1,this),this.o=null);this.qc&&(this.qc.close(),this.qc=null);this.g.J();D.prototype.H.call(this)};
bm.prototype.createSession=function(a){G(cm,"create session");this.Bg=y();var b=this.a.licenseCustomData;if(b){var c=new Cg(this.qb.length+b.length+34);N(c,this.qb);(new Ej(b)).i(c);b=Bg(c)}else b=this.qb;this.o=this.a.mediaElement;this.Jb=a;this.qc=a=this.o.mediaKeys.createSession();E(this.qc,"message",this.Ej,!1,this);a.generateRequest("cenc",b.buffer).catch(this.Cj.bind(this))};
bm.prototype.Wc=function(a){G(cm,"xhr success");var b=this.Ag;null!==b&&(b=y()-b,B("Cast.MPL.LicenseReq.ServerLatency",b));this.Ag=null;this.Zi(Kd(a.target))};bm.prototype.Zi=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Ka(a))){a.then(function(a){dm(b,a)});return}dm(this,a)}else this.a.U(201,void 0)};
var dm=function(a,b){a.Fg=!0;a.qc.update(b.buffer).then(function(){a.Fg=!1;var b=a.ml;G(em,"key session ended: "+b.ed);8<b.Ka.length?b.Ka.shift().J():b.ed++;b.ed<b.Ka.length&&b.Ka[b.ed].createSession(b.Jb)},function(b){a.Fg=!1;a.Cj(b)})};h=bm.prototype;h.Nb=function(){G(cm,"xhr error");var a=new yf(String(this.g.ze),this.g.Lb,Id(this.g),this.g.getAllResponseHeaders(),Kd(this.g));this.a.U(201,a)};
h.Ej=function(a){G(cm,"message");this.nj=new Uint8Array(a.Kc.message);this.a.prepareLicenseRequest&&!this.a.prepareLicenseRequest()||this.zc()};h.Cj=function(a){G(cm,"keyerror "+a);this.a.U(202)};
h.zc=function(){var a=new xf;a.timeoutInterval=18E4;a.protectionSystem=this.Jb;a.content=this.nj;a.setResponse=this.Zi.bind(this);this.s.updateLicenseRequestInfo(a);this.a.licenseUrl&&(a.url=this.a.licenseUrl);if(!a.url&&this.qb&&"playready"==this.Jb){var b=new Sg(this.qb);if(b=si(b.getData()))a.url=b.url}if(this.a.updateLicenseRequestInfo&&(this.a.updateLicenseRequestInfo(a),a.skipRequest))return;this.g.$d=a.withCredentials;this.g.Yb=Math.max(0,a.timeoutInterval);this.g.send(a.url,"POST",a.content,
a.headers);a=this.Bg;null!==a&&(a=y()-a,B("Cast.MPL.LicenseReq.GenLatency",a));this.Bg=null;this.Ag=y()};h.pe=function(){return null!==this.Bg||null!==this.Ag||this.Fg};var cm=C("cast.player.core.MediaKeySession");var gm=function(a,b,c,d,e){D.call(this);this.a=a;this.s=b;this.Ka=[];this.ed=0;this.Jb=null;E(this.a.mediaElement,"encrypted",this.Aj,!1,this);c&&0<c.length&&(a.protectionSystem&&(c.includes(a.protectionSystem)?c.splice(0,0,c.splice(c.indexOf(a.protectionSystem),1)[0]):F(em,"Preferred protection system not found")),fm(this,{Eh:c,Tf:0,yk:d,fm:e}))};m(gm,D);
gm.prototype.H=function(){Dc(this.a.mediaElement,"encrypted",this.Aj,!1,this);for(var a=q(this.Ka),b=a.next();!b.done;b=a.next())b.value.J();this.Ka.length=0;D.prototype.H.call(this)};
var fm=function(a,b){hm(a,b).catch(function(c){b.Tf++;b.Tf<b.Eh.length?fm(a,b):(Mc(em,c.toString()),F(em,"unsupported protection system"),a.a.U(202))})},hm=function(a,b){var c=b.Eh[b.Tf];b=im(b);return navigator.requestMediaKeySystemAccess(Ff[c],[b]).then(function(a){return a.createMediaKeys()}).then(function(b){return a.a.mediaElement.setMediaKeys(b)}).then(function(){a.Jb=c;Wd(a.Jb,a.s.Bf());0<a.Ka.length&&a.Ka[0].createSession(c);return Promise.resolve()})};
gm.prototype.Aj=function(a){a=a.Kc;G(em,"onencrypted: "+this.ed);(a=a.initData)?this.createSession(new Uint8Array(a)):G(em,"invalid init data")};var jm=function(a,b){return a.Ka.some(function(a){a:if(b.length!=a.qb.length)a=!1;else{for(var c=b.length,e=0;e<c;e++)if(b[e]!=a.qb[e]){a=!1;break a}a=!0}return a})};gm.prototype.createSession=function(a){jm(this,a)||(a=new bm(this.a,this.s,a,this),this.Jb&&this.ed==this.Ka.length&&a.createSession(this.Jb),this.Ka.push(a))};gm.prototype.zc=function(){this.Ka[this.ed].zc()};
gm.prototype.pe=function(){return this.Ka.some(function(a){return a.pe()})};var im=function(a){var b=a.Eh[a.Tf],c={initDataTypes:["cenc"]},d=a.yk||"";a=a.fm||"";d=d.replace("video/mp2t","audio/mp4");a=a.replace("video/mp2t","video/mp4");d&&(c.audioCapabilities=[{contentType:d,robustness:km[b]||""}]);a&&(c.videoCapabilities=[{contentType:a,robustness:lm[b]||""}]);return c},mm={},km=(mm.widevine="HW_SECURE_CRYPTO",mm),nm={},lm=(nm.widevine="HW_SECURE_ALL",nm),em=C("cast.player.core.MediaKeysManager");var om=function(a,b,c){D.call(this);var d=this;this.a=a;this.s=b;this.sa=c;this.ga=[];this.qd=[];this.ub=null;this.ea=new MediaSource;this.gj=this.jj=this.Mf=!1;this.Fh=this.jf=this.be=null;this.uf=function(a){d.ub.createSession(a)};E(this.ea,"sourceopen",this.Mj,!1,this);this.a.mediaElement&&E(this.a.mediaElement,"durationchange",this.Cg,!1,this)};m(om,D);
om.prototype.H=function(){this.s.Fa();pm(this);this.jf=this.be=null;this.ub&&(this.ub.J(),this.ub=null);Dc(this.ea,"sourceopen",this.Mj,!1,this);this.a.mediaElement&&Dc(this.a.mediaElement,"durationchange",this.Cg,!1,this);D.prototype.H.call(this)};om.prototype.Mj=function(){G(qm,"sourceopen");if(this.gj){this.update();rm(this);for(var a=q(this.ga),b=a.next();!b.done;b=a.next())(b=b.value)&&b.createBuffer()}};var sm=function(a){!a.ub&&a.Fh&&a.jj&&(a.be||a.jf)&&(a.ub=new gm(a.a,a.s,a.Fh,a.be,a.jf))};
om.prototype.Cg=function(){if(t(this.ea.setLiveSeekableRange)&&"open"==this.ea.readyState&&Infinity==this.ea.duration){var a=this.Da();a&&this.ea.setLiveSeekableRange(a.start,a.end)}};var tm=function(a){return a.split(",").find(function(a){return!Tf(a)})},um=function(a){return a.split(",").find(function(a){return Tf(a)})};h=om.prototype;
h.Da=function(){for(var a=-Infinity,b=Infinity,c=this.s.getStreamCount(),d=0;d<c;d++)if(this.s.isStreamEnabled(d)){var e=this.s.Da(d);if(!e)return null;e.start>a&&(a=e.start);e.end<b&&(b=e.end)}a>b&&(a=b);return{start:a,end:b}};h.onManifestReady=function(){this.gj=!0;this.update();this.Cg()};h.Th=function(){this.Cg()};h.De=function(a){this.Fh=a;sm(this)};h.endOfStream=function(){"open"==this.ea.readyState&&this.ea.endOfStream()};h.load=function(){pm(this);this.open()};
h.open=function(){this.Mf||(this.s.load(this),this.Mf=!0);this.a.mediaElement.src?(wc(this.a.mediaElement,"emptied",function(){vm(this)},!1,this),this.a.mediaElement.src=""):vm(this)};var vm=function(a){G(qm,"open");!a.ub&&a.a.mediaElement.setMediaKeys?a.a.mediaElement.setMediaKeys(null).catch(function(a){Mc(qm,a.toString())}).then(function(){wm(a)}):wm(a)},wm=function(a){a.a.mediaElement.src=window.URL.createObjectURL(a.ea);a.jj=!0;sm(a)};
om.prototype.preload=function(){this.Mf?F(qm,"protocol already loaded"):(this.s.load(this),this.Mf=!0)};var pm=function(a){for(var b=q(a.ga),c=b.next();!c.done;c=b.next())(c=c.value)&&c.J();a.ga.length=0;a.qd=[]},rm=function(a){if("open"==a.ea.readyState){var b=a.s.getDuration();0<b&&!a.ea.duration&&(a.ea.duration=parseFloat((b-1E-4).toFixed(4)))}};h=om.prototype;h.reset=function(){for(var a=q(this.ga),b=a.next();!b.done;b=a.next())(b=b.value)&&b.reset()};
h.update=function(){for(var a=this.s.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.s.isStreamEnabled(d)){var e=this.s.getStreamInfo(d),f=e.mimeType;e=e.codecs;Ld(f)||Tf(e)?b?F(qm,"more than one audio stream enabled"):(b=um(e),b=f+';codecs="'+b+'"'):Md(f)&&(c?F(qm,"more than one video stream enabled"):(c=tm(e),c=f+';codecs="'+c+'"'));if(!this.ga[d]){try{this.ga[d]=new S(this.sa,this.a,this.s,d,this.ea,this.uf,void 0,this.qd)}catch(g){F(qm,g.message);22==g.code&&this.sa.ag();return}this.s.enableStream(d,
!0);Vh(this.ga[d])}}else this.ga[d]&&(Sh(this.ga[d]),this.ga[d]=null);b||c?this.be||this.jf||(this.be=b,this.jf=c,sm(this)):F(qm,"no enabled audio or video stream")};
h.ge=function(){for(var a=this.s.getStreamCount(),b=0;b<a;b++)if(this.s.isStreamEnabled(b)){var c=this.s.getStreamInfo(b),d=c.codecs;if(Ld(c.mimeType)||Tf(d)){this.ga[b]&&(Sh(this.ga[b]),this.ga[b]=null);try{this.ga[b]=new S(this.sa,this.a,this.s,b,this.ea,this.uf,void 0,this.qd)}catch(e){F(qm,e.message);22==e.code&&this.sa.ag();break}this.s.enableStream(b,!0);Vh(this.ga[b])}}};h.Ch=function(a){return this.ga[a].Ch()};h.We=function(a){this.ga[a].We()};h.qe=function(a){return this.ga[a].qe()};
h.Ca=function(a,b){return this.ga[a].Ca(b)};h.zc=function(){this.ub.zc()};h.pe=function(){return null!==this.ub&&this.ub.pe()};h.getStreamCount=function(){return this.ga.length};var qm=C("cast.player.core.MediaSourceManager");var xm=function(a,b,c,d){kh.call(this,a,b,c);a=new xf;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.kk=new ni(this);this.kk.load(a)};m(xm,kh);xm.prototype.H=function(){this.kk.J();kh.prototype.H.call(this)};xm.prototype.reset=function(){};xm.prototype.tc=function(a){a&&this.parse(a,0)};var Z=function(a){G(ym,"Version: 1.0.0.53");Da()&&cast.__platform__.metrics.setMplVersion("1.0.0.53");this.a=a;this.s=null;this.Hb=0;this.yb=null;this.Ci=this.Sa=this.zh=this.ab=!1;this.Rf=!0;this.Qf=!1;this.fc=this.S=this.o=null;this.ne=!1;this.af=null;this.Jd=this.Wh.bind(this);this.zg=this.yg=this.$e=null;this.ug=this.Nf=!1};z("cast.player.api.Player",Z);var Am=function(a,b){zm(a);a.af=setTimeout(a.Jd,b||0)};h=Z.prototype;h.sc=function(a){Am(this,a)};
h.Oe=function(a,b,c,d,e){this.zh&&this.fc.Oe(a,b,c,d,e);Am(this)};h.Uh=function(a){this.ab&&(Infinity==this.Hb||this.Hb<a)&&(this.Hb=a)};h.Rh=function(){rm(this.S)};h.kc=function(){return this.ab?this.Hb:this.o.currentTime};h.ge=function(){this.S.ge()};h.Oh=function(){this.S.update()};Z.prototype.onAudioChanged=Z.prototype.Oh;Z.prototype.ag=function(){this.reload()};var zm=function(a){null!==a.af&&(clearTimeout(a.af),a.af=null)};h=Z.prototype;
h.Lj=function(){G(ym,"seeking");this.ne?this.ne=!1:(this.Qf=this.ab=!1,this.$e=null,this.fc&&this.fc.reset(),this.S.reset())};h.Kj=function(){G(ym,"seeked");this.yb=y()};h.Hd=function(){Mc(ym,"error");this.a.U(Pd(this.o.error))};h.Gj=function(){this.$e=y();Fa("Cast.MPL.Playing");if(this.yg){var a=y()-this.yg;B("Cast.MPL.AutoPauseTime",a);this.yg=null}};
h.Fj=function(){var a=y();this.Sa&&!this.ab&&null!==this.$e&&(this.yg=a,B("Cast.MPL.PlayTimeBeforeAutoPause",a-this.$e));Fa("Cast.MPL.Pause");this.yb=this.$e=null};h.Bj=function(){Fa("Cast.MPL.Ended");this.yb=null};
h.Eg=function(){if(this.ab&&this.o&&!isNaN(this.o.duration)&&0!=this.o.buffered.length&&(this.ab=!1,this.yb=y(),B("Cast.MPL.MediaDuration",this.o.duration),0!=this.Hb&&this.Hb!=this.o.currentTime)){var a=this.Hb;this.ne=!0;this.o.currentTime=a}this.Rf=!1;var b=0,c=0,d=!0;a=this.kc();for(var e=this.S.getStreamCount(),f=0;f<e;f++)if(this.s.isStreamEnabled(f)&&(c++,this.S.qe(f))){b++;var g=this.S.Ca(f,a);if(this.Sa&&d){var k=this.s.getSegmentInterval(f).duration*this.a.autoResumeNumberOfSegments;if(0==
k||k>this.a.autoResumeDuration)k=this.a.autoResumeDuration;g<k&&(d=!1)}k=f;20<=g?G(ym,"not requesting more segments, buffered duration "+g+" seconds exceeds max duration."):(g<this.a.autoPauseDuration&&(g=this.s.getStreamInfo(k),Hf(g.role,g.mimeType,g.codecs)||(this.Rf=!0)),this.S.Ch(k)&&this.S.We(k))}if(this.o&&0!=c){this.Rf?!this.o.paused&&this.o.duration-a>this.a.autoPauseDuration&&(G(ym,"auto pause "+a),this.Sa=!0,this.o.pause(),this.a.onAutoPause&&this.a.onAutoPause(this.Sa)):!this.ab&&this.Sa&&
d&&(this.Sa=!1,this.o.paused&&(G(ym,"auto resume "+a),this.o.play(),this.a.onAutoPause&&this.a.onAutoPause(this.Sa),this.yb=y()));if(0==b){if(!this.Qf&&(G(ym,"endOfStream "+a),this.S.endOfStream(),this.a.onMediaDownloadEnded))this.a.onMediaDownloadEnded();this.Qf=!0}if(!(this.ab||this.Sa||this.o.paused||!this.S||this.S.pe())&&(G(ym,"time="+a),this.yb&&(b=y(),c=2500<b-this.yb,this.a.zi||c))){a:{d=this.o.currentTime;e=this.o.buffered;for(f=e.length-1;0<=f;f--){g=e.start(f);if(d>=g)break;if(0==f||d>
e.end(f-1)-.15){F(ym,"stall jump to "+g);Fa("Cast.MPL.PlaybackStallGap");this.ne=this.ug=!0;this.o.currentTime=g;d=!0;break a}}d=!1}d?this.yb=null:c&&(this.yb=this.a.zi?b:null,F(ym,"playback stalled in buffered region"),Fa("Cast.MPL.PlaybackStall"),this.ne=this.ug=!0,this.o.currentTime=a+.5)}}Am(this,400)};
h.Nj=function(){this.yb=y();this.ug&&(B("Cast.MPL.StallPrevented",1),this.ug=!1);if(this.zg){var a=y()-this.zg;B(this.Nf?"Cast.MPL.PreloadAutoplayStartupLatency":"Cast.MPL.AutoplayStartupLatency",a);this.zg=null}};h.Wh=function(){this.af=null;this.Eg()};var Bm=function(a,b,c){a.s=b;a.ab=!0;a.Hb=c||0;a.S=new om(a.a,a.s,a)};
Z.prototype.load=function(a,b){G(ym,"load");Fa("Cast.MPL.Load");var c=rh();t(c)&&uh("Cast.MPL.ExperimentationBlockId",c.blockIds);this.o=this.a.mediaElement;E(this.o,"error",this.Hd,!1,this);E(this.o,"seeking",this.Lj,!1,this);E(this.o,"seeked",this.Kj,!1,this);E(this.o,"pause",this.Fj,!1,this);E(this.o,"playing",this.Gj,!1,this);E(this.o,"timeupdate",this.Nj,!1,this);E(this.o,"ended",this.Bj,!1,this);this.o.autoplay&&(this.zg=y(),this.o.autoplay=!1,this.Ci=!0,this.Rj());this.S?this.S.open():a?(this.Nf=
!1,Bm(this,a,b),this.S.load()):Mc(ym,"no protocol")};Z.prototype.load=Z.prototype.load;Z.prototype.preload=function(a,b){G(ym,"preload");Fa("Cast.MPL.Preload");Bm(this,a,b);this.S.preload();this.Nf=!0};Z.prototype.preload=Z.prototype.preload;
Z.prototype.Fa=function(){G(ym,"unload");Cm(this);this.S&&(this.S.J(),this.S=null);zm(this);this.o&&(this.Ci&&(this.o.autoplay=!0),this.Qf=this.Sa=!1,Dc(this.o,"error",this.Hd,!1,this),Dc(this.o,"seeking",this.Lj,!1,this),Dc(this.o,"seeked",this.Kj,!1,this),Dc(this.o,"pause",this.Fj,!1,this),Dc(this.o,"playing",this.Gj,!1,this),Dc(this.o,"timeupdate",this.Nj,!1,this),Dc(this.o,"ended",this.Bj,!1,this),this.o=null,this.Nf=!1)};Z.prototype.unload=Z.prototype.Fa;
Z.prototype.reload=function(){this.ab||(this.Hb=this.o.currentTime);this.ab=!0;this.o.paused||(this.Sa=!0);zm(this);this.S.load()};Z.prototype.reload=Z.prototype.reload;Z.prototype.Rj=function(){this.Sa=!0};Z.prototype.playWhenHaveEnoughData=Z.prototype.Rj;Z.prototype.getState=function(a){var b=this.S.Da();t(a)||(a=1);var c={};a&1&&(c.underflow=this.Rf||this.Sa);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};Z.prototype.getState=Z.prototype.getState;
Z.prototype.Ca=function(a){return this.S.Ca(a,this.kc())};Z.prototype.getBufferDuration=Z.prototype.Ca;Z.prototype.bl=function(){return 20};Z.prototype.getMaxBufferDuration=Z.prototype.bl;Z.prototype.zc=function(){this.S.zc()};Z.prototype.startLicenseRequest=Z.prototype.zc;var Cm=function(a){a.fc&&(a.zh=!1,a.fc.J(),a.fc=null)};Z.prototype.Xk=function(a,b,c){b?a?"cea608"==b?(this.zh=!0,this.fc=new am(this,this.a)):c&&(this.fc=new xm(this,this.a,b,c)):Cm(this):this.S.update()};
Z.prototype.enableCaptions=Z.prototype.Xk;Z.prototype.cl=function(){return this.s};Z.prototype.getStreamingProtocol=Z.prototype.cl;Z.prototype.al=function(){return this.a};Z.prototype.getHost=Z.prototype.al;var ym=C("cast.player.api.Player");Z.State={UNDERFLOW:1,SEEKABLE:2};z("cast.player.api.CreateDashStreamingProtocol",function(a){B("Cast.MPL.StreamingProtocolType",1);return new Ti(a)});z("cast.player.api.CreateHlsStreamingProtocol",function(a,b,c){B("Cast.MPL.StreamingProtocolType",2);return new Y(a,b,c)});z("cast.player.api.CreateSmoothStreamingProtocol",function(a){B("Cast.MPL.StreamingProtocolType",3);return new jl(a)}); }).call(window);
