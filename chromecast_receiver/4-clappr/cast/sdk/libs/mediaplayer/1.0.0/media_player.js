// Copyright Google Inc. All Rights Reserved.
(function() { 'use strict';var h,aa="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={yk:!0},ea={};try{ea.__proto__=da;ca=ea.yk;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var fa=ba,m=function(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.cf=b.prototype},ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ia="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:
this,ja=function(){ja=function(){};ia.Symbol||(ia.Symbol=ka)},ka=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}(),ma=function(){ja();var a=ia.Symbol.iterator;a||(a=ia.Symbol.iterator=ia.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ha(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(this)}});ma=function(){}},la=function(a){var b=0;return na(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},na=function(a){ma();a={next:a};
a[ia.Symbol.iterator]=function(){return this};return a},q=function(a){ma();var b=a[Symbol.iterator];return b?b.call(a):la(a)},oa=function(a){if(!(a instanceof Array)){a=q(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},pa=pa||{},r=this,t=function(a){return void 0!==a},v=function(a){return"string"==typeof a},x=function(a){return"number"==typeof a},qa=function(){},ra=function(a){a.wh=void 0;a.Bd=function(){return a.wh?a.wh:a.wh=new a}},sa=function(a){var b=typeof a;if("object"==
b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b},ta=function(a){return"array"==sa(a)},wa=function(a){var b=sa(a);return"array"==b||"object"==b&&"number"==typeof a.length},xa=function(a){return"function"==sa(a)},ya=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},za=function(a,b,c){return a.call.apply(a.bind,arguments)},Aa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},Ba=function(a,b,c){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)},y=Date.now||function(){return+new Date},z=function(a,b){a=a.split(".");var c=r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&t(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]=
{}},Ca=function(a,b){function c(){}c.prototype=b.prototype;a.cf=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.km=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var cast=r.cast||{};var Da=function(){return!(!cast.__platform__||!cast.__platform__.metrics)},Ea=function(a,b){Da()&&cast.__platform__.metrics.logBoolToUma(a,b)},Fa=function(a){Da()&&cast.__platform__.metrics.logEventToUma(a)},B=function(a,b){Da()&&cast.__platform__.metrics.logIntToUma(a,b)};var Ga=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ga);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};Ca(Ga,Error);Ga.prototype.name="CustomError";var Ha=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");Ga.call(this,c+a[d])};Ca(Ha,Ga);Ha.prototype.name="AssertionError";var Ia=function(a,b){throw new Ha("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ja=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b};var Ka=function(a){return!!a&&"function"===typeof a.then};var La=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(v(a))return v(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if(v(a))return v(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Na=
Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Oa=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=v(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Pa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=v(a)?
a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Ra=function(a){a:{var b=Qa;for(var c=a.length,d=v(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:v(a)?a.charAt(b):a[b]},Sa=function(a){if(!ta(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Ta=function(a,b){b=La(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},Ua=function(a){return Array.prototype.concat.apply([],arguments)},Va=function(a){var b=
a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Wa=function(a,b){this.pl=100;this.Nk=a;this.Ql=b;this.ag=0;this.Kf=null};Wa.prototype.get=function(){if(0<this.ag){this.ag--;var a=this.Kf;this.Kf=a.next;a.next=null}else a=this.Nk();return a};Wa.prototype.put=function(a){this.Ql(a);this.ag<this.pl&&(this.ag++,a.next=this.Kf,this.Kf=a)};var Xa=function(a,b){var c=String(b).toLowerCase();a=String(a.substr(0,b.length)).toLowerCase();return 0==(c<a?-1:c==a?0:1)},Ya=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Za=function(a,b){return a<b?-1:a>b?1:0};var $a;a:{var ab=r.navigator;if(ab){var bb=ab.userAgent;if(bb){$a=bb;break a}}$a=""}var cb=function(a){return-1!=$a.indexOf(a)};var db=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},eb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},fb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},gb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ib=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],
Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var jb=function(a){r.setTimeout(function(){throw a;},0)},kb,lb=function(){var a=r.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!cb("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;
a=Ba(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!cb("Trident")&&!cb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(t(c.next)){c=c.next;var a=c.Ji;c.Ji=null;a()}};return function(a){d.next={Ji:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};var mb=function(){this.Kg=this.ce=null},ob=new Wa(function(){return new nb},function(a){a.reset()});mb.prototype.add=function(a,b){var c=ob.get();c.set(a,b);this.Kg?this.Kg.next=c:this.ce=c;this.Kg=c};mb.prototype.remove=function(){var a=null;this.ce&&(a=this.ce,this.ce=this.ce.next,this.ce||(this.Kg=null),a.next=null);return a};var nb=function(){this.next=this.scope=this.Ad=null};nb.prototype.set=function(a,b){this.Ad=a;this.scope=b;this.next=null};
nb.prototype.reset=function(){this.next=this.scope=this.Ad=null};var tb=function(a,b){pb||qb();rb||(pb(),rb=!0);sb.add(a,b)},pb,qb=function(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);pb=function(){a.then(ub)}}else pb=function(){var a=ub;!xa(r.setImmediate)||r.Window&&r.Window.prototype&&!cb("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(kb||(kb=lb()),kb(a)):r.setImmediate(a)}},rb=!1,sb=new mb,ub=function(){for(var a;a=sb.remove();){try{a.Ad.call(a.scope)}catch(b){jb(b)}ob.put(a)}rb=!1};var wb=function(a){wb[" "](a);return a};wb[" "]=qa;var yb=function(a,b){var c=xb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var zb=cb("Opera"),Ab=cb("Trident")||cb("MSIE"),Bb=cb("Edge"),Cb=cb("Gecko")&&!(-1!=$a.toLowerCase().indexOf("webkit")&&!cb("Edge"))&&!(cb("Trident")||cb("MSIE"))&&!cb("Edge"),Db=-1!=$a.toLowerCase().indexOf("webkit")&&!cb("Edge"),Eb=function(){var a=r.document;return a?a.documentMode:void 0},Fb;
a:{var Gb="",Hb=function(){var a=$a;if(Cb)return/rv:([^\);]+)(\)|;)/.exec(a);if(Bb)return/Edge\/([\d\.]+)/.exec(a);if(Ab)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Db)return/WebKit\/(\S+)/.exec(a);if(zb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Hb&&(Gb=Hb?Hb[1]:"");if(Ab){var Ib=Eb();if(null!=Ib&&Ib>parseFloat(Gb)){Fb=String(Ib);break a}}Fb=Gb}
var Jb=Fb,xb={},Kb=function(a){return yb(a,function(){for(var b=0,c=Ya(String(Jb)).split("."),d=Ya(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=Za(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||Za(0==g[2].length,0==k[2].length)||Za(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},Lb;var Mb=r.document;
Lb=Mb&&Ab?Eb()||("CSS1Compat"==Mb.compatMode?parseInt(Jb,10):5):void 0;var Nb=Object.freeze||function(a){return a};var Ob=function(a,b,c){this.reset(a,b,c,void 0,void 0)};Ob.prototype.xc=0;Ob.prototype.ih=null;var Pb=0;Ob.prototype.reset=function(a,b,c,d,e){this.xc="number"==typeof e?e:Pb++;this.Xd=d||y();this.Sc=a;this.tl=b;this.wj=c;delete this.ih};Ob.prototype.mi=function(a){this.Sc=a};var Qb=function(a){this.Vc=a;this.me=this.Xg=this.Sc=this.Ya=null},Rb=function(a,b){this.name=a;this.value=b};Rb.prototype.toString=function(){return this.name};
var Sb=new Rb("SHOUT",1200),Tb=new Rb("SEVERE",1E3),Ub=new Rb("WARNING",900),Vb=new Rb("INFO",800),Wb=new Rb("CONFIG",700),Xb=new Rb("FINE",500),Yb=[new Rb("OFF",Infinity),Sb,Tb,Ub,Vb,Wb,Xb,new Rb("FINER",400),new Rb("FINEST",300),new Rb("ALL",0)],Zb=null,$b=function(a){if(!Zb){Zb={};for(var b=0,c;c=Yb[b];b++)Zb[c.value]=c,Zb[c.name]=c}if(a in Zb)return Zb[a];for(b=0;b<Yb.length;++b)if(c=Yb[b],c.value<=a)return c;return null};Qb.prototype.getName=function(){return this.Vc};
Qb.prototype.getParent=function(){return this.Ya};Qb.prototype.mi=function(a){this.Sc=a};var ac=function(a){if(a.Sc)return a.Sc;if(a.Ya)return ac(a.Ya);Ia("Root logger has no level set.");return null};Qb.prototype.log=function(a,b,c){if(a.value>=ac(this).value)for(xa(b)&&(b=b()),a=new Ob(a,String(b),this.Vc),c&&(a.ih=c),c=this;c;){var d=c,e=a;if(d.me)for(var f=0;b=d.me[f];f++)b(e);c=c.getParent()}};Qb.prototype.info=function(a,b){this.log(Vb,a,b)};
var bc={},cc=null,dc=function(){cc||(cc=new Qb(""),bc[""]=cc,cc.mi(Wb))},ec=function(){dc();return cc},C=function(a){dc();var b;if(!(b=bc[a])){b=new Qb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=C(a.substr(0,c));c.Xg||(c.Xg={});c.Xg[d]=b;b.Ya=c;bc[a]=b}return b};var D=function(){this.he=this.he;this.cg=this.cg};D.prototype.he=!1;D.prototype.J=function(){this.he||(this.he=!0,this.H())};D.prototype.H=function(){if(this.cg)for(;this.cg.length;)this.cg.shift()()};var fc;(fc=!Ab)||(fc=9<=Number(Lb));var gc=fc,hc=Ab&&!Kb("9"),ic=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});r.addEventListener("test",qa,b);r.removeEventListener("test",qa,b);return a}();var jc=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Yc=!1;this.bk=!0};jc.prototype.stopPropagation=function(){this.Yc=!0};jc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.bk=!1};var kc=function(a,b){jc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Kc=null;a&&this.la(a,b)};Ca(kc,jc);var lc=Nb({2:"touch",3:"pen",4:"mouse"});
kc.prototype.la=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Cb){a:{try{wb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=Db||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Db||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=
v(a.pointerType)?a.pointerType:lc[a.pointerType]||"";this.state=a.state;this.Kc=a;a.defaultPrevented&&this.preventDefault()};kc.prototype.stopPropagation=function(){kc.cf.stopPropagation.call(this);this.Kc.stopPropagation?this.Kc.stopPropagation():this.Kc.cancelBubble=!0};kc.prototype.preventDefault=function(){kc.cf.preventDefault.call(this);var a=this.Kc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,hc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var mc="closure_listenable_"+(1E6*Math.random()|0),nc=0;var oc=function(a,b,c,d,e){this.listener=a;this.jg=null;this.src=b;this.type=c;this.capture=!!d;this.If=e;this.key=++nc;this.Sd=this.uf=!1},pc=function(a){a.Sd=!0;a.listener=null;a.jg=null;a.src=null;a.If=null};var qc=function(a){this.src=a;this.va={};this.jf=0};qc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.va[f];a||(a=this.va[f]=[],this.jf++);var g=rc(a,b,d,e);-1<g?(b=a[g],c||(b.uf=!1)):(b=new oc(b,this.src,f,!!d,e),b.uf=c,a.push(b));return b};qc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.va))return!1;var e=this.va[a];b=rc(e,b,c,d);return-1<b?(pc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.va[a],this.jf--),!0):!1};
var sc=function(a,b){var c=b.type;c in a.va&&Ta(a.va[c],b)&&(pc(b),0==a.va[c].length&&(delete a.va[c],a.jf--))};qc.prototype.oh=function(a,b,c,d){a=this.va[a.toString()];var e=-1;a&&(e=rc(a,b,c,d));return-1<e?a[e]:null};qc.prototype.hasListener=function(a,b){var c=t(a),d=c?a.toString():"",e=t(b);return db(this.va,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].capture!=b))return!0;return!1})};
var rc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Sd&&f.listener==b&&f.capture==!!c&&f.If==d)return e}return-1};var tc="closure_lm_"+(1E6*Math.random()|0),uc={},vc=0,E=function(a,b,c,d,e){if(d&&d.once)wc(a,b,c,d,e);else if(ta(b))for(var f=0;f<b.length;f++)E(a,b[f],c,d,e);else c=xc(c),a&&a[mc]?a.ob.add(String(b),c,!1,ya(d)?!!d.capture:!!d,e):yc(a,b,c,!1,d,e)},yc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ya(e)?!!e.capture:!!e,k=zc(a);k||(a[tc]=k=new qc(a));c=k.add(b,c,d,g,f);if(!c.jg){d=Ac();c.jg=d;d.src=a;d.listener=c;if(a.addEventListener)ic||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(Bc(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");vc++}},Ac=function(){var a=Cc,b=gc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},wc=function(a,b,c,d,e){if(ta(b))for(var f=0;f<b.length;f++)wc(a,b[f],c,d,e);else c=xc(c),a&&a[mc]?a.ob.add(String(b),c,!0,ya(d)?!!d.capture:!!d,e):yc(a,b,c,!0,d,e)},
Dc=function(a,b,c,d,e){if(ta(b))for(var f=0;f<b.length;f++)Dc(a,b[f],c,d,e);else d=ya(d)?!!d.capture:!!d,c=xc(c),a&&a[mc]?a.ob.remove(String(b),c,d,e):a&&(a=zc(a))&&(b=a.oh(b,c,d,e))&&Ec(b)},Ec=function(a){if(!x(a)&&a&&!a.Sd){var b=a.src;if(b&&b[mc])sc(b.ob,a);else{var c=a.type,d=a.jg;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Bc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);vc--;(c=zc(b))?(sc(c,a),0==c.jf&&(c.src=null,b[tc]=null)):pc(a)}}},
Bc=function(a){return a in uc?uc[a]:uc[a]="on"+a},Gc=function(a,b,c,d){var e=!0;if(a=zc(a))if(b=a.va[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Sd&&(f=Fc(f,d),e=e&&!1!==f)}return e},Fc=function(a,b){var c=a.listener,d=a.If||a.src;a.uf&&Ec(a);return c.call(d,b)},Cc=function(a,b){if(a.Sd)return!0;if(!gc){if(!b)a:{b=["window","event"];for(var c=r,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new kc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=
!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Yc&&0<=e;e--){b.currentTarget=d[e];var f=Gc(d[e],a,!0,b);c=c&&f}for(e=0;!b.Yc&&e<d.length;e++)b.currentTarget=d[e],f=Gc(d[e],a,!1,b),c=c&&f}return c}return Fc(a,new kc(b,this))},zc=function(a){a=a[tc];return a instanceof qc?a:null},Hc="__closure_events_fn_"+(1E9*Math.random()>>>0),xc=function(a){if(xa(a))return a;
a[Hc]||(a[Hc]=function(b){return a.handleEvent(b)});return a[Hc]};var Ic=function(){D.call(this);this.ob=new qc(this);this.zk=this;this.$h=null};Ca(Ic,D);Ic.prototype[mc]=!0;Ic.prototype.addEventListener=function(a,b,c,d){E(this,a,b,c,d)};Ic.prototype.removeEventListener=function(a,b,c,d){Dc(this,a,b,c,d)};
Ic.prototype.dispatchEvent=function(a){var b,c=this.$h;if(c)for(b=[];c;c=c.$h)b.push(c);c=this.zk;var d=a.type||a;if(v(a))a=new jc(a,c);else if(a instanceof jc)a.target=a.target||c;else{var e=a;a=new jc(d,c);ib(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Yc&&0<=f;f--){var g=a.currentTarget=b[f];e=Jc(g,d,!0,a)&&e}a.Yc||(g=a.currentTarget=c,e=Jc(g,d,!0,a)&&e,a.Yc||(e=Jc(g,d,!1,a)&&e));if(b)for(f=0;!a.Yc&&f<b.length;f++)g=a.currentTarget=b[f],e=Jc(g,d,!1,a)&&e;return e};
Ic.prototype.H=function(){Ic.cf.H.call(this);if(this.ob){var a=this.ob,b=0,c;for(c in a.va){for(var d=a.va[c],e=0;e<d.length;e++)++b,pc(d[e]);delete a.va[c];a.jf--}}this.$h=null};var Jc=function(a,b,c,d){b=a.ob.va[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Sd&&g.capture==c){var k=g.listener,l=g.If||g.src;g.uf&&sc(a.ob,g);e=!1!==k.call(l,d)&&e}}return e&&0!=d.bk};Ic.prototype.oh=function(a,b,c,d){return this.ob.oh(String(a),b,c,d)};
Ic.prototype.hasListener=function(a,b){return this.ob.hasListener(t(a)?String(a):void 0,b)};var Kc="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Lc=function(){};Lc.prototype.next=function(){throw Kc;};Lc.prototype.xk=function(){return this};var Mc=function(a,b){a&&a.log(Tb,b,void 0)},F=function(a,b){a&&a.log(Ub,b,void 0)},G=function(a,b){a&&a.info(b,void 0)},Nc=function(a,b){a&&a.log(Xb,b,void 0)};var Oc=function(){};Oc.prototype.Hi=null;var Qc=function(a){var b;(b=a.Hi)||(b={},Pc(a)&&(b[0]=!0,b[1]=!0),b=a.Hi=b);return b};var Rc,Sc=function(){};Ca(Sc,Oc);var Tc=function(a){return(a=Pc(a))?new ActiveXObject(a):new XMLHttpRequest},Pc=function(a){if(!a.ej&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ej=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ej};Rc=new Sc;var Uc=function(a,b){this.bb={};this.ia=[];this.Ga=this.M=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};h=Uc.prototype;h.Fb=function(){return this.M};h.Ka=function(){Vc(this);for(var a=[],b=0;b<this.ia.length;b++)a.push(this.bb[this.ia[b]]);return a};h.Ja=function(){Vc(this);return this.ia.concat()};h.gc=function(a){return Wc(this.bb,a)};
h.Eb=function(a){if(this===a)return!0;if(this.M!=a.Fb())return!1;var b=Xc;Vc(this);for(var c,d=0;c=this.ia[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Xc=function(a,b){return a===b};Uc.prototype.xa=function(){return 0==this.M};Uc.prototype.clear=function(){this.bb={};this.Ga=this.M=this.ia.length=0};Uc.prototype.remove=function(a){return Wc(this.bb,a)?(delete this.bb[a],this.M--,this.Ga++,this.ia.length>2*this.M&&Vc(this),!0):!1};
var Vc=function(a){if(a.M!=a.ia.length){for(var b=0,c=0;b<a.ia.length;){var d=a.ia[b];Wc(a.bb,d)&&(a.ia[c++]=d);b++}a.ia.length=c}if(a.M!=a.ia.length){var e={};for(c=b=0;b<a.ia.length;)d=a.ia[b],Wc(e,d)||(a.ia[c++]=d,e[d]=1),b++;a.ia.length=c}};h=Uc.prototype;h.get=function(a,b){return Wc(this.bb,a)?this.bb[a]:b};h.set=function(a,b){Wc(this.bb,a)||(this.M++,this.ia.push(a),this.Ga++);this.bb[a]=b};
h.addAll=function(a){if(a instanceof Uc)for(var b=a.Ja(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};h.forEach=function(a,b){for(var c=this.Ja(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Uc(this)};
h.xk=function(a){Vc(this);var b=0,c=this.Ga,d=this,e=new Lc;e.next=function(){if(c!=d.Ga)throw Error("The map has changed since the iterator was created");if(b>=d.ia.length)throw Kc;var e=d.ia[b++];return a?e:d.bb[e]};return e};var Wc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Yc=function(a){if(a.Ka&&"function"==typeof a.Ka)return a.Ka();if(v(a))return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return eb(a)},Zc=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(wa(a)||v(a))Na(a,b,c);else{if(a.Ja&&"function"==typeof a.Ja)var d=a.Ja();else if(a.Ka&&"function"==typeof a.Ka)d=void 0;else if(wa(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=fb(a);e=Yc(a);f=e.length;for(var g=0;g<f;g++)b.call(c,
e[g],d&&d[g],a)}};var bd=function(a){this.f=0;this.ak=void 0;this.rd=this.ec=this.Ya=null;this.Gf=this.jh=!1;if(a!=qa)try{var b=this;a.call(void 0,function(a){$c(b,2,a)},function(a){if(!(a instanceof ad))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(d){}$c(b,3,a)})}catch(c){$c(this,3,c)}},cd=function(){this.next=this.context=this.Jd=this.Ie=this.Ic=null;this.pf=!1};cd.prototype.reset=function(){this.context=this.Jd=this.Ie=this.Ic=null;this.pf=!1};
var dd=new Wa(function(){return new cd},function(a){a.reset()}),ed=function(a,b,c){var d=dd.get();d.Ie=a;d.Jd=b;d.context=c;return d},fd=function(a){if(a instanceof bd)return a;var b=new bd(qa);$c(b,2,a);return b},gd=function(){return new bd(function(a,b){b("Cache is not enabled.")})},id=function(){var a,b,c=new bd(function(c,e){a=c;b=e});return new hd(c,a,b)};bd.prototype.then=function(a,b,c){return jd(this,xa(a)?a:null,xa(b)?b:null,c)};bd.prototype.then=bd.prototype.then;
bd.prototype.$goog_Thenable=!0;var kd=function(a,b){jd(a,null,b,void 0)};bd.prototype.cancel=function(a){0==this.f&&tb(function(){var b=new ad(a);ld(this,b)},this)};
var ld=function(a,b){if(0==a.f)if(a.Ya){var c=a.Ya;if(c.ec){for(var d=0,e=null,f=null,g=c.ec;g&&(g.pf||(d++,g.Ic==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.f&&1==d?ld(c,b):(f?(d=f,d.next==c.rd&&(c.rd=d),d.next=d.next.next):md(c),nd(c,e,3,b)))}a.Ya=null}else $c(a,3,b)},pd=function(a,b){a.ec||2!=a.f&&3!=a.f||od(a);a.rd?a.rd.next=b:a.ec=b;a.rd=b},jd=function(a,b,c,d){var e=ed(null,null,null);e.Ic=new bd(function(a,g){e.Ie=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Jd=c?function(b){try{var e=
c.call(d,b);!t(e)&&b instanceof ad?g(b):a(e)}catch(n){g(n)}}:g});e.Ic.Ya=a;pd(a,e);return e.Ic};bd.prototype.em=function(a){this.f=0;$c(this,2,a)};bd.prototype.fm=function(a){this.f=0;$c(this,3,a)};
var $c=function(a,b,c){if(0==a.f){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.f=1;a:{var d=c,e=a.em,f=a.fm;if(d instanceof bd){pd(d,ed(e||qa,f||null,a));var g=!0}else{if(d)try{var k=!!d.$goog_Thenable}catch(n){k=!1}else k=!1;if(k)d.then(e,f,a),g=!0;else{if(ya(d))try{var l=d.then;if(xa(l)){qd(d,l,e,f,a);g=!0;break a}}catch(n){f.call(a,n);g=!0;break a}g=!1}}}g||(a.ak=c,a.f=b,a.Ya=null,od(a),3!=b||c instanceof ad||rd(a,c))}},qd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=
!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(l){k(l)}},od=function(a){a.jh||(a.jh=!0,tb(a.$k,a))},md=function(a){var b=null;a.ec&&(b=a.ec,a.ec=b.next,b.next=null);a.ec||(a.rd=null);return b};bd.prototype.$k=function(){for(var a;a=md(this);)nd(this,a,this.f,this.ak);this.jh=!1};
var nd=function(a,b,c,d){if(3==c&&b.Jd&&!b.pf)for(;a&&a.Gf;a=a.Ya)a.Gf=!1;if(b.Ic)b.Ic.Ya=null,sd(b,c,d);else try{b.pf?b.Ie.call(b.context):sd(b,c,d)}catch(e){td.call(null,e)}dd.put(b)},sd=function(a,b,c){2==b?a.Ie.call(a.context,c):a.Jd&&a.Jd.call(a.context,c)},rd=function(a,b){a.Gf=!0;tb(function(){a.Gf&&td.call(null,b)})},td=jb,ad=function(a){Ga.call(this,a)};Ca(ad,Ga);ad.prototype.name="cancel";var hd=function(a,b,c){this.Nl=a;this.resolve=b;this.reject=c};var ud=function(a,b,c){if(xa(a))c&&(a=Ba(a,c));else if(a&&"function"==typeof a.handleEvent)a=Ba(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,wd=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var H=function(a){Ic.call(this);this.headers=new Uc;this.Ng=a||null;this.bc=!1;this.Mg=this.u=null;this.uj=this.Ce="";this.Lb=0;this.Be="";this.Mc=this.th=this.Mf=this.gh=!1;this.Yb=0;this.pa=null;this.af="";this.Hg=this.Ml=this.be=!1};Ca(H,Ic);H.prototype.wa=C("goog.net.XhrIo");var xd=/^https?$/i,yd=["POST","PUT"],zd=function(a){a.af="arraybuffer"};
H.prototype.send=function(a,b,c,d){if(this.u)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Ce+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Ce=a;this.Be="";this.Lb=0;this.uj=b;this.gh=!1;this.bc=!0;this.u=this.bh();this.Mg=this.Ng?Qc(this.Ng):Qc(Rc);this.u.onreadystatechange=Ba(this.Mj,this);this.Ml&&"onprogress"in this.u&&(this.u.onprogress=Ba(function(a){this.Lj(a,!0)},this),this.u.upload&&(this.u.upload.onprogress=Ba(this.Lj,this)));try{Nc(this.wa,Ad(this,"Opening Xhr")),
this.th=!0,this.u.open(b,String(a),!0),this.th=!1}catch(f){Nc(this.wa,Ad(this,"Error opening Xhr: "+f.message));Bd(this,f);return}a=c||"";var e=this.headers.clone();d&&Zc(d,function(a,b){e.set(b,a)});d=Ra(e.Ja());c=r.FormData&&a instanceof r.FormData;!(0<=La(yd,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.u.setRequestHeader(b,a)},this);this.af&&(this.u.responseType=this.af);"withCredentials"in this.u&&this.u.withCredentials!==this.be&&
(this.u.withCredentials=this.be);try{Cd(this),0<this.Yb&&(this.Hg=Dd(this.u),Nc(this.wa,Ad(this,"Will abort after "+this.Yb+"ms if incomplete, xhr2 "+this.Hg)),this.Hg?(this.u.timeout=this.Yb,this.u.ontimeout=Ba(this.pk,this)):this.pa=ud(this.pk,this.Yb,this)),Nc(this.wa,Ad(this,"Sending request")),this.Mf=!0,this.u.send(a),this.Mf=!1}catch(f){Nc(this.wa,Ad(this,"Send error: "+f.message)),Bd(this,f)}};
var Dd=function(a){return Ab&&Kb(9)&&x(a.timeout)&&t(a.ontimeout)},Qa=function(a){return"content-type"==a.toLowerCase()};H.prototype.bh=function(){return this.Ng?Tc(this.Ng):Tc(Rc)};H.prototype.pk=function(){"undefined"!=typeof pa&&this.u&&(this.Be="Timed out after "+this.Yb+"ms, aborting",this.Lb=8,Nc(this.wa,Ad(this,this.Be)),this.dispatchEvent("timeout"),this.abort(8))};
var Bd=function(a,b){a.bc=!1;a.u&&(a.Mc=!0,a.u.abort(),a.Mc=!1);a.Be=b;a.Lb=5;Ed(a);Fd(a)},Ed=function(a){a.gh||(a.gh=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};H.prototype.abort=function(a){this.u&&this.bc&&(Nc(this.wa,Ad(this,"Aborting")),this.bc=!1,this.Mc=!0,this.u.abort(),this.Mc=!1,this.Lb=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fd(this))};H.prototype.H=function(){this.u&&(this.bc&&(this.bc=!1,this.Mc=!0,this.u.abort(),this.Mc=!1),Fd(this,!0));H.cf.H.call(this)};
H.prototype.Mj=function(){this.he||(this.th||this.Mf||this.Mc?Gd(this):this.Al())};H.prototype.Al=function(){Gd(this)};
var Gd=function(a){if(a.bc&&"undefined"!=typeof pa)if(a.Mg[1]&&4==Hd(a)&&2==Id(a))Nc(a.wa,Ad(a,"Local request error detected and ignored"));else if(a.Mf&&4==Hd(a))ud(a.Mj,0,a);else if(a.dispatchEvent("readystatechange"),4==Hd(a)){Nc(a.wa,Ad(a,"Request complete"));a.bc=!1;try{var b=Id(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Ce).match(vd)[1]||null;if(!f&&r.self&&r.self.location){var g=
r.self.location.protocol;f=g.substr(0,g.length-1)}e=!xd.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Lb=6;try{var k=2<Hd(a)?a.u.statusText:""}catch(l){Nc(a.wa,"Can not get status: "+l.message),k=""}a.Be=k+" ["+Id(a)+"]";Ed(a)}}finally{Fd(a)}}};H.prototype.Lj=function(a,b){this.dispatchEvent(Jd(a,"progress"));this.dispatchEvent(Jd(a,b?"downloadprogress":"uploadprogress"))};
var Jd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Fd=function(a,b){if(a.u){Cd(a);var c=a.u,d=a.Mg[0]?qa:null;a.u=null;a.Mg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Mc(a.wa,"Problem encountered resetting onreadystatechange: "+e.message)}}},Cd=function(a){a.u&&a.Hg&&(a.u.ontimeout=null);a.pa&&(r.clearTimeout(a.pa),a.pa=null)};H.prototype.te=function(){return!!this.u};
var Hd=function(a){return a.u?a.u.readyState:0},Id=function(a){try{return 2<Hd(a)?a.u.status:-1}catch(b){return-1}},Kd=function(a){try{if(!a.u)return null;if("response"in a.u)return a.u.response;switch(a.af){case "":case "text":return a.u.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.u)return a.u.mozResponseArrayBuffer}Mc(a.wa,"Response type "+a.af+" is not supported on this browser");return null}catch(b){return Nc(a.wa,"Can not get response: "+b.message),null}};
H.prototype.getResponseHeader=function(a){if(this.u&&4==Hd(this))return a=this.u.getResponseHeader(a),null===a?void 0:a};H.prototype.getAllResponseHeaders=function(){return this.u&&4==Hd(this)?this.u.getAllResponseHeaders()||"":""};var Ad=function(a,b){return b+" ["+a.uj+" "+a.Ce+" "+Id(a)+"]"};var Ld=function(a){return Xa(a,"audio/")},Md=function(a){return Xa(a,"video/")},Nd=/dv(he|av).[s|d|p][e|t|w][n|r|h|b][a|h]?[e|t|w]?/,Od=function(a){var b=!1;a=a.split(",");for(var c=0;c<a.length;c++){if(a[c].match(Nd))return!1;0===a[c].indexOf("hev1.2")&&(b=!0)}return b},Pd=function(a){if(!a)return 100;switch(a.code){case MediaError.MEDIA_ERR_ABORTED:return 101;case MediaError.MEDIA_ERR_NETWORK:return 103;case MediaError.MEDIA_ERR_DECODE:return 102;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return 104;
default:return 100}};var I={},Qd=(I["application/ttml+xml"]=1,I["text/vtt"]=2,I["text/mp4"]=3,I["audio/mp4"]=4,I["video/mp4"]=5,I["video/mp2t"]=6,I["audio/webm"]=7,I["video/webm"]=8,I["application/x-mpegurl"]=9,I["application/vnd.apple.mpegurl"]=10,I["application/dash+xml"]=11,I["application/vnd.ms-sstr+xml"]=12,I["text/cea608"]=13,I["video/ogg"]=14,I["audio/aac"]=15,I["audio/mp3"]=16,I["audio/ogg"]=17,I["audio/wav"]=18,I["image/gif"]=19,I["image/jpg"]=20,I["image/png"]=21,I["text/mp2t"]=22,I["application/mp4"]=23,I);
function Rd(a){if(a){if(Md(a))return"Video";if(Ld(a))return"Audio"}}function Sd(a){switch(a){case "webvtt":return 1;case "ttml":return 2;case "cea608":return 3}return 0}
function Td(a){switch(a){case "mp4a.a6":return 1;case "ec-3":return 2;case "mp4a.40.2":return 3;case "mp4a.40.5":return 4;case "mp4a.67":return 5;case "avc1.4D40":return 6;case "avc1.4D401E":return 7;case "mp4a.a5":return 8;case "ac-3":return 9;case "vorbis":return 10;case "opus":return 11;case "vp8":return 12;case "vp9":return 13}return 0==a.lastIndexOf("avc1",0)?11:0==a.lastIndexOf("mp4a.40",0)?12:0}
function Ud(a,b){switch(b){case 1:switch(a){case "clearkey":return 101;case "widevine":return 102;case "playready":return 103}break;case 2:switch(a){case "widevine":return 201;case "aes_128":return 202;case "aes_128_ckp":return 203}break;case 3:switch(a){case "playready":return 301}}return 0}var Vd=function(a){a.split(",").forEach(function(a){B("Cast.MPL.Codec",Td(a))})},Wd=function(a,b){B("Cast.MPL.ProtocolProtection",Ud(a,b))};var Xd=function(a,b,c){this.type=a;this.key=b;this.data=void 0===c?null:c},Yd=C("castx.common.cache"),Zd=function(){this.ka=cast.__platform__&&cast.__platform__.cache;this.Gc=new Ic;this.Rd=0;this.Rd=this.isEnabled()?this.ka.capacity():0};Zd.prototype.isEnabled=function(){return!!this.ka};var $d=function(a){return!a.isEnabled()||512E3>a.Rd};h=Zd.prototype;h.Jf=function(a){return this.isEnabled()&&this.Rd>=a};h.contains=function(a){return this.isEnabled()?this.ka.contains(a):!1};
h.insert=function(a,b){var c=this;return new Promise(function(d,e){c.isEnabled()?c.Jf(b.byteLength)?(G(Yd,"Cache item was inserted"),c.ka.insert(a,b).then(function(){c.Gc.dispatchEvent(new Xd("INSERT",a,b));c.Rd-=b.byteLength;d()},function(d){c.Gc.dispatchEvent(new Xd("ERROR",a,b));e(d)})):(c.Gc.dispatchEvent(new Xd("OVER_CAPACITY",a,b)),F(Yd,"Insufficient cache space - "+b.byteLength),e("Insufficient cache space for "+a)):(Mc(Yd,"Cache is not enabled"),e("Cache is not enabled"))})};
h.get=function(a){var b=this;return new Promise(function(c,d){b.isEnabled()?b.ka.get(a).then(function(d){G(Yd,"Cache item was fetched");b.Gc.dispatchEvent(new Xd("FETCH",a,d));c(d)},function(c){b.Gc.dispatchEvent(new Xd("NOT_FOUND",a));d(c)}):(Mc(Yd,"Cache is not enabled"),d("Cache is not enabled"))})};h.addEventListener=function(a,b){this.Gc.addEventListener(a,b)};h.removeEventListener=function(a,b){this.Gc.removeEventListener(a,b)};var ae=function(){this.$j=y()},be=null;ae.prototype.set=function(a){this.$j=a};ae.prototype.reset=function(){this.set(y())};ae.prototype.get=function(){return this.$j};var ce=function(a){this.Il=a||"";be||(be=new ae);this.bm=be};h=ce.prototype;h.Ci=!0;h.gk=!0;h.Zl=!0;h.Yl=!0;h.hk=!1;h.$l=!1;var de=function(a){return 10>a?"0"+a:String(a)},ee=function(a,b){a=(a.Xd-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},fe=function(a){ce.call(this,a)};Ca(fe,ce);var ge=function(){this.Pl=Ba(this.Ak,this);this.Bf=new fe;this.Bf.gk=!1;this.Bf.hk=!1;this.hj=this.Bf.Ci=!1;this.al={}};
ge.prototype.Ak=function(a){if(!this.al[a.wj]){var b=this.Bf;var c=[];c.push(b.Il," ");if(b.gk){var d=new Date(a.Xd);c.push("[",de(d.getFullYear()-2E3)+de(d.getMonth()+1)+de(d.getDate())+" "+de(d.getHours())+":"+de(d.getMinutes())+":"+de(d.getSeconds())+"."+de(Math.floor(d.getMilliseconds()/10)),"] ")}b.Zl&&c.push("[",ee(a,b.bm.get()),"s] ");b.Yl&&c.push("[",a.wj,"] ");b.$l&&c.push("[",a.Sc.name,"] ");c.push(a.tl);b.hk&&(d=a.ih)&&c.push("\n",d instanceof Error?d.message:d.toString());b.Ci&&c.push("\n");
b=c.join("");if(c=he)switch(a.Sc){case Sb:ie(c,"info",b);break;case Tb:ie(c,"error",b);break;case Ub:ie(c,"warn",b);break;default:ie(c,"log",b)}}};var je=null,he=r.console,ie=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var ke=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,le=function(a,b,c,d,e,f){v(a)?(this.nd="y"==a?b:0,this.Uc="m"==a?b:0,this.hc="d"==a?b:0,this.mc="h"==a?b:0,this.rc="n"==a?b:0,this.wc="s"==a?b:0):(this.nd=a||0,this.Uc=b||0,this.hc=c||0,this.mc=d||0,this.rc=e||0,this.wc=f||0)};le.prototype.Eb=function(a){return a.nd==this.nd&&a.Uc==this.Uc&&a.hc==this.hc&&a.mc==this.mc&&a.rc==this.rc&&a.wc==this.wc};
le.prototype.clone=function(){return new le(this.nd,this.Uc,this.hc,this.mc,this.rc,this.wc)};le.prototype.add=function(a){this.nd+=a.nd;this.Uc+=a.Uc;this.hc+=a.hc;this.mc+=a.mc;this.rc+=a.rc;this.wc+=a.wc};var me=function(a,b){this.rj=a;this.Ig=b};me.prototype.getKey=function(){return this.rj};me.prototype.clone=function(){return new me(this.rj,this.Ig)};var ne=function(a){this.Xa=[];if(a)a:{if(a instanceof ne){var b=a.Ja();a=a.Ka();if(0>=this.Fb()){for(var c=this.Xa,d=0;d<b.length;d++)c.push(new me(b[d],a[d]));break a}}else b=fb(a),a=eb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}};h=ne.prototype;h.insert=function(a,b){var c=this.Xa;c.push(new me(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
h.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Sa(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.Ig}};h.ci=function(){var a=this.Xa;if(0!=a.length)return a[0].Ig};h.Ka=function(){for(var a=this.Xa,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].Ig);return b};
h.Ja=function(){for(var a=this.Xa,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};h.gc=function(a){return Pa(this.Xa,function(b){return b.getKey()==a})};h.clone=function(){return new ne(this)};h.Fb=function(){return this.Xa.length};h.xa=function(){return 0==this.Xa.length};h.clear=function(){Sa(this.Xa)};var oe=function(){ne.call(this)};Ca(oe,ne);oe.prototype.enqueue=function(a,b){this.insert(a,b)};oe.prototype.wd=function(){return this.remove()};var pe=function(){this.Pa=[];this.ib=[]},qe=function(a){0==a.Pa.length&&(a.Pa=a.ib,a.Pa.reverse(),a.ib=[])};h=pe.prototype;h.enqueue=function(a){this.ib.push(a)};h.wd=function(){qe(this);return this.Pa.pop()};h.ci=function(){qe(this);var a=this.Pa;return a[a.length-1]};h.Fb=function(){return this.Pa.length+this.ib.length};h.xa=function(){return 0==this.Pa.length&&0==this.ib.length};h.clear=function(){this.Pa=[];this.ib=[]};h.contains=function(a){return 0<=La(this.Pa,a)||0<=La(this.ib,a)};
h.remove=function(a){var b=this.Pa;var c=Ma(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ta(this.ib,a)};h.Ka=function(){for(var a=[],b=this.Pa.length-1;0<=b;--b)a.push(this.Pa[b]);var c=this.ib.length;for(b=0;b<c;++b)a.push(this.ib[b]);return a};var J=function(a,b){this.Db=this.kd=this.Pb="";this.Pd=null;this.Lc=this.vb="";this.Qa=this.nl=!1;if(a instanceof J){this.Qa=t(b)?b:a.Qa;re(this,a.Pb);var c=a.kd;se(this);this.kd=c;c=a.Db;se(this);this.Db=c;te(this,a.Pd);c=a.vb;se(this);this.vb=c;ue(this,a.eb.clone());a=a.Lc;se(this);this.Lc=a}else a&&(c=String(a).match(vd))?(this.Qa=!!b,re(this,c[1]||"",!0),a=c[2]||"",se(this),this.kd=ve(a),a=c[3]||"",se(this),this.Db=ve(a,!0),te(this,c[4]),a=c[5]||"",se(this),this.vb=ve(a,!0),ue(this,c[6]||"",!0),
a=c[7]||"",se(this),this.Lc=ve(a)):(this.Qa=!!b,this.eb=new we(null,this.Qa))};
J.prototype.toString=function(){var a=[],b=this.Pb;b&&a.push(xe(b,ye,!0),":");var c=this.Db;if(c||"file"==b)a.push("//"),(b=this.kd)&&a.push(xe(b,ye,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Pd,null!=c&&a.push(":",String(c));if(c=this.vb)this.Db&&"/"!=c.charAt(0)&&a.push("/"),a.push(xe(c,"/"==c.charAt(0)?ze:Ae,!0));(c=this.eb.toString())&&a.push("?",c);(c=this.Lc)&&a.push("#",xe(c,Be));return a.join("")};
J.prototype.resolve=function(a){var b=this.clone(),c=!!a.Pb;c?re(b,a.Pb):c=!!a.kd;if(c){var d=a.kd;se(b);b.kd=d}else c=!!a.Db;c?(d=a.Db,se(b),b.Db=d):c=null!=a.Pd;d=a.vb;if(c)te(b,a.Pd);else if(c=!!a.vb){if("/"!=d.charAt(0))if(this.Db&&!this.vb)d="/"+d;else{var e=b.vb.lastIndexOf("/");-1!=e&&(d=b.vb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&
f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(se(b),b.vb=d):c=""!==a.eb.toString();c?ue(b,a.eb.clone()):c=!!a.Lc;c&&(a=a.Lc,se(b),b.Lc=a);return b};J.prototype.clone=function(){return new J(this)};
var re=function(a,b,c){se(a);a.Pb=c?ve(b,!0):b;a.Pb&&(a.Pb=a.Pb.replace(/:$/,""))},te=function(a,b){se(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Pd=b}else a.Pd=null},ue=function(a,b,c){se(a);b instanceof we?(a.eb=b,a.eb.li(a.Qa)):(c||(b=xe(b,Ce)),a.eb=new we(b,a.Qa))};J.prototype.getQuery=function(){return this.eb.toString()};J.prototype.removeParameter=function(a){se(this);this.eb.remove(a);return this};
var se=function(a){if(a.nl)throw Error("Tried to modify a read-only Uri");};J.prototype.li=function(a){this.Qa=a;this.eb&&this.eb.li(a)};
var De=function(a){return a instanceof J?a.clone():new J(a,void 0)},ve=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},xe=function(a,b,c){return v(a)?(a=encodeURI(a).replace(b,Ee),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Ee=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},ye=/[#\/\?@]/g,Ae=/[#\?:]/g,ze=/[#\?]/g,Ce=/[#\?@]/g,Be=/#/g,we=function(a,b){this.M=this.Z=null;this.Ia=a||null;this.Qa=!!b},Fe=function(a){a.Z||
(a.Z=new Uc,a.M=0,a.Ia&&wd(a.Ia,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};h=we.prototype;h.Fb=function(){Fe(this);return this.M};h.add=function(a,b){Fe(this);this.Ia=null;a=Ge(this,a);var c=this.Z.get(a);c||this.Z.set(a,c=[]);c.push(b);this.M+=1;return this};h.remove=function(a){Fe(this);a=Ge(this,a);return this.Z.gc(a)?(this.Ia=null,this.M-=this.Z.get(a).length,this.Z.remove(a)):!1};h.clear=function(){this.Z=this.Ia=null;this.M=0};h.xa=function(){Fe(this);return 0==this.M};
h.gc=function(a){Fe(this);a=Ge(this,a);return this.Z.gc(a)};h.forEach=function(a,b){Fe(this);this.Z.forEach(function(c,d){Na(c,function(c){a.call(b,c,d,this)},this)},this)};h.Ja=function(){Fe(this);for(var a=this.Z.Ka(),b=this.Z.Ja(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.Ka=function(a){Fe(this);var b=[];if(v(a))this.gc(a)&&(b=Ua(b,this.Z.get(Ge(this,a))));else{a=this.Z.Ka();for(var c=0;c<a.length;c++)b=Ua(b,a[c])}return b};
h.set=function(a,b){Fe(this);this.Ia=null;a=Ge(this,a);this.gc(a)&&(this.M-=this.Z.get(a).length);this.Z.set(a,[b]);this.M+=1;return this};h.get=function(a,b){if(!a)return b;a=this.Ka(a);return 0<a.length?String(a[0]):b};
h.toString=function(){if(this.Ia)return this.Ia;if(!this.Z)return"";for(var a=[],b=this.Z.Ja(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Ka(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.Ia=a.join("&")};h.clone=function(){var a=new we;a.Ia=this.Ia;this.Z&&(a.Z=this.Z.clone(),a.M=this.M);return a};var Ge=function(a,b){b=String(b);a.Qa&&(b=b.toLowerCase());return b};
we.prototype.li=function(a){a&&!this.Qa&&(Fe(this),this.Ia=null,this.Z.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),this.remove(b),0<a.length&&(this.Ia=null,this.Z.set(Ge(this,b),Va(a)),this.M+=a.length))},this));this.Qa=a};we.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Zc(arguments[b],function(a,b){this.add(b,a)},this)};var He=null,Ie=null,Ke=function(a){var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;Je(a,function(a){d[e++]=a});return d.subarray(0,e)},Je=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=Ie[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}Le();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<
6&192|k))}},Le=function(){if(!He){He={};Ie={};for(var a=0;65>a;a++)He[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Ie[He[a]]=a,62<=a&&(Ie["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var Me=0,Ne=0,Oe=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ke(a);Ia("Type not convertible to Uint8Array.");return new Uint8Array(0)};var Pe=function(){this.G=[]};Pe.prototype.length=function(){return this.G.length};Pe.prototype.end=function(){var a=this.G;this.G=[];return a};var Qe=function(a,b){for(;127<b;)a.G.push(b&127|128),b>>>=7;a.G.push(b)},Re=function(a,b){if(0<=b)Qe(a,b);else{for(var c=0;9>c;c++)a.G.push(b&127|128),b>>=7;a.G.push(1)}};h=Pe.prototype;h.Lg=function(a){this.G.push(a>>>0&255)};h.md=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255)};
h.h=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255);this.G.push(a>>>16&255);this.G.push(a>>>24&255)};h.zi=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;Me=b;Ne=a;this.h(Me);this.h(Ne)};h.vk=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255);this.G.push(a>>>16&255);this.G.push(a>>>24&255)};
h.xi=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?Me=Ne=0:(Ne=0,Me=2147483648);else if(isNaN(b))Ne=0,Me=2147483647;else if(3.4028234663852886E38<b)Ne=0,Me=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),Ne=0,Me=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;Ne=0;Me=(a<<31|c+127<<23|b)>>>0}this.h(Me)};h.vi=function(a){this.G.push(a?1:0)};h.wi=function(a){Re(this,a)};
h.Cc=function(a){this.G.push.apply(this.G,a)};h.ld=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(128>c)this.G.push(c);else if(2048>c)this.G.push(c>>6|192),this.G.push(c&63|128);else if(65536>c)if(55296<=c&&56319>=c&&b+1<a.length){var d=a.charCodeAt(b+1);56320<=d&&57343>=d&&(c=1024*(c-55296)+d-56320+65536,this.G.push(c>>18|240),this.G.push(c>>12&63|128),this.G.push(c>>6&63|128),this.G.push(c&63|128),b++)}else this.G.push(c>>12|224),this.G.push(c>>6&63|128),this.G.push(c&63|128)}};var Se=function(){this.pd=[];this.zb=0;this.ba=new Pe},Te=function(a,b){Qe(a.ba,8*b+2);b=a.ba.end();a.pd.push(b);a.zb+=b.length;b.push(a.zb);return b},Ue=function(a,b){var c=b.pop();for(c=a.zb+a.ba.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.zb++;b.push(c);a.zb++};Se.prototype.reset=function(){this.pd=[];this.ba.end();this.zb=0};var Ve=function(a){for(var b=new Uint8Array(a.zb+a.ba.length()),c=a.pd,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.ba.end();b.set(c,e);a.pd=[b];return b};
h=Se.prototype;h.vk=function(a,b){null!=b&&null!=b&&(Qe(this.ba,8*a),Re(this.ba,b))};h.h=function(a,b){null!=b&&null!=b&&(Qe(this.ba,8*a),Qe(this.ba,b))};h.zi=function(){};h.xi=function(a,b){null!=b&&(Qe(this.ba,8*a+5),this.ba.xi(b))};h.vi=function(a,b){null!=b&&(Qe(this.ba,8*a),this.ba.vi(b))};h.wi=function(a,b){null!=b&&(Qe(this.ba,8*a),Re(this.ba,b))};h.ld=function(a,b){null!=b&&(a=Te(this,a),this.ba.ld(b),Ue(this,a))};
h.Cc=function(a,b){null!=b&&(b=Oe(b),Qe(this.ba,8*a+2),Qe(this.ba,b.length),a=this.ba.end(),this.pd.push(a),this.pd.push(b),this.zb+=a.length+b.length)};var We=function(a,b,c){if(null!=c)for(var d=0;d<c.length;d++)a.Cc(b,c[d])},Xe=function(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=Te(a,b);d(c[e],a);Ue(a,f)}};var Ye=function(){},Ze="function"==typeof Uint8Array,cf=function(a,b,c,d,e){a.ha=null;b||(b=c?[c]:[]);a.pm=c?String(c):void 0;a.od=0===c?-1:0;a.Ha=b;a:{if(b=a.Ha.length)if(--b,(c=a.Ha[b])&&"object"==typeof c&&!ta(c)&&!(Ze&&c instanceof Uint8Array)){a.Od=b-a.od;a.Ba=c;break a}a.Od=Number.MAX_VALUE}a.lm={};if(d)for(b=0;b<d.length;b++)c=d[b],c<a.Od?(c+=a.od,a.Ha[c]=a.Ha[c]||$e):(af(a),a.Ba[c]=a.Ba[c]||$e);if(e&&e.length)for(b=0;b<e.length;b++)bf(a,e[b])},$e=Object.freeze?Object.freeze([]):[],af=function(a){var b=
a.Od+a.od;a.Ha[b]||(a.Ba=a.Ha[b]={})},K=function(a,b){if(b<a.Od){b+=a.od;var c=a.Ha[b];return c===$e?a.Ha[b]=[]:c}if(a.Ba)return c=a.Ba[b],c===$e?a.Ba[b]=[]:c},df=function(a,b){if(b<a.Od){b+=a.od;var c=a.Ha[b];return c===$e?a.Ha[b]=[]:c}c=a.Ba[b];return c===$e?a.Ba[b]=[]:c},ef=function(a){if(null==a||a instanceof Uint8Array)return a;if(v(a))return Ke(a);Ia("Cannot coerce to Uint8Array: "+sa(a));return null},gf=function(a){ff(a);return!a.length||a[0]instanceof Uint8Array?a:Oa(a,ef)},ff=function(a){if(a&&
1<a.length){var b=sa(a[0]);Na(a,function(a){sa(a)!=b&&Ia("Inconsistent type in JSPB repeated field array. Got "+sa(a)+" expected "+b)})}},hf=function(a,b,c){b<a.Od?a.Ha[b+a.od]=c:(af(a),a.Ba[b]=c)},kf=function(a,b,c){var d=bf(a,jf[0]);d&&d!==b&&void 0!==c&&(a.ha&&d in a.ha&&(a.ha[d]=void 0),hf(a,d,void 0));hf(a,b,c)},bf=function(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=K(a,f);null!=g&&(c=f,d=g,hf(a,f,void 0))}return c?(hf(a,c,d),c):0},lf=function(a,b,c){a.ha||(a.ha={});if(!a.ha[c]){for(var d=
df(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.ha[c]=e}b=a.ha[c];b==$e&&(b=a.ha[c]=[]);return b},mf=function(a){if(a.ha)for(var b in a.ha){var c=a.ha[b];if(ta(c))for(var d=0;d<c.length;d++)c[d]&&c[d].hd();else c&&c.hd()}};Ye.prototype.hd=function(){mf(this);return this.Ha};Ye.prototype.toString=function(){mf(this);return this.Ha.toString()};
Ye.prototype.getExtension=function(a){if(this.Ba){this.ha||(this.ha={});var b=a.mm;if(a.nm){if(a.ml())return this.ha[b]||(this.ha[b]=Oa(this.Ba[b]||[],function(b){return new a.Ok(b)})),this.ha[b]}else if(a.ml())return!this.ha[b]&&this.Ba[b]&&(this.ha[b]=new a.Ok(this.Ba[b])),this.ha[b];return this.Ba[b]}};Ye.prototype.clone=function(){return new this.constructor(nf(this.hd()))};
var nf=function(a){if(ta(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?nf(d):d)}return b}if(Ze&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?nf(d):d);return b};var pf=function(a){cf(this,a,0,of,null)};Ca(pf,Ye);var of=[2,13,14];
pf.prototype.pg=function(){var a=new Se;var b=gf(df(this,2));0<b.length&&We(a,2,b);b=K(this,4);null!=b&&a.Cc(4,b);b=K(this,7);null!=b&&a.h(7,b);b=K(this,9);null!=b&&a.h(9,b);b=K(this,10);null!=b&&a.h(10,b);b=K(this,11);null!=b&&a.wi(11,b);b=K(this,12);null!=b&&a.h(12,b);b=gf(df(this,13));0<b.length&&We(a,13,b);b=lf(this,qf,14);0<b.length&&Xe(a,14,b,rf);b=K(this,1);null!=b&&a.wi(1,b);b=K(this,3);null!=b&&a.ld(3,b);b=K(this,5);null!=b&&a.ld(5,b);b=K(this,6);null!=b&&a.ld(6,b);b=K(this,8);null!=b&&a.Cc(8,
b);return Ve(a)};var qf=function(a){cf(this,a,0,null,null)};Ca(qf,Ye);qf.prototype.pg=function(){var a=new Se;rf(this,a);return Ve(a)};var rf=function(a,b){var c=K(a,1);null!=c&&b.Cc(1,c);c=K(a,2);null!=c&&b.Cc(2,c);c=K(a,3);null!=c&&b.Cc(3,c);c=K(a,4);null!=c&&b.Cc(4,c)};qf.prototype.getKey=function(){return K(this,3)};var tf=function(a){cf(this,a,"scs.sc",sf,null)};Ca(tf,Ye);var sf=[1,2];tf.prototype.pg=function(){var a=new Se;var b=df(this,1);if(0<b.length&&null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(Qe(d.ba,8),Re(d.ba,e))}b=lf(this,uf,2);0<b.length&&Xe(a,2,b,vf);return Ve(a)};tf.om="scs.sc";var uf=function(a){cf(this,a,0,null,jf)};Ca(uf,Ye);var jf=[[2,3,4,5]];uf.prototype.pg=function(){var a=new Se;vf(this,a);return Ve(a)};
var vf=function(a,b){var c=K(a,1);null!=c&&b.ld(1,c);c=K(a,2);null!=c&&b.ld(2,c);c=K(a,3);null!=c&&b.vk(3,c);c=K(a,4);null!=c&&b.xi(4,c);c=K(a,5);null!=c&&b.vi(5,c)};h=uf.prototype;h.getName=function(){return K(this,1)};h.getStringValue=function(){return K(this,2)};h.setStringValue=function(a){kf(this,2,a)};h.getFloatValue=function(){var a=K(this,4);return null==a?a:+a};h.setFloatValue=function(a){kf(this,4,a)};z("cast.player.api.VERSION","1.0.0");z("cast.player.api.ErrorCode",{UNKNOWN:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3,MANIFEST:4});var wf=["cast.player.api.ErrorCode.UNKNOWN","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK","cast.player.api.ErrorCode.MANIFEST"];z("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1,PACKED_AUDIO_AC3:2,jm:3,MPEG_LAYER_3:4,TS_AAC:5,PACKED_AUDIO_E_AC3:6,FMP4:7});
z("cast.player.api.HlsVideoSegmentFormat",{MPEG2_TS:0,FMP4:1});z("cast.player.api.CaptionsType",{UNKNOWN:"unknown",WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608",STPP:"stpp"});z("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine",AES_128:"aes_128",AES_128_CKP:"aes_128_ckp"});z("cast.player.api.LoggerLevel",{DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity});z("cast.player.api.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});
var xf=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.setResponse=null;this.interval={time:0,duration:0};this.vc=null};z("cast.player.api.RequestInfo",xf);var yf=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};z("cast.player.api.RequestStatus",yf);
var zf=function(a,b,c,d,e,f){this.codecs=a;this.mimeType=b;this.bitrates=c;this.language=d;this.name=e;this.role=f};z("cast.player.api.StreamInfo",zf);window.VTTCue=window.VTTCue||window.TextTrackCue;var Af=function(a){ec().mi($b(a))};z("cast.player.api.setLoggerLevel",Af);je||(je=new ge);if(je){var Bf=je;if(1!=Bf.hj){var Cf=ec(),Df=Bf.Pl;Cf.me||(Cf.me=[]);Cf.me.push(Df);Bf.hj=!0}};var Ef=function(a){this.url=a;this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateManifestRequestInfo=null};z("cast.player.api.HostBase",Ef);var Ff={clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},Gf=C("cast.player.common"),Hf=function(a,b,c){return"caption"==a||Xa(b,"text/")||"application/ttml+xml"===b||"application/mp4"==b&&"stpp"==c},Jf=function(a,b){b&&(b=new Uint8Array(new ArrayBuffer(16)),b.set(a),If(b.subarray(0,4)),If(b.subarray(4,6)),If(b.subarray(6,8)),a=b);this.lf=a};Jf.prototype.Eb=function(a){if(!a)return!1;var b=this.lf;a=a.lf;for(var c=0;16>c;c++)if(b[c]!=a[c])return!1;return!0};
Jf.prototype.hd=function(){return this.lf};Jf.prototype.toString=function(){for(var a="",b=0;b<this.lf.length;b++)a+=("0"+this.lf[b].toString(16)).slice(-2);return a};
var If=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},Kf=new Jf([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Lf=new Jf([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),Mf=new Jf([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),Nf=function(a,b){return MediaSource.isTypeSupported(a+'; codecs="'+b+'"')},Of=function(a){return"mp4a.a6"==a||"ec-3"==a},Pf=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a},Qf=function(a){for(var b=
a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},Rf=function(a){if(cast.__platform__&&cast.__platform__.queryPlatformValue)return cast.__platform__.queryPlatformValue(a)},Sf=function(a){switch(a){case 2:return"mp4a.a5";case 6:return"mp4a.a6";case 4:return"";default:return"mp4a.40.2"}},Tf=function(a){a=a.toLowerCase();return!a.includes(",")&&!!a.match(/^(mp4a|[ae]c-3)/)},Uf=function(a){a=a.split(",");for(var b=0;b<a.length;b++){var c=a[b].match(Nd);if(c&&!Nf("video/mp4",
c[0])){G(Gf,c[0]+" removed");a.splice(b,1);break}if(c=a[b]){var d=c.split(".");2!=d.length||"avc1"!=d[0]&&"avc3"!=d[0]||(c=d[0]+"."+d[1].toUpperCase())}a[b]=c}return a.join(",")},Vf=cast.__platform__&&cast.__platform__.display,Wf=cast.__platform__&&cast.__platform__.canDisplayType,Xf=Rf("log-level-mpl");Af(t(Xf)?parseInt(Xf,10):0);var Yf={"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,Bj:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,Bj:20}},Zf=function(a,b){Yf[a]?Da()&&cast.__platform__.metrics.logHistogramValueToUma(a,b,Yf[a].min,Yf[a].max,Yf[a].Bj):F(Gf,"Invalid histogram name")};var $f=function(a){Ef.call(this,a.url);this.initialBandwidth=3145728;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;this.segmentRequestRetryLimit=3;this.useSingleKeySession=!1;this.mediaElement=a.mediaElement||null;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.decodeContentId=!0===a.decodeContentId;this.protectionSystem=a.protectionSystem||null;this.licenseCustomData=a.licenseCustomData||null;this.Bi=1==a.aggressiveStallHandling;this.Ui=1==a.disableSourceBufferTimeAdjust;
this.sh=1==a.hlsContentKeyProtection;this.skipSegmentOnNetworkFailure=1==a.skipSegmentOnNetworkFailure;this.preferSequenceNumberForPlaylistMatching=1==a.preferSequenceNumberForPlaylistMatching;this.ignoreTtmlPositionInfo=1==a.ignoreTtmlPositionInfo;this.useRelativeCueTimestamps=1==a.useRelativeCueTimestamps;this.onQualityLevelChanged=this.onCue=this.onAutoPause=this.onMediaDownloadEnded=this.onManifestReady=this.processLicense=this.processSegment=this.processManifest=this.processMetadata=this.prepareLicenseRequest=
this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};m($f,Ef);z("cast.player.api.Host",$f);
$f.prototype.U=function(a,b,c,d){var e=a;if(b){e=b.errorCode;if(6==b.errorCode&&0<=b.status)var f=b.status;var g=a;null!=e&&(g=10*g+e%10,null!=f&&(g=1E3*g+f%1E3));e=g}B("Cast.MPL.Error",e);a=Math.floor(a/100);Mc(d||ag,"error: "+wf[a]+"/"+e+(c?" ("+c+")":""));if(this.onError)this.onError(a,b)};$f.prototype.Wj=function(a){return this.processManifest?this.processManifest(a):a};var ag=C("cast.player.api.Host");var bg=function(){var a=this;this.ka=new Zd;this.Ze=new Uc;this.Rh=function(){};this.Qh=function(){};this.ka.addEventListener("INSERT",function(b){a.Rh&&a.Rh(b.key)});this.ka.addEventListener("FETCH",function(b){a.Qh&&a.Qh(b.key)})};bg.prototype.isEnabled=function(){return this.ka.isEnabled()};
var dg=function(a,b,c){if(a.isEnabled()){for(var d=new ArrayBuffer(2*c.length),e=new Uint16Array(d),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);a=cg(a,b,d)}else a=gd();return a},cg=function(a,b,c){if(!a.isEnabled())return gd();b=eg(b);G(fg,"Store data into cache with key: "+b);return fd(a.ka.insert(b,c))},eg=function(a){var b=a.url;a.headers&&a.headers.Range&&(b+="\b"+a.headers.Range);return b};bg.prototype.Jf=function(a){return this.ka.Jf(a)};
var gg=function(a,b){return a.isEnabled()?fd(a.ka.get(eg(b))):gd()};bg.prototype.reset=function(){var a=this.ka;a.Rd=a.isEnabled()?a.ka.capacity():0};ra(bg);var fg=C("cast.player.cache.Store");var hg=function(a){this.buffer=a;this.Pi=new DataView(a.buffer,a.byteOffset);this.offset=0},ig=function(a){return a.buffer[a.offset++]},jg=function(a){var b=a.Pi.getUint16(a.offset);a.offset+=2;return b},L=function(a){var b=a.Pi.getUint32(a.offset);a.offset+=4;return b},kg=function(a){var b=L(a);a=L(a);return 4294967296*b+a},lg=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},mg=function(a){return a.buffer.subarray(a.offset)},M=function(a,b){a.offset+=b};var ng=function(){};ng.prototype.ai=function(a,b){a=new Uint8Array(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(String.fromCharCode.apply(null,a));try{var c=decodeURIComponent(a)}catch(d){throw Error("Decoding Error.");}return this.parse(c,b)};var og=function(a){this.Cf=30;this.jl=a};m(og,ng);
var pg=function(a,b){a=q(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.localName==b)return c;return null},sg=function(a,b){var c=b.split(":");if(1==c.length){var d=0;if(c=c[0].match(qg))switch(b=parseFloat(c[1]),c[2]){case "h":d=3600*b;break;case "m":d=60*b;break;case "s":d=b;break;case "ms":d=b/1E3;break;case "f":d=b/a.Cf}else F(rg,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4==c.length&&(d+=parseInt(c[3],10)/a.Cf);return d},
tg=function(a){var b="";a=q(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c.nodeType==Node.TEXT_NODE?(c=c.textContent.trim())&&(b+=c):"span"==c.localName?(b+=tg(c),(c=c.attributes.getNamedItem("tts:fontStyle"))&&"italic"==c.value&&(b="<i>"+b+"</i>")):"br"==c.localName&&(b+="\n");return b};
og.prototype.parse=function(a,b){var c=[],d=(new DOMParser).parseFromString(a,"text/xml"),e=pg(d.childNodes,"tt");if(!e)return F(rg,"missing tt"),c;var f=d=null,g=pg(e.childNodes,"head");if(g){if(f=pg(g.childNodes,"styling")){d=null;f=q(f.childNodes);for(var k=f.next();!k.done;k=f.next())if(k=k.value,"style"===k.nodeName&&(k=ug(k)))d=d||new Map,d.set(k.id,k.origin)}else d=null;f=d;if(k=pg(g.childNodes,"layout")){g=null;k=q(k.childNodes);for(var l=k.next();!l.done;l=k.next()){var n=l.value;if("region"==
n.nodeName&&(l=n.attributes.getNamedItem("xml:id"))){var p=f,u=null,w=ug(n);w?u=w.origin:p&&(w=n.attributes.getNamedItem("style"))&&(u=p.get(w.value));if(p=u)g=g||new Map,n=n.attributes.getNamedItem("tts:textAlign"),g.set(l.value,{align:n&&n.value||"left",origin:p})}}f=g}else f=null}g=pg(e.childNodes,"body");if(!g)return F(rg,"missing body"),c;(k=e.attributes.getNamedItem("ttp:frameRate"))?this.Cf=parseInt(k.value,10):(F(rg,"defaulting frameRate to30"),this.Cf=30);k=pg(g.childNodes,"div");if(!k)return F(rg,
"missing div"),c;g={};if(e=pg(e.childNodes,"head"))if(e=pg(e.childNodes,"metadata"))for(e=q(e.childNodes),l=e.next();!l.done;l=e.next())l=l.value,"image"==l.localName&&(g["#"+l.attributes.getNamedItem("xml:id").value]=tg(l));e=null;k.attributes&&d&&(l=k.attributes.getNamedItem("style"))&&(e=d.get(l.value));k=q(k.childNodes);for(l=k.next();!l.done;l=k.next()){var A=l.value;if("p"==A.localName&&A.attributes){var ua=w=null;p=n=u=l=null;var vb=tg(A);A=q(A.attributes);for(var va=A.next();!va.done;va=A.next())switch(va=
va.value,va.localName){case "begin":w=sg(this,va.value)+b;break;case "end":ua=sg(this,va.value)+b;break;case "backgroundImage":g[va.value]&&(l=g[va.value]);break;case "origin":u=vg(va.value);break;case "region":n=va.value;break;case "style":p=va.value}!vb&&!l||null===w||null===ua?F(rg,"skipped cue begin="+w+", end="+ua+", text="+a):(w=new VTTCue(w,ua,vb),this.jl||(ua=d,vb=e,A=null,n&&f&&(A=f.get(n))&&A.align&&(w.align=A.align),!u&&p&&ua&&(u=ua.get(p)),u||(u=A&&A.origin||vb),u&&(w.line=u.y,w.position=
u.x,w.snapToLines=!1,"left"!=w.align&&"right"!=w.align&&(w.align="left"))),c.push({yg:w,fj:l}))}}return c};
var vg=function(a){if("auto"===a)return null;a=a.split(" ");return 2!==a.length?(F(rg,"Two numbers are expected in tts:origin"),null):a.find(function(a){return!a.includes("%")})?(F(rg,"Only percentage value is supported in tts:origin"),null):{x:parseInt(a[0],10),y:parseInt(a[1],10)}},ug=function(a){var b=a.attributes;if(!b)return null;var c=b.getNamedItem("xml:id");if(!c)return null;b=b.getNamedItem("tts:origin");if(!b){a=q(a.childNodes);for(var d=a.next();!d.done;d=a.next())d=d.value,d.attributes&&
(b=d.attributes.getNamedItem("tts:origin"));if(!b)return null}return(b=vg(b.value))?{id:c.value,origin:b}:null},rg=C("cast.player.core.TtmlParser"),qg=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/;var xg=function(a){this.ca=wg(a)};xg.prototype.reset=function(a){this.ca=wg(a)};var wg=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};xg.prototype.toString=function(){return this.ca};
xg.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.ca.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.ca.length?this.ca.charAt(this.ca.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(c=a.length-1;0<=c;c--)b+=a[c];this.ca=b};
var yg=function(a,b){if(b.ca.length<a.ca.length)return!0;if(b.ca.length>a.ca.length)return!1;for(var c=0;c<b.ca.length;c++){var d=parseInt(a.ca.charAt(c),10),e=parseInt(b.ca.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var zg=function(a){hg.call(this,a)};m(zg,hg);var Ag=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},Bg=function(a){return a.buffer.subarray(0,a.offset)};Ag.prototype.Lg=function(a){N(this,[a])};Ag.prototype.md=function(a){N(this,[a>>8,a])};Ag.prototype.h=function(a){N(this,[a>>24,a>>16,a>>8,a])};Ag.prototype.zi=function(a){this.h(a/4294967296);this.h(a%4294967296)};
var N=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var Cg=function(a){Ag.call(this,a)};m(Cg,Ag);var Dg=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var Eg=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],Fg=function(a){Mc(C("cast.player.mp4.base"),a)},Gg=function(a,b,c){if(0>a||32<=a)return Fg("Invalid object type id: "+a),null;var d=Eg.indexOf(b);return 0>d?(Fg("Invalid sample rate: "+b),null):0>c||16<c?(Fg("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var Hg=function(a){this.K=new zg(a);this.yc=0;this.$d=this.Vc=null;this.dg=a;this.pb=0;this.yc=L(this.K);this.pb=4;this.Vc=L(this.K);this.pb+=4;1==this.yc&&(this.yc=kg(this.K),this.pb+=8);1970628964==this.Vc&&(this.$d=new Jf(lg(this.K,16)),this.pb+=16)},Ig=function(a){switch(a.Vc){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};Hg.prototype.getName=function(){return this.Vc};
var Jg=function(a){return a.dg.subarray(0,a.yc)},O=function(a){return Jg(a).subarray(a.pb)};Hg.prototype.i=function(a){N(a,this.dg.subarray(0,this.yc))};var P=function(a){Hg.call(this,a);this.jc=this.Ga=0;a=L(this.K);this.pb+=4;this.Ga=a>>>24;this.jc=a&16777215};m(P,Hg);var Kg=function(a){P.call(this,a)};m(Kg,P);
Kg.prototype.ph=function(a){for(var b=this.Ga,c=ig(this.K),d=Array(c),e=0;e<c;e++){if(1==b){var f=L(this.K);var g=L(this.K);var k=L(this.K);var l=L(this.K);var n=new xg(Math.floor(4294967296*f/1E4).toString()+"0000");n.add(f%1E4*7296%1E4);n.add(g);f=4294967296/a*f+g/a;k=4294967296/a*k+l/a}else l=L(this.K),k=L(this.K),n=new xg(l.toString()),f=l/a,k/=a;d[e]={time:f,duration:k,Ob:n,offset:0,size:0,url:null}}return d};
var Lg=new Jf([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]),Mg=function(a){P.call(this,a)};m(Mg,P);Mg.prototype.ph=function(a){var b=this.Ga;M(this.K,4);var c=L(this.K),d=0==b?L(this.K):kg(this.K),e=0==b?L(this.K):kg(this.K),f=a+Jg(this).byteOffset,g=this.yc;M(this.K,2);a=jg(this.K);b=Array(a);e=f+g+e;for(f=0;f<a;f++){g=L(this.K)&2147483647;var k=L(this.K);M(this.K,4);b[f]={time:d/c,duration:k/c,Ob:null,offset:e,size:g,url:null};d+=k;e+=g}return b};
var Ng=function(a){P.call(this,a);this.ng=new Uint8Array([]);this.gi=null;this.Eh=!1;this.Ke()};m(Ng,P);Ng.prototype.Ke=function(){var a=new zg(O(this)),b=this.jc;b&1&&M(a,20);var c=L(a);this.gi=mg(a);this.Eh=b&2?!0:!1;this.ng=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.Eh){M(a,8);var d=6*jg(a);this.ng[b]=10+d;M(a,d)}else this.ng[b]=8,M(a,8)};var Og=new Jf([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]),Pg=function(a){P.call(this,a);this.Ud=0;this.cd=[];this.Td=[];this.Ke()};
m(Pg,P);Pg.prototype.Ke=function(){var a=new zg(O(this));this.Ud=L(a);var b=this.jc;b&1&&M(a,4);b&4&&M(a,4);var c=!!(b&256),d=!!(b&512),e=!!(b&1024);b=!!(b&2048);for(var f=0;f<this.Ud;f++)c&&M(a,4),d&&this.cd.push(L(a)),e&&M(a,4),b&&this.Td.push(L(a))};Pg.prototype.qg=function(a){Dg(O(this),4,a)};var Qg=function(a){P.call(this,a);this.Yd=9E4;this.Ke()};m(Qg,P);Qg.prototype.Ke=function(){var a=new zg(O(this));M(a,4);M(a,4);this.Yd=L(a)};var Rg=function(a){P.call(this,a)};m(Rg,P);
var Sg=function(a){P.call(this,a);this.pi=new Jf(lg(this.K,16));a=L(this.K);this.yf=lg(this.K,a)};m(Sg,P);Sg.prototype.getData=function(){return this.yf};var Tg=function(a){P.call(this,a);this.oi=1===this.Ga?kg(this.K):L(this.K)};m(Tg,P);Tg.prototype.le=function(){return this.oi};var Ug=function(a){P.call(this,a)};m(Ug,P);var Vg=function(a){Hg.call(this,a)};m(Vg,Hg);
Vg.prototype.qg=function(a,b){var c=Q(O(this),1953653094,void 0,void 0);if(c){var d=Q(O(c),1953658222,void 0,void 0);d&&d.qg(a-this.dg.byteOffset);b&&(a=Q(O(c),1935763823,void 0,void 0))&&(b-=this.dg.byteOffset,c=0,a.jc&1&&(c+=8),c+=4,d=O(a),0!=a.Ga&&(Dg(d,c,Math.floor(b/4294967296)),c+=4),Dg(d,c,Math.floor(b%4294967296)))}};
var Wg=function(a,b){var c=Q(a,1836019558);a=O(Q(a,1835295092)).byteOffset;b?c.qg(a+b,a):c.qg(a)},Xg=function(a){switch(a.getName()){case 1836019558:return new Vg(Jg(a));case 1835296868:return new Qg(Jg(a));case 1953658222:return new Pg(Jg(a));case 1935763823:return new Ug(Jg(a));case 1936286840:return new Mg(Jg(a));case 1952868452:return new Rg(Jg(a));case 1970628964:var b=a.$d;return Og.Eb(b)?new Ng(Jg(a)):Lg.Eb(b)?new Kg(Jg(a)):a;case 1886614376:return new Sg(Jg(a));case 1952867444:return new Tg(Jg(a));
case 1702061171:case 1751411826:case 1835427940:case 1836476516:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1953196132:case 1953654136:return new P(Jg(a));default:return a}},Q=function(a,b,c,d){for(var e=0;e<a.length;){var f=new Hg(a.subarray(e));e+=f.yc;if(f.getName()==b&&(1970628964!=b||c&&c.Eb(f.$d)))return Xg(f);if(d&&Ig(f)&&(f=Q(O(f),b,c,d)))return f}return null},Yg=function(a,b){for(var c=0,d=[];c<a.length;){var e=new Hg(a.subarray(c));c+=e.yc;d.push(Xg(e));b&&Ig(e)&&
(d=d.concat(Yg(O(e),!0)))}return d};var Zg=function(a){og.apply(this,arguments)};m(Zg,og);Zg.prototype.ai=function(a,b){a=Q(a,1835295092);if(!a)return[];a=mg(new hg(O(a)));return og.prototype.ai.call(this,a,b)};var $g=function(){};m($g,ng);
$g.prototype.parse=function(a,b){for(var c=a.trim().split(ah),d=a=0,e=q(c[0].split("\n")),f=e.next();!f.done;f=e.next())if(f=f.value,0==f.indexOf("X-TIMESTAMP-MAP")){(e=f.match(bh))&&(a=ch(e[1]));(e=f.match(dh))&&(d=parseInt(e[1],10)/9E4);break}b+=d-a;if(isNaN(b))return F(eh,"invalid time offset"),[];a=[];c=q(c);for(d=c.next();!d.done;d=c.next()){var g=d.value;if(g){var k=b,l=null,n=f=null,p=null;e=d=null;g=g.split("\n");for(var u=0,w=q(g),A=w.next();!A.done;A=w.next()){A=A.value;if(l=A.match(fh)){f=
A.match(gh);n=A.match(hh);p=A.match(ih);d=A.match(jh);e=A.match(kh);break}u++}l?(w=ch(l[1]),l=ch(l[2]),g=g.slice(u+1).join("\n"),isNaN(w)||isNaN(l)||!g?(F(eh,"skipped cue, begin="+w+", end="+l+", text="+g),d=null):(k=new VTTCue(w+k,l+k,g),f&&(k.align=f[1]),n&&(k.snapToLines="true"===n[1]),p&&(f=parseInt(p[1],10),!k.snapToLines&&(100<f||0>f)&&(f=100),k.line=f),d&&(k.position=parseInt(d[1],10)),e&&(k.size=parseInt(e[1],10)),d=k)):d=null;d&&a.push({yg:d})}}return a};
var ch=function(a){var b=a.split(":");if(3<b.length)return F(eh,"unexpected time format="+a),0;a=0;b=q(b);for(var c=b.next();!c.done;c=b.next())a=60*a+parseFloat(c.value);return a},eh=C("cast.player.core.WebvttParser"),ah=/\n\s*\n/,dh=/MPEGTS:([\d]*)/,gh=/align:(start|middle|end|left|center|right)/,hh=/snapToLines:?(true|false)?/,ih=/line:(-*\d+)/,jh=/position:(\d*)%/,kh=/size:(\d*)%/,bh=/LOCAL:((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/,fh=/((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/;var lh=function(a,b,c,d){D.call(this);this.a=b;this.gf=document.createElement("track");this.gf.src=b.url;this.gf.kind="captions";this.a.mediaElement.appendChild(this.gf);this.gd=this.gf.track;this.gd.mode="showing";this.Qk=a;this.Zb=c;B("Cast.MPL.Captions",Sd(this.Zb));this.Ld=null;"ttml"==c?this.Ld=new og(1==this.a.ignoreTtmlPositionInfo):"webvtt"==c?this.Ld=new $g:d&&"application/mp4"==d&&"stpp"==c&&(this.Ld=new Zg(1==this.a.ignoreTtmlPositionInfo));this.Ta=null;this.qk=0};m(lh,D);
lh.prototype.H=function(){mh(this);this.gd.mode="disabled";this.gf.remove();D.prototype.H.call(this)};var mh=function(a){var b=a.gd.cues;if(b)for(;0<b.length;)a.gd.removeCue(b[0]);if(a.a.mediaElement.parentNode)for(a=q(a.a.mediaElement.parentNode.getElementsByClassName("mpl_img_cap")),b=a.next();!b.done;b=a.next())b.value.remove()};h=lh.prototype;h.createBuffer=function(){};h.reset=function(){mh(this);this.Ta=null};h.ve=function(){return!0};h.Yi=function(){return Infinity};
h.append=function(a,b,c,d){d&&(this.qk=b.time-c);if(this.Ld){var e=this.a.useRelativeCueTimestamps||"ttml"==this.Zb?b.time:this.qk;c=nh(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.Ld.ai(a,e);0<a.length;){e=a.pop();var f=e.yg,g=!1;if(f.startTime<d||.1>=Math.abs(f.startTime-d))for(var k=c.length-1;0<=k;k--)if(c[k].text==f.text&&.1>=Math.abs(c[k].startTime-f.startTime)&&.1>=Math.abs(c[k].endTime-f.endTime)){g=!0;break}g||this.addCue(e)}}this.Ta=b};
h.Ca=function(a){return this.Ta?this.Ta.time+this.Ta.duration-a:0};
h.addCue=function(a){if(this.a.onCue)this.a.onCue(this.Zb);var b=a.yg;this.gd.addCue(b);if(a.fj){a=a.fj;var c=this.a.mediaElement.parentNode;b.id="cap-"+Date.now();b.onenter=function(a,b,c){var d=document.createElement("img");d.setAttribute("id",a.id);d.setAttribute("src","data:image/png;base64,"+b);d.setAttribute("class","mpl_img_cap");d.style.position="absolute";d.style.left="0";d.style.bottom="0";d.style.right="0";d.style.margin="0 auto";d.style.width="100%";d.style.height="100%";d.style.zIndex=
5;c.appendChild(d)}.bind(this,b,a,c);b.onexit=function(a){(a=document.getElementById(a.id))&&a.remove()}.bind(this,b)}};var nh=function(a){for(var b=[],c=a.gd.cues,d=a.Qk.kc(),e=0;e<c.length;){var f=c[e];f.endTime<d?(a.gd.removeCue(f),f.id&&(f=document.getElementById(f.id))&&f.remove()):(b.push(f),e++)}return b};lh.prototype.parse=function(a,b){for(a=this.Ld.parse(a,b);0<a.length;)this.addCue(a.pop())};var oh=function(a){H.call(this);this.Ab=null;this.Yh=a};m(oh,H);oh.prototype.bh=function(){this.Ab&&(this.Ab.onprogress=null);this.Ab=H.prototype.bh.call(this);this.Ab.onprogress=this.Yh;return this.Ab};oh.prototype.H=function(){this.Ab&&(this.Ab.onprogress=null);H.prototype.H.call(this)};var qh=function(){var a=ph,b=this;return new bd(function(c,d){var e=new oh(function(){});E(e,"success",function(a){c(Kd(a.target))},!1,b);E(e,"error",d,!1,b);E(e,"timeout",d,!1,b);e.send(a)})};var rh=function(a,b,c){var d=y();this.clientId=a;this.blockIds=b;this.flags=c;this.timestamp=d},th=function(){var a=sh();this.Zg=a&&a.clientId||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)};
th.prototype.Wc=function(a){Ea("Cast.MPL.ExperimentationFetchResult",!0);try{var b=JSON.parse(a.substring(5));var c=new tf(b[0])}catch(g){uh(this,"Failed to parse experimentation flags.");return}a=df(c,1);b=lf(c,uf,2);c={};b=q(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.getName(),f=void 0;switch(bf(d,jf[0])){case 2:f=K(d,5);break;case 3:f=K(d,3);break;case 4:f=d.getFloatValue();break;case 5:f=K(d,5)}c[e]=f}vh("Cast.MPL.ExperimentationDownloadedBlockId",a);window.localStorage.setItem("cast.player.common.Experimentation",
JSON.stringify(new rh(this.Zg,a,c)));G(wh,"Flags: "+c.toString())};th.prototype.Nb=function(){Ea("Cast.MPL.ExperimentationFetchResult",!1);uh(this,"Failed to download experimentation flags.")};
var uh=function(a,b){F(wh,b);window.localStorage.setItem("cast.player.common.Experimentation",JSON.stringify(new rh(a.Zg,[],{})))},vh=function(a,b){if(t(b)&&0<b.length){b=q(b);for(var c=b.next();!c.done;c=b.next())B(a,c.value)}},yh=function(a){if(!xh()){var b=sh();if(t(b)&&t(b.flags))return b.flags[a]}},xh=function(){var a=sh();if(!t(a)||!t(a.timestamp))return!0;var b=y()-a.timestamp;a=a.flags.expirationHrs;x(a)||(a=3);return b>36E5*a},sh=function(){var a=window.localStorage.getItem("cast.player.common.Experimentation");
return a?JSON.parse(a):void 0};ra(th);var wh=C("cast.player.common.Experimentation"),zh=th.Bd(),Ah=xh();Ea("Cast.MPL.ExperimentationCheckExpired",Ah);if(Ah){var ph="https://$Env$.google.com/cast/senderconfig/config?hw=mpl&id=$ClientId$".replace(/\$Env\$/g,"clients3").replace(/\$ClientId\$/g,zh.Zg.toString());qh().then(zh.Wc.bind(zh),zh.Nb.bind(zh))};var Bh=function(a,b){this.ja=a;this.oe=[];for(var c=0;c<a.length;c++)this.oe.push(c);this.ul=t(b)?b:3;this.Ye={};this.td=this.oe.slice()};Bh.prototype.Zi=function(){return 0};Bh.prototype.ti=function(){this.Ye={};this.td=this.oe.slice()};Bh.prototype.hf=function(a){this.Ye[a]||(this.Ye[a]=0);this.Ye[a]++;this.Ye[a]>(1==this.td.length?this.ul:this.Zi())&&(a=this.td.indexOf(a),-1<a&&this.td.splice(a,1));return this.td};var Ch=function(a,b){Bh.call(this,a,b)};m(Ch,Bh);
Ch.prototype.hf=function(a,b){for(var c=0,d=this.ja[0],e=1;e<this.ja.length;e++)this.ja[e]<d&&(d=this.ja[e],c=e);if(!b||b&&a==c)this.td=[c];return Bh.prototype.hf.call(this,a,b)};var Dh=function(a,b){Bh.call(this,a,b);this.Xe=Array(this.ja.length);this.Xe.fill(0);a=yh("numRetriesPerQualityLevel");this.vl=x(a)?a:1;a=yh("blacklistThreshold");this.Xk=x(a)?a:6};m(Dh,Bh);Dh.prototype.Zi=function(){return this.vl};Dh.prototype.ti=function(a){this.Xe[a]=0;Bh.prototype.ti.call(this,a)};
Dh.prototype.hf=function(a,b){this.Xe[a]+=1;if(this.Xe[a]>=this.Xk){var c=this.oe.indexOf(a);-1<c&&this.oe.splice(c,1)}return Bh.prototype.hf.call(this,a,b)};var Gh=function(a,b,c,d){this.a=a;this.W=b;this.ja=c;a=this.a.initialBandwidth;3145728==this.a.initialBandwidth&&(a=parseFloat(window.localStorage.getItem("cast.player.core.QualityManager.currentBandwidth")),a=x(a)&&a>this.a.initialBandwidth?a:this.a.initialBandwidth);this.cc=a;this.Jc=Eh(this,this.cc);G(Fh,this.W+": initial "+this.ja[this.Jc]);this.hg=0;this.Eg=null;this.tj=y();this.sl=d;a=this.ja;d=Rd(d);if(t(d))for(B("Cast.MPL.Available"+d+"Bitrates",a.length),b=0;b<a.length;b++)B("Cast.MPL.Available"+
d+"Bitrate"+b,a[b])};Gh.prototype.J=function(){Hh(this)};
var Eh=function(a,b,c){for(var d=-1,e=Number.MAX_VALUE,f=t(c)?c[0]:0,g=0;g<a.ja.length;g++)if(!t(c)||-1!==c.indexOf(g)){if(b>=a.ja[g]){var k=b-a.ja[g];k<e&&(d=g,e=k)}a.ja[f]>a.ja[g]&&(f=g)}return 0>d?f:d},Ih=function(a,b,c,d){var e=y();if(!b&&null!==a.Eg&&e-a.Eg<2E3*(c||0))return a.Jc;a.Eg=e;b=Eh(a,.7*a.cc,d);a.a.getQualityLevel&&(b=a.a.getQualityLevel(a.W,b),b>=a.ja.length&&(F(Fh,a.W+": Host provided an invalid quality level!"),b=a.ja.length-1));b!=a.Jc&&(G(Fh,a.W+": from "+a.ja[a.Jc]+" to "+a.ja[b]),
Hh(a),a.Jc=b);return a.Jc},Kh=function(a,b){3E5>y()-a.tj||(B("Cast.MPL.Bandwidth",b),Jh||window.localStorage.setItem("cast.player.core.QualityManager.currentBandwidth",""+b),Hh(a))},Hh=function(a){var b=y(),c=Rd(a.sl);t(c)&&B("Cast.MPL."+c+"Bitrate",a.ja[a.Jc]);a.tj=b},Fh=C("cast.player.core.QualityManager"),Jh=document.domain.includes("gstatic.com");var Lh=function(){};z("cast.player.core.ProcessSourceDataCallback",Lh);Lh.prototype.Se=function(){};var Mh=function(a,b,c,d,e,f){D.call(this);this.a=a;this.Ll=e;this.Ac=c;this.ea=d;this.W=b;this.kf=!1;this.na=this.Ta=this.uc=null;this.qd=f;this.ic=new pe;this.vd=0;this.createBuffer();this.Dc=null;this.bf=!0};m(Mh,D);h=Mh.prototype;h.H=function(){D.prototype.H.call(this);this.ic.clear();this.na&&(Dc(this.na,"updateend",this.Rj,!1,this),this.bf&&"closed"!=this.ea.readyState&&this.ea.removeSourceBuffer(this.na))};
h.createBuffer=function(){if(null===this.na&&"open"==this.ea.readyState){var a=this.Ac.mimeType+'; codecs="'+Uf(this.Ac.codecs)+'"',b=this.qd.findIndex(function(b){return b==a});if(0>b){try{this.na=this.ea.addSourceBuffer(a)}catch(c){throw this.a.U(110,void 0,c.message),c;}G(R,"create new source buffer "+a);this.qd.push(a)}else this.na=this.ea.sourceBuffers[b],G(R,"reuse source buffer index: "+b+", mimetype: "+a);E(this.na,"updateend",this.Rj,!1,this);Nh(this)}};
h.Ca=function(a){var b=this.vd+(this.uc?this.uc.duration:0);return this.Ta?this.Ta.time+this.Ta.duration-a+b:b};h.reset=function(){this.uc=this.Ta=null;this.ic.clear();this.vd=0;this.ve()?Oh(this):(G(R,this.W+": queue remove"),this.ic.enqueue({Zh:1,Pg:null}));this.ve()?Ph(this):(G(R,this.W+": queue abort"),this.ic.enqueue({Zh:0,Pg:null}))};h.ve=function(){return null!==this.na&&!this.kf&&this.ic.xa()};h.Yi=function(){return Ld(this.Ac.mimeType)?40:20};
var Nh=function(a){for(;!a.ic.xa();){var b=a.ic.wd(),c=b.Pg;switch(b.Zh){case 2:G(R,a.W+": dequeue append");a.vd-=c.interval.duration;Qh(a,c.data,c.interval,c.P,c.$);return;case 1:G(R,a.W+": dequeue remove");Oh(a);return;case 0:G(R,a.W+": dequeue abort"),Ph(a)}}};Mh.prototype.Rj=function(){for(var a=this.na.buffered,b=0;b<a.length;b++)G(R,this.W+": "+a.start(b)+" - "+a.end(b));G(R,this.W+": updateend");null!==this.uc&&0!=this.uc.duration&&(this.Ta=this.uc);this.uc=null;this.kf=!1;Nh(this)};
var Qh=function(a,b,c,d,e){var f=a.na.timestampOffset;if(e){Ph(a);var g=Rh(a,c.time);a.na.timestampOffset=g-d;G(R,a.W+": timestampOffset = "+a.na.timestampOffset)}else g=Rh(a,c.time);a.kf=!0;try{a.na.appendBuffer(b)}catch(k){G(R,a.W+": append failed "+k);a.kf=!1;e&&(a.na.timestampOffset=f);Sh(a,b,c,d,e,k);return}G(R,a.W+": successfully append "+b.length+" bytes");null!==a.Dc&&(G(R,a.W+": cleared interval "+a.Dc),clearInterval(a.Dc),a.Dc=null);a.uc={time:g,duration:c.duration};a.Ll.Se(a.Ac.mimeType,
b,a.na.timestampOffset,g,c.duration)},Ph=function(a){"open"==a.ea.readyState?(G(R,a.W+": abort"),a.na.abort()):F(R,a.W+": unable to abort")},Oh=function(a){G(R,a.W+": remove");a.kf=!0;a.na.remove(0,Infinity)};Mh.prototype.append=function(a,b,c,d){this.ve()?Qh(this,a,b,c,d):Sh(this,a,b,c,d)};
var Sh=function(a,b,c,d,e,f){G(R,a.W+": delay append, append to deferred queue");a.vd+=c.duration;a.ic.enqueue({Zh:2,Pg:{data:b,interval:{time:c.time,duration:c.duration},P:d,$:e}});f&&22===f.code&&null===a.Dc&&(a.Dc=setInterval(function(){Nh(a)},2E3),G(R,a.W+": set up interval to processDeferred_ "+a.Dc))},Rh=function(a,b){if(!a.Ta||a.a.Ui)return b;var c=b,d=a.na.buffered;0<d.length&&(b=d.end(d.length-1));G(R,a.W+": adjustTime: "+c+" : "+b);return b},R=C("cast.player.core.SourceBufferManager");var Th=function(a,b,c,d,e,f,g,k){D.call(this);this.sa=a;this.host=b;this.protocol=c;this.xf=f;this.F=d;c=c.getStreamInfo(d);this.Na=Hf(c.role,c.mimeType,c.codecs)?new lh(a,b,c.codecs,c.mimeType):new Mh(b,d,c,e,a,k);Vd(c.codecs);B("Cast.MPL.MimeType",Qd[c.mimeType]||0);B("Cast.MPL.StreamType",Ld(c.mimeType)?1:Md(c.mimeType)?2:Hf(c.role,c.mimeType,c.codecs)?3:0);this.Rf=!1;this.f=1;this.mg=0;this.Wd=!1;this.Ai=this.xb=0;this.Bb=400;this.oc=this.Pc=this.Dd=this.Sf=!1;this.sj=this.Qg=0;this.mb=new pe;
this.v=new xf;this.v.setResponse=this.Rl.bind(this);this.g=new oh(this.Yh.bind(this));zd(this.g);E(this.g,"success",this.Wc,!1,this);E(this.g,"error",this.Nb.bind(this,!1));E(this.g,"timeout",this.Nb.bind(this,!0));E(this.g,"ready",this.Cl,!1,this);a=this.protocol.getStreamInfo(this.F).bitrates;this.ad=new Gh(b,d,a,c.mimeType);this.tf=bg.Bd();this.Vd=null;(b=g)||(b=this.host.segmentRequestRetryLimit,b=yh("simpleFailOver")?new Dh(a,b):new Ch(a,b));this.Vi=b};m(Th,D);
var Uh=function(a){t(a.Na.bf)&&(a.Na.bf=!1);D.prototype.J.call(a)};Th.prototype.J=function(){t(this.Na.bf)&&(this.Na.bf=!0);D.prototype.J.call(this)};Th.prototype.H=function(){clearTimeout(this.Vd);this.Vd=null;this.Na.J();this.ad.J();this.g.J();D.prototype.H.call(this)};Th.prototype.Rl=function(a,b){a?this.Hf({Oc:this.oc,data:new Uint8Array(a),interval:this.v.interval,vc:this.v.vc},this.v,b):this.Nb(!1);this.Sf=!1;this.Dd&&(Vh(this),this.Dd=!1)};
var Xh=function(a){a:{var b=a.tf;var c=a.host.url,d=a.F;if(b.isEnabled()&&b.Ze.gc(c)&&(b=b.Ze.get(c)[d],x(b)))break a;b=-1}-1<b?Wh(a,b):Wh(a,Ih(a.ad,!0,void 0,void 0))},Wh=function(a,b){var c=a.protocol.getQualityLevel(a.F);if(b==c)return!1;a.Rf=!0;a.protocol.sg(a.F,b,a,a.sa);return!0},Zh=function(a,b,c,d,e){if(a.Pc){G(Yh,a.F+": segment processed");a.Pc=!1;if(a.host.processSegment){var f=a.host.processSegment(a.F,b);if(Ka(f)){f.then(function(f){f instanceof Uint8Array&&(b=f);a.Na.append(b,c,d,e);
a.fg()});return}f instanceof Uint8Array&&(b=f)}a.Na.append(b,c,d,e)}else G(Yh,a.F+": not processing");a.fg()},bi=function(a,b){a.Pc?$h(a,b,"processing previous segment"):a.mb.xa()?ai(a,b)?a.Re(b):($h(a,b,"segment duration will go beyond buffer limit"),a.Vd=setTimeout(a.fg.bind(a),1E3)):$h(a,b,"queue has "+a.mb.Fb()+" segments")},$h=function(a,b,c){G(Yh,a.F+": queue segment ("+b.data.length+") as "+c);a.mb.enqueue(b)};
Th.prototype.fg=function(){if(!this.Pc&&!this.mb.xa()){var a=this.mb.ci();ai(this,a)?(G(Yh,this.F+": dequeue segment"),this.mb.wd(),this.Re(a)):(G(Yh,this.F+": delay process downloaded segment"),this.Vd=setTimeout(this.fg.bind(this),1E3))}};var ai=function(a,b){var c=a.Ca(a.sa.kc());return c<=a.host.autoPauseDuration?!0:c+b.interval.duration<=a.Na.Yi()};Th.prototype.Re=function(a){G(Yh,this.F+": process segment");this.Pc=!0;this.protocol.processSegment(this.F,a,this)};
Th.prototype.reset=function(){G(Yh,this.F+": reset");this.f=1;this.mg=0;this.Wd=!1;ci(this);this.Pc=this.Dd=!1;this.mb.clear();clearTimeout(this.Vd);this.Vd=null;this.oc||this.g.abort();this.protocol.reset(this.F);this.Na.reset();this.sa.sc()};Th.prototype.Wc=function(a){var b=this.protocol.getQualityLevel(this.F);this.Vi.ti(b);this.Hf({Oc:this.oc,headers:this.g.getAllResponseHeaders(),data:new Uint8Array(Kd(a.target)),interval:this.v.interval,vc:this.v.vc},this.v)};
Th.prototype.Hf=function(a,b,c){if(!a.Xi){c=t(c)?c:y()-this.mg;b=this.ad;var d=a.data.length;0>=c||(b.a.trackBandwidth&&b.a.trackBandwidth(b.W,c,d),Zf("Cast.MPL.SegmentStats.Size",d),Zf("Cast.MPL.SegmentStats.Time",c),c=0<c?8*d/(c/1E3):0,b.cc=.8*c+(1-.8)*b.cc,G(Fh,b.W+": current="+c.toFixed(2)+", average="+b.cc.toFixed(2)),Kh(b,c),b.hg=0)}ci(this);bi(this,a);if(!di(this,a)&&(b=this.Ca(this.sa.kc()),a.Xi||Wh(this,Ih(this.ad,10>b,a.interval.duration,void 0)),this.Qg=.8*b+(1-.8)*this.Qg,3E5<y()-this.sj&&
(B("Cast.MPL.AverageBufferDuration",parseInt(this.Qg,10)),this.sj=y()),this.Rf))return;this.sa.sc()};var di=function(a,b){return a.oc?(a.oc=!1,a.protocol.rg(a.F,b.data),!0):a.Wd=!1};h=Th.prototype;h.Cl=function(){this.Dd&&(Vh(this),this.Dd=!1)};
h.Nb=function(a){var b=this.ad,c=y()-this.mg;a&&(b.cc=0<c?8*b.hg/(c/1E3):0);b.hg=0;b.Eg=null;G(Fh,b.W+": current="+b.cc.toFixed(2));Kh(b,b.cc);b=this.protocol.getQualityLevel(this.F);a=this.Vi.hf(b,a);0==a.length?this.host.skipSegmentOnNetworkFailure?(ci(this),this.sa.sc()):(this.f=-1,a=this.Sf?void 0:new yf(this.v.url,this.g.Lb,Id(this.g),this.g.getAllResponseHeaders(),Kd(this.g)),this.host.U(301,a)):Wh(this,Ih(this.ad,!0,void 0,a))?(this.Wd=!0,this.sa.sc()):(this.xb++,this.Ai=y(),this.sa.sc(this.Bb))};
h.Yh=function(a){this.ad.hg=a.loaded};h.Ca=function(a){return this.Na.Ca(a)};h.createBuffer=function(){this.Na.createBuffer()};
var gi=function(a){a.Rf=!1;a.sa.Sh();ei(a,!1);if(a.oc)Vh(a);else if(fi(a),a.sa.sc(),a.host.onQualityLevelChanged)a.host.onQualityLevelChanged(a.F)},Vh=function(a){if(hi(a))a.Dd=!0;else{a.mg=y();a.protocol.updateSegmentRequestInfo(a.F,a.v);var b=a.v.interval;a.v.timeoutInterval=Math.max(2E3*b.duration,1E4);a.v.skipRequest=!1;if(a.host.updateSegmentRequestInfo&&(a.host.updateSegmentRequestInfo(a.v,a.F),a.v.skipRequest)){a.Sf=!0;return}a.tf.ka.contains(eg(a.v))?gg(a.tf,a.v).then(function(c){a.Hf({Oc:a.oc,
data:new Uint8Array(c),interval:b,vc:a.v.vc,Xi:!0},a.v)},function(){ii(a)}):ii(a)}},ii=function(a){G(Yh,a.F+": send request to get segment.");a.g.be=a.v.withCredentials;a.g.Yb=Math.max(0,a.v.timeoutInterval);a.g.send(a.v.url,void 0,void 0,a.v.headers)};Th.prototype.te=function(){return 0<this.f||this.Pc||hi(this)||!this.Na.ve()||!this.mb.xa()};Th.prototype.Dh=function(){var a;if(a=!this.Rf&&2>this.mb.Fb()&&!hi(this))a=this.mb.ci(),a=!(a&&!ai(this,a));return a};
var hi=function(a){return a.g.te()||a.Sf},ei=function(a,b){if(a.protocol.Hd(a.F)){var c=a.protocol.ke(a.F);null===c?(a.oc=!0,a.Wd=a.Wd||b):bi(a,{Oc:!0,data:c,interval:{time:a.v.interval.time,duration:0}})}},fi=function(a){var b=a.protocol.Df(a.F);b&&a.xf(b)};
Th.prototype.$e=function(){if(0<this.xb||this.Wd){if(0<this.xb){if(y()-this.Ai<this.Bb)return;this.Bb*=2}Vh(this)}else if(1==this.f){var a=this.sa.kc(),b=this.protocol.seek(this.F,a);x(b)?(G(Yh,this.F+": seek success "+a),this.f=2,this.sa.Vh(b),ei(this,!0),fi(this),Vh(this)):G(Yh,this.F+": seek failure "+a)}else this.protocol.pc(this.F)&&(ei(this,!0),fi(this),Vh(this)),this.protocol.Ib(this.F)&&(this.f=0)};var ci=function(a){a.xb=0;a.Ai=0;a.Bb=400},Yh=C("cast.player.core.SegmentManager");var ki=function(a,b,c,d,e){Th.call(this,a,b,c,d,new MediaSource,function(){Mc(ji,"Cannot create session while caching")});this.Mi=e;this.Vg=0};m(ki,Th);
ki.prototype.Hf=function(a,b){var c=this,d=di(this,a)?0:this.protocol.getSegmentInterval(this.F).duration;cg(this.tf,b,a.data.buffer).then(function(){c.Vg+=d;var b=c.Mi,f=c.F,g=a.data.buffer.byteLength;b.s.Ib(f)?(G(li,"Cached the entire stream "+f),mi(b,f)):b.Sb.Ca(b.ra.vh)>=b.ra.autoResumeDuration?(G(li,"Successfully cached stream "+f),mi(b,f)):b.Vb.Jf(g)?b.Sb.$e():(F(li,"Cache likely can not fit the next segement for stream "+f),mi(b,f))},function(a){F(ji,"Unable to cache segment ("+b.url+") because of "+
a);mi(c.Mi,c.F)})};ki.prototype.Ca=function(){return this.Vg};var ji=C("cast.player.cache.SegmentManager");var ni=function(){};z("cast.player.core.CurrentTimeCallback",ni);ni.prototype.kc=function(){};var oi=function(){};z("cast.player.core.PlayerCallbacks",oi);h=oi.prototype;h.sc=function(){};h.Vh=function(){};h.Sh=function(){};h.ie=function(){};h.Ph=function(){};h.bg=function(){};var pi=function(a){D.call(this);this.dm=a;this.rh=this.jd=null;this.xb=0;this.ei=null;this.Bb=400;this.g=new oh(function(){});E(this.g,"success",this.Wc.bind(this));E(this.g,"error",this.Nb.bind(this));E(this.g,"timeout",this.Dl.bind(this))};m(pi,D);pi.prototype.H=function(){this.g.J();D.prototype.H.call(this)};
pi.prototype.load=function(a){var b=this;if(this.jd=a.url){var c=bg.Bd();c.ka.contains(eg(a))?gg(c,a).then(function(a){b.bd(String.fromCharCode.apply(String,oa(new Uint16Array(a))))},function(){qi(b,a)}):qi(this,a)}else F(Gf,"No url provided for request")};var qi=function(a,b){a.rh=b.headers;a.g.be=b.withCredentials;a.g.Yb=Math.max(0,b.timeoutInterval);a.xb=0;a.g.send(a.jd,void 0,void 0,a.rh)};pi.prototype.abort=function(){this.g.abort()};
var ri=function(a){return new yf(a.jd,a.g.Lb,Id(a.g),a.g.getAllResponseHeaders(),Kd(a.g))};pi.prototype.Wc=function(a){clearTimeout(this.ei);this.Bb=400;this.bd(Kd(a.target))};pi.prototype.Nb=function(){si(this,408==Id(this.g)?0:this.Bb)};pi.prototype.Dl=function(){si(this,0)};var si=function(a,b){a.xb++;clearTimeout(a.ei);3<a.xb?a.bd(null):(1<a.xb&&(a.Bb=2*b),a.ei=setTimeout(function(){a.g.send(a.jd,void 0,void 0,a.rh)},b))};
pi.prototype.bd=function(a){this.xb=0;var b=this.g;this.dm.tc(a,b.Ab&&b.Ab.responseURL?b.Ab.responseURL:null)};var ti=function(a){pi.call(this,a);this.v=this.a=null};m(ti,pi);ti.prototype.Fd=function(a,b){this.a=a;this.v=new xf;this.v.url=this.jd=b;this.v.setResponse=this.bd.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(this.v);this.v.skipRequest||this.load(this.v)};
ti.prototype.bd=function(a){var b=this;if(this.a&&(a=this.a.Wj(a,this.v),Ka(a))){a.then(function(a){pi.prototype.bd.call(b,a)});return}pi.prototype.bd.call(this,a)};var ui=function(a){if(a[7]<<8|1!=a[6])return F(Gf,"PlayReady header object is not valid"),null;var b=a[9]<<8|a[8];b+=10;for(var c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;c=(new DOMParser).parseFromString(c.trim(),"text/xml").childNodes[0].firstElementChild;c=q(c.children);for(var e=c.next();!e.done;e=c.next())e=e.value,"LA_URL"==e.nodeName?d=e.textContent:"KID"==e.nodeName&&(b=Ja(window.atob(e.textContent)));return b?{systemId:Kf,ne:a,Ae:new Jf(b,!0),url:d,Vf:8}:(F(Gf,"PlayReady rights management header does not have KID"),
null)},S=function(a){this.host=a;this.Zc=this.Tc=this.uri=null;this.Bh=this.yh=this.R=void 0;this.duration=-1;this.l=[];this.uh=[]},wi=function(a){var b=vi(a.l);b||(b=a.l.find(function(a){return 1==a.type&&!Of(a.codecs)}));b&&(b.enabled=!0);a=q(a.l);for(b=a.next();!b.done;b=a.next())if(b=b.value,2==b.type){b.enabled=!0;break}},vi=function(a){return a.find(function(a){return 1==a.type&&Of(a.codecs)&&Nf("audio/mp4",a.codecs)})};
S.prototype.getDefaultAudioStreamIndex=function(){for(var a=-1,b=0;b<this.l.length;b++){var c=this.l[b];if(1==c.type&&Nf("audio/mp4",c.codecs)){if(Of(c.codecs))return b;0>a&&(a=b)}}return a};S.prototype.getDefaultAudioStreamIndex=S.prototype.getDefaultAudioStreamIndex;S.prototype.getStreamCount=function(){return this.l.length};S.prototype.getStreamCount=S.prototype.getStreamCount;S.prototype.enableStream=function(a,b){var c=this.l[a];c.index=-1;c.V=-1;c.$=!0;c.enabled=b;c.Wa=!1;this.uh[a]=[]};
S.prototype.enableStream=S.prototype.enableStream;S.prototype.isStreamEnabled=function(a){return this.l[a].enabled};S.prototype.isStreamEnabled=S.prototype.isStreamEnabled;S.prototype.getQualityLevel=function(a){return this.l[a].V};S.prototype.getQualityLevel=S.prototype.getQualityLevel;S.prototype.getStreamInfo=function(a){a=this.l[a];for(var b=[],c=q(a.A),d=c.next();!d.done;d=c.next())b.push(d.value.za);return new zf(a.codecs,a.mimeType,b,a.language,a.name,a.role)};S.prototype.getStreamInfo=S.prototype.getStreamInfo;
h=S.prototype;h.tc=function(){wi(this);if(this.host.onManifestReady)this.host.onManifestReady();this.Zc.onManifestReady()};h.load=function(a){this.Zc=a;this.Fd()};h.Fd=function(){var a=this.host.url;this.uri=new J(a);this.Tc=new ti(this);this.Tc.Fd(this.host,a)};h.Fa=function(){this.Tc&&(this.Tc.J(),this.Tc=null)};h.sg=function(a,b,c){a=this.l[a];a.V=b;a.Wa=!0;gi(c)};h.updateLicenseRequestInfo=function(){};h.getDuration=function(){return this.R?-1:this.duration};
h.Da=function(a){a=this.l[a];var b=a.V;if(0>b)return null;a=a.A[b];var c=a.c;if(0==c.length)return null;b=c[0].time;var d=c.length-1;c=c[d].time+c[d].duration;this.R&&(c-=20,c<b&&(c=b));return{start:b-a.P,end:c-a.P}};h.seek=function(a,b){var c=this.l[a],d=c.A[c.V],e=d.c;a=this.Da(a);if(!a)return null;b<a.start&&(b=a.start);b>a.end&&(b=a.end);b+=d.P;for(a=e.length-1;0<=a;a--)if(b>=e[a].time)return c.index=a,c.Wa=!0,b-d.P;return null};
h.pc=function(a){a=this.l[a];var b=a.index+1;return b<a.A[a.V].c.length?(a.index=b,!0):!1};h.isLiveStream=function(){return this.R||!1};h.isEventStream=function(){return this.yh||!1};h.isLiveSeekableRangeMovingWindow=function(){return this.Bh};h.isLiveDone=function(){};h.Ib=function(a){var b=this.l[a];a=b.index;b=b.A[b.V].c;return!this.R&&a==b.length-1};
h.getSegmentInterval=function(a){var b=this.l[a],c=b.V;return 0<=c&&(a=b.index,0<=a&&(b=b.A[c],c=b.c,a<c.length))?{time:c[a].time-b.P,duration:c[a].duration}:{time:0,duration:0}};h.reset=function(a){this.l[a].index=-1};h.Hd=function(a){a=this.l[a];var b=a.A[a.V];null!==b.rb||null!==b.D&&null!==b.D.la||(a.Wa=!1);return a.Wa};h.rg=function(a,b){this.l[a].Wa=!1;262144<b.length?F(xi,"init data ("+b.length+" bytes) is too large to cache"):this.uh[a][this.l[a].V]=b};
h.ke=function(a){var b=this.l[a];var c=this.uh[a];return(b=b&&c?c[b.V]||null:null)?(this.l[a].Wa=!1,b):null};h.Df=function(){return null};h.updateSegmentRequestInfo=function(a,b){b.interval=this.getSegmentInterval(a)};h.processSegment=function(){};h.Ef=function(){return 0};var yi=function(a,b){t(a.R)||Ea("Cast.MPL.Live",b);a.R=b},xi=C("cast.player.comon.StreamingProtocolBase");var T=function(a){this.name=a;this.kj=!1};T.prototype.parse=function(){this.kj=!0};var zi=function(a){T.call(this,a);this.value=null};m(zi,T);zi.prototype.parse=function(a){T.prototype.parse.call(this,a);t(a)&&-1<a.indexOf("/")?(a=a.split("/"),this.value=parseInt(a[0],10)/(1<a.length?parseInt(a[1],10):1)):this.value=parseInt(a,10)};var U=function(a,b){T.call(this,a);this.value=b||null};m(U,T);U.prototype.parse=function(a){T.prototype.parse.call(this,a);this.value=a};
var Ai=function(a){T.call(this,a);this.value=null};m(Ai,T);Ai.prototype.parse=function(a){T.prototype.parse.call(this,a);this.value="true"==a.toLowerCase()};var Bi=function(a){T.call(this,a);this.value=null};m(Bi,T);
Bi.prototype.parse=function(a){T.prototype.parse.call(this,a);if(a=a.match(ke)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{b=parseInt(a[2],10)||0;var c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new le(-b,-c,-d,-e,-f,-g):new le(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.hc+a.mc)+a.rc)+a.wc};var Ci=function(a){T.call(this,a);this.value=null};m(Ci,T);
Ci.prototype.parse=function(a){T.prototype.parse.call(this,a);a=a.toUpperCase();for(var b in Di)if(Di.hasOwnProperty(b)&&a.includes(Di[b])){this.value=Di[b];break}};var Di={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",CLEARKEY:"1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B",wk:"URN:MPEG:DASH:MP4PROTECTION:2011"},Ei=function(a){T.call(this,a);this.value=null};m(Ei,T);
Ei.prototype.parse=function(a){T.prototype.parse.call(this,a);a=a.toUpperCase();a.includes("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=Kf:a.includes("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")?this.value=Lf:a.includes("1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B")&&(this.value=Mf)};var Fi=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof T){var d=b[c];if(!d.kj){var e=a.getNamedItem(d.name);e&&d.parse(e.value)}}};var Hi=function(a){this.duration=new Bi("mediaPresentationDuration");this.type=new U("type");this.sk=new Bi("minimumUpdatePeriod");for(this.url=null;a;){if("MPD"==a.nodeName){Fi(a.attributes,this);break}a=a.nextElementSibling}this.Nd=[];if(a){for(var b=q(a.children),c=b.next();!c.done;c=b.next())if(c=c.value,"BaseURL"==c.nodeName){this.url=c.textContent;break}a=q(a.children);for(c=a.next();!c.done;c=a.next())b=c.value,"Period"==b.nodeName&&this.Nd.push(new Gi(b,this))}},Ii=function(a){T.call(this,
a);this.end=this.start=null};m(Ii,T);Ii.prototype.parse=function(a){T.prototype.parse.call(this,a);a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var Ji=function(a){this.media=new U("media");Fi(a.attributes,this)},Ki=function(a){this.ik=new U("sourceURL");this.ya=new Ii("range");Fi(a.attributes,this)},Li=function(a){this.duration=new zi("duration");this.ff=new zi("timescale");this.P=new U("presentationTimeOffset");this.I=new zi("startNumber");this.Nc=new Ii("indexRange");Fi(a.attributes,this);this.dd=this.re=null;a=q(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "Initialization":this.re=new Ki(b);break;
case "SegmentTimeline":this.dd=[];b=q(b.children);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=0;var e=d.attributes.getNamedItem("r");e&&(c=parseInt(e.value,10));e=(e=d.attributes.getNamedItem("t"))?new xg(e.value):null;if(d=d.attributes.getNamedItem("d"))for(d=parseInt(d.value,10),this.dd.push({time:e,duration:d}),e=0;e<c;e++)this.dd.push({time:null,duration:d})}}};
Li.prototype.Va=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.ff.value&&(a.ff=this.ff);null===a.P.value&&(a.P=this.P);null===a.I.value&&(a.I=this.I);null===a.Nc.start&&(a.Nc=this.Nc);null===a.re&&(a.re=this.re);null===a.dd&&(a.dd=this.dd)};var Mi=function(a){Li.call(this,a);this.c=[];a=q(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "SegmentURL":this.c.push(new Ji(b))}};m(Mi,Li);
Mi.prototype.Va=function(a){Li.prototype.Va.call(this,a);0==a.c.length&&(a.c=this.c)};var Ni=function(a){Li.call(this,a);this.media=new U("media");this.la=new U("initialization");Fi(a.attributes,this)};m(Ni,Li);Ni.prototype.Va=function(a){Li.prototype.Va.call(this,a);null===a.media.value&&(a.media=this.media);null===a.la.value&&(a.la=this.la)};
var Pi=function(a){this.Ul=new Ci("schemeIdUri");Fi(a.attributes,this);var b=this.Ul.value;this.Te=Oi(b,a);this.lc=b==Di.wk},Oi=function(a,b){switch(a){case Di.PLAYREADY:a=q(b.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "mspr:pro":return ui(Ja(window.atob(b.childNodes[0].nodeValue.trim())));case "cenc:pssh":return a=Ja(window.atob(b.childNodes[0].nodeValue)),a=new Sg(a),ui(a.getData())}return Qi(Kf);case Di.WIDEVINE:return Qi(Lf);case Di.CLEARKEY:return Qi(Mf);default:return null}},
Qi=function(a){return{systemId:a,ne:null,Ae:null,url:null,Vf:0}},Ri=function(a){this.Ve=[];this.lc=!1;this.Qb=this.D=this.Rb=this.url=null;a=q(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "BaseURL":this.url=b.textContent;break;case "ContentProtection":b=new Pi(b);b.Te&&this.Ve.push(b.Te);this.lc=this.lc||b.lc;break;case "SegmentBase":this.Qb=new Li(b);break;case "SegmentTemplate":this.D=new Ni(b);break;case "SegmentList":this.Rb=new Mi(b)}};
Ri.prototype.Va=function(a){a.D?this.D&&this.D.Va(a.D):a.D=this.D;a.Qb?this.Qb&&this.Qb.Va(a.Qb):a.Qb=this.Qb;a.Rb?this.Rb&&this.Rb.Va(a.Rb):a.Rb=this.Rb;if(a.url&&this.url){var b=this.url;var c=a.url;b instanceof J||(b=De(b));c instanceof J||(c=De(c));b=b.resolve(c).toString()}else b=a.url||this.url;a.url=b;0==a.Ve.length&&(a.Ve=this.Ve);a.lc=a.lc||this.lc};var Si=function(a){Ri.call(this,a);this.id=new U("id");this.mimeType=new U("mimeType");this.codecs=new U("codecs");Fi(a.attributes,this)};
m(Si,Ri);Si.prototype.Va=function(a){Ri.prototype.Va.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};
var Ti=function(a,b){Si.call(this,a);this.Dk=new zi("bandwidth");this.height=new zi("height");this.width=new zi("width");Fi(a.attributes,this);b.Va(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"==this.codecs.value&&(this.codecs.value="avc1.4D401E")};m(Ti,Si);
var Ui=function(a,b){Si.call(this,a);this.language=new U("lang");this.frameRate=new zi("frameRate");Fi(a.attributes,this);this.role=null;b.Va(this);this.A=[];a=q(a.children);for(b=a.next();!b.done;b=a.next())b=b.value,"Representation"==b.nodeName?this.A.push(new Ti(b,this)):"Role"==b.nodeName&&(this.role=b.getAttribute("value"))};m(Ui,Si);
var Gi=function(a,b){Ri.call(this,a);this.duration=new Bi("duration");this.start=new Bi("start");Fi(a.attributes,this);this.url=this.url||b.url;this.l=[];a=q(a.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "AdaptationSet":this.l.push(new Ui(b,this))}};m(Gi,Ri);var Vi=function(a){S.call(this,a);this.We=new Uc(5);this.tg=!1;this.Kd=this.Fd.bind(this);this.pa=null;this.Xc=[];this.Ni=[]};m(Vi,S);Vi.prototype.Fa=function(){S.prototype.Fa.call(this);null!==this.pa&&(clearTimeout(this.pa),this.pa=null)};Vi.prototype.updateLicenseRequestInfo=function(a){var b=this.We.get(a.protectionSystem);b&&(a.headers={},a.headers["content-type"]="text/xml;charset=utf-8",a.url=b.url)};
Vi.prototype.Nh=function(a){if(a.Nd&&0!=a.Nd.length){yi(this,"dynamic"==a.type.value);a.duration.value&&(this.duration=a.duration.value);a:{var b=a.Nd;var c=b[0];if(c.l[0].D){var d=[],e=[];b=q(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var g=f.duration.value,k=0,l=[],n=q(f.l),p=n.next();!p.done;p=n.next()){var u=p.value;p=u.D;if(!p){F(Wi,"Multiple periods not using SegmentTemplate is not supported");c=[{start:c.start.value,duration:c.duration.value,Me:null}];break a}u=this.uri.resolve(new J(u.A[0].url)).toString();
var w=new J(u);e[k]=e[k]||0;u=e[k];var A={za:0,P:0,c:[],url:null,D:null,I:null,rb:null};Xi(w,p,A);p=Yi(w,p);p={I:A.I,P:A.P,gj:u,D:p};l.push(p);e[k]+=Math.round(g/p.D.duration);k++}d.push({start:f.start.value,duration:f.duration.value,Me:l})}c=d}else c=[{start:c.start.value,duration:c.duration.value,Me:null}]}this.Xc=c;a=q(a.Nd[0].l);for(c=a.next();!c.done;c=a.next()){d=c.value;e=d.A;c=e[0].mimeType.value;e=d.codecs.value||e[0].codecs.value||"";if(null===c){this.host.U(422,void 0,"No mime type in manifest",
Wi);break}if(Ld(c))b=1;else if(Md(c))b=2;else if(Hf(d.role,c,e))b=3;else continue;c={name:d.id.value,type:b,enabled:!1,Wa:!1,$:!0,index:-1,V:-1,A:[],language:d.language.value,mimeType:c,codecs:e,role:d.role};d=q(d.A);for(e=d.next();!e.done;e=d.next()){e=e.value;b=q(e.Ve);for(f=b.next();!f.done;f=b.next())f=f.value,(g=Zi(f.systemId))&&this.We.set(g,f);e.lc&&(this.tg=!0);f=this.uri.resolve(new J(e.url)).toString();b={za:e.Dk.value||0,id:e.id.value,P:0,c:[],url:f,I:null,D:null,rb:null};e.Qb||e.Rb||e.D?
(e.url&&"/"!=f[f.length-1]&&(f+="/"),f=new J(f),Xi(f,e.Qb,b),(g=e.Rb)&&Xi(f,g,b),e=e.D,g=b,e&&(Xi(f,e,g),g.D=Yi(f,e))):(e=f,f=this.duration,b.c.push({time:0,Ob:new xg("0"),duration:f,url:e}));c.A.push(b)}c.Wa=!0;this.l.push(c)}}else this.host.U(421,void 0,"No periods found in manifest",Wi)};
var $i=function(a){if(Vf&&Vf.updateOutputMode){var b=a.frameRate.value;if(x(b)){a=q(a.A);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=d.width.value;var e=d.height.value;if(x(c)&&x(e)&&2160<=e){a=d.codecs.value;G(Wi,"Update output mode with frameRate="+b+" codecs="+a);Vf.updateOutputMode(c,e,b,a);break}}}}},aj=function(a){a=q(a.Nd);for(var b=a.next();!b.done;b=a.next()){var c={};b=q(b.value.l);for(var d=b.next();!d.done;c={frameRate:c.frameRate},d=b.next())d=d.value,c.frameRate=d.frameRate.value,
d.A=d.A.filter(function(a){return function(b){var c=a.frameRate;if(Wf){var d=b.codecs.value,e=b.mimeType.value,f=b.width.value;b=b.height.value;x(f)&&x(b)&&2160<=b&&d&&e?(e=e+"; codecs="+Uf(d),f&&b&&(e+="; width="+f+"; height="+b),x(c)&&(e+="; framerate="+c),Od(d)&&(e+="; eotf=smpte2084"),c=Wf(e),G(Wi,"canDisplay("+e+"): "+!!c)):c=!0}else c=!0;return c}}(c)),$i(d)}};
Vi.prototype.tc=function(a,b){if(a){b&&(this.uri=new J(b));var c=null!==this.pa,d=this.l;this.l=[];var e=(new DOMParser).parseFromString(a,"text/xml");if(e.firstChild)if(e=new Hi(e.firstChild),aj(e),this.Nh(e),this.tg||this.Zc.He(this.We.Ja()),this.R&&x(e.sk.value)&&(this.pa=setTimeout(this.Kd,1E3*(e.sk.value||10))),c){for(a=0;a<d.length;a++){b=this.l[a];c=d[a];b.enabled=c.enabled;b.V=c.V;b.Wa=c.Wa;e=[];for(var f=!0,g=c.index,k=0;k<b.A.length;k++){var l=c.A[k],n=b.A[k];n.P=l.P;if(x(l.I)&&x(n.I)){var p=
l.I+g-n.I;p=0<p?{c:n.c,index:p,I:n.I}:{c:l.c.slice(g,n.I-l.I).concat(n.c),index:0,I:l.I+g}}else p=null;if(p)l=p;else{p={c:[],index:0,I:n.I};var u=n.c[0];0<=g&&u.time<l.c[g].time?(p.c=n.c,p.index=bj(l.c[g].time,n.c),l=p):(u=bj(u.time,l.c),-1==u?l=null:(g>u?(p.c=n.c,p.index=g-u):(p.c=l.c.slice(g,u).concat(n.c),p.index=0,x(n.I)&&(p.I-=u-g)),l=p))}e[k]=l;if(!e[k]){f=!1;F(Wi,"Old and new representations are out of sync.");break}}if(!(0>g))if(f){for(f=0;f<b.A.length;f++)b.A[f].c=e[f].c,b.A[f].I=e[f].I;
b.$=c.$;b.index=e[0].index}else b.$=!0,b.index=0}this.Zc.Uh()}else S.prototype.tc.call(this,a,b)}else this.host.U(321,ri(this.Tc))};Vi.prototype.Da=function(a){var b=this.l[a];b=b.A[b.V];return 0==b.c.length&&b.D?(a=this.duration,this.R&&(a-=20),{start:0,end:a}):S.prototype.Da.call(this,a)};var dj=function(a,b,c){c=cj(a,b,c);a.Ni[b]!=c&&(a.l[b].$=!0);a.Ni[b]=c};
Vi.prototype.seek=function(a,b){var c=this.l[a],d=c.A[c.V];if(0==d.c.length&&d.D){var e=this.Da(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.D.duration);d=Math.ceil(this.duration/d.D.duration);c.index=e<d?e:d-1;dj(this,a,c.index);return b}return S.prototype.seek.call(this,a,b)};
Vi.prototype.pc=function(a){var b=this.l[a],c=b.A[b.V];if(0==c.c.length&&c.D){var d=b.index+1;return d<Math.ceil(this.duration/c.D.duration)?(b.index=d,dj(this,a,b.index),!0):!1}return S.prototype.pc.call(this,a)};var cj=function(a,b,c){a=a.Xc;for(var d=0;d<a.length-1&&!(c<a[d+1].Me[b].gj);d++);return d};h=Vi.prototype;h.Ib=function(a){var b=this.l[a],c=b.A[b.V];return 0==c.c.length&&c.D?b.index==Math.ceil(this.duration/c.D.duration)-1:S.prototype.Ib.call(this,a)};
h.getSegmentInterval=function(a){if(this.Hd(a))return{time:0,duration:0};var b=this.l[a],c=b.A[b.V];if(c.D){b=b.index;if(0>b)return{time:0,duration:0};0<c.c.length?(a=c.c[b].duration,c=c.c[b].time-c.P):(a=c.D.duration,c=b*a);return{time:c,duration:a}}return S.prototype.getSegmentInterval.call(this,a)};
h.updateSegmentRequestInfo=function(a,b){S.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.l[a],d=c.A[c.V];c=c.index;var e=this.Hd(a);if(d.D){var f=d.D,g=null;1<this.Xc.length&&(g=this.Xc[cj(this,a,c)].Me[a],f=g.D);a=e?f.la:f.url;a=a.replace(/\$RepresentationID\$/g,d.id);a=a.replace(/\$Bandwidth\$/g,d.za.toString());e||(e=c+(d.I||0),1<this.Xc.length&&(e=c+(g.I||0)-g.gj),a=ej(a,e),a=a.replace("$Time$",0<d.c.length?d.c[c].Ob.toString():(c*f.duration).toString()));b.url=a}else{g=f=null;
if(e)c=d.rb,d=c.url?c.url:d.url,c.ya&&(f=c.ya.start,g=c.ya.end);else if(c<d.c.length)c=d.c[c],c.url?d=c.url:(d=d.url,f=c.offset,g=c.offset+c.size-1);else{this.host.U(423,void 0,"Invalid segment info in manifest.",Wi);return}b.url=d;b.headers={};null===f||null===g||(b.headers.Range="bytes="+f+"-"+g)}};
h.processSegment=function(a,b,c){var d=this.l[a],e=d.A[d.V],f=b.data;if(this.tg&&this.Zc){var g=Q(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.pi,url:null,ne:null,Ae:null,Vf:0}){var k=Zi(g.systemId);k&&(this.We.set(k,g),this.Zc.He(this.We.Ja()),this.tg=!1)}}if(b.Oc)if(d=(d=Q(f,1836019574))?Jg(d):null,null===d)this.host.U(322,void 0,"no init",Wi);else{if(!e.D&&0==e.c.length){a=0;b.Oc&&e.rb&&e.rb.ya&&(a=e.rb.ya.start);f=(f=Q(f,1936286840))?f.ph(a):null;if(!f){F(Wi,"no segments");return}e.c=
f}Zh(c,d,{time:b.interval.time,duration:0},0,!1)}else g=b.interval,e=e.P,1<this.Xc.length&&(e=this.Xc[cj(this,a,d.index)],e=e.Me[a].P-e.start),this.host.processMetadata&&(a=b.data,Q(a,1701671783,void 0,!0)&&this.host.processMetadata("EMSG",a,b.interval.time)),Zh(c,f,g,g.time+e,d.$),d.$=!1};h.Ef=function(){return 1};
var Zi=function(a){return Kf.Eb(a)?"playready":Lf.Eb(a)?"widevine":Mf.Eb(a)?"clearkey":null},Xi=function(a,b,c){if(b){null!==b.I.value&&(c.I=b.I.value);var d=b.ff.value||1,e=new xg(b.P.value||"0");c.P=parseInt(e.toString(),10)/d;e=new xg(e.toString());var f=b.c,g=b.dd,k=0;g?k=g.length:f&&0<f.length&&(k=f.length);for(var l=0;l<k;l++){var n=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new xg(g[l].time.toString()));var p=parseInt(e.toString(),10)/d,u=new xg(e.toString());if(!f||0>=f.length)var w=
null;else{w=f[l].media.value;var A=a.resolve(new J(w)).toString();w=!w&&A.endsWith("/")?A.slice(0,-1):A}c.c.push({time:p,Ob:u,duration:n/d,url:w});e.add(n)}(d=c.rb)||(f=e=d=null,g=!0,(k=b.re)&&k.ik.value?(g=!1,d=k.ik.value,k.ya.start&&k.ya.end&&(e=k.ya.start,f=k.ya.end)):(e=0,k&&k.ya.start&&k.ya.end&&(e=k.ya.start,f=k.ya.end,g=!1),b.Nc.start&&b.Nc.end&&(e=Math.min(e,b.Nc.start),f=Math.max(f,b.Nc.end),g=!1),f||(f=2048)),d=g?null:{url:d?a.resolve(new J(d)).toString():null,ya:null===e||null===f?null:
{start:e,end:f},data:null});c.rb=d}},Yi=function(a,b){return{duration:(b.duration.value||0)/(b.ff.value||1),url:a.resolve(new J(b.media.value)).toString(),la:b.la.value?a.resolve(new J(b.la.value)).toString():null}},bj=function(a,b){for(var c=.5*b[0].duration,d=0;d<b.length;d++)if(Math.abs(b[d].time-a)<=c)return d;return-1},ej=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(a){var c=a.indexOf("%0");if(0>c)return b;c=parseInt(a.substring(c+2,a.length-2),10);switch(a.substr(a.length-
2,1)){case "x":return Pf(b,16,c);case "X":return Pf(b,16,c).toUpperCase();case "o":return Pf(b,8,c);default:return Pf(b,10,c)}})},Wi=C("cast.player.dash.Protocol");var fj=function(a){this.Yf=a;this.pe=null;this.ri=this.Fc=0},gj=function(a,b){b=b.length>a.Fc?b.subarray(0,a.Fc):b;N(a.pe,b);a.Fc-=b.length};
fj.prototype.append=function(a,b,c,d){b=b.subarray(c,d);if(this.pe)return gj(this,b),0==this.Fc&&(this.Yf&&this.Yf("ID3",Bg(this.pe),this.ri),this.Fc=this.ri=this.pe=null),0;c=0;73!=b[c++]||68!=b[c++]||51!=b[c++]?c=null:(c+=3,d=b[c++]<<21|b[c++]<<14|b[c++]<<7|b[c++],c+=d);if(null===c)return 0;if(c<=b.length)return this.Yf&&this.Yf("ID3",b.subarray(0,c),a),c;this.pe=new Ag(c);this.ri=a;this.Fc=c;gj(this,b);return 0};var hj=function(){this.m=null;this.xd=this.$c=this.dj=this.Og=this.Ff=this.Oe=this.C=0};hj.prototype.xa=function(){return null===this.m};hj.prototype.Nf=function(){return this.C>=this.m.length};hj.prototype.la=function(a){this.m=a;this.xd=this.$c=this.Og=this.Ff=this.Oe=this.C=0};
hj.prototype.parse=function(){for(var a=this.C;this.C<this.m.length&&!(524288<this.C-a);){for(;this.C<this.m.length&&71!=this.m[this.C];)this.C++;if(this.C+188>this.m.length)break;var b=this.C+188,c=b-1;this.C++;var d=this.m[this.C]&64,e=this.m[this.C]&31;this.C++;e=e<<8|this.m[this.C];this.C++;var f=(this.m[this.C]&48)>>4;this.C++;f&2&&(this.C+=this.m[this.C]+1);if(0==e||e==this.Oe)if(d&&this.C++,c=this.m[this.C],this.C++,0==c)for(c=this.C,d=this.m[c]&15,c++,d=d<<8|this.m[c],c++,d=c+d-4,c+=5;c<d;)if(e=
this.m[c],c++,e=(e<<8)+this.m[c],c++,0==e)c+=2;else{this.Oe=this.m[c]&31;c++;this.Oe=(this.Oe<<8)+this.m[c];break}else{if(2==c)for(c=this.C,d=this.m[c]&15,c++,d=d<<8|this.m[c],c++,d=c+d-4,c=c+5+2,e=this.m[c]&15,c++,e=e<<8|this.m[c],c+=e+1;c<d;){e=this.m[c];c++;f=this.m[c]&31;c++;f=f<<8|this.m[c];c++;switch(e){case 27:case 219:this.Ff=f;break;case 15:case 207:this.Og=f;break;case 21:this.dj=f}e=this.m[c]&15;c++;e=e<<8|this.m[c];c+=e+1}}else if(e==this.dj)this.Tj(this.C,c,!!d);else if(e==this.Ff||e==
this.Og)d&&this.bi(this.C),e==this.Ff&&this.Sj(this.C,c);this.C=b}};var ij=function(a,b){var c=((a.m[b]&14)<<13)/1.373291015625;c+=(a.m[b+1]<<6)/1.373291015625;c+=(a.m[b+2]&254)/5.4931640625;c+=a.m[b+3]/703.125;return c+=(a.m[b+4]&254)/18E4};hj.prototype.bi=function(a){if(0==this.m[a]&&0==this.m[a+1]&&1==this.m[a+2]){a+=7;var b=this.m[a]>>6&3;a++;var c=this.m[a];a++;this.C=a+c;2==b?this.xd=this.$c=ij(this,a):3==b&&(this.$c=ij(this,a),this.xd=ij(this,a+5))}};hj.prototype.Tj=function(){};
hj.prototype.Sj=function(){};var jj=function(a,b,c){hj.call(this);this.fb=null;this.Lf=b?new fj(b):null;this.Mh=Infinity;this.am=c;for(this.la(a);!this.Nf();)this.parse()};m(jj,hj);jj.prototype.le=function(){return this.Mh};jj.prototype.bi=function(a){hj.prototype.bi.call(this,a);null===this.fb&&(this.fb=this.xd);a=kj(this.fb,this.xd);a<this.Mh&&(this.Mh=a)};
jj.prototype.Tj=function(a,b,c){if(this.Lf){a=new hg(this.m.subarray(a,b+1));if(c){if(1!=L(a)>>8)return;M(a,2);M(a,2);c=ig(a);M(a,c)}null===this.fb&&(this.fb=this.xd);this.Lf.append(this.am+(kj(this.fb,this.$c)-this.fb),mg(a),0)}};var kj=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b;b=95443.7176888889*(c+1)+b;c=Math.abs(d-a);var f=Math.abs(e-a);a=Math.abs(b-a);var g=c;f<c&&(d=e,g=f);a<g&&(d=b);return d};var V=function(a,b){this.Gk=a;this.$d=b?b:null;this.b=null};V.prototype.i=function(a){var b=Bg(a).length;this.b=a;this.yi();this.B();a=Bg(a).length-b;this.b.buffer.set([a>>24,a>>16,a>>8,a],b)};V.prototype.yi=function(){this.b.h(0);this.b.h(this.Gk);this.$d&&N(this.b,this.$d.hd())};V.prototype.B=function(){throw Error("writeBody() should be  overriden.");};var W=function(a,b,c){V.call(this,a);this.Ga=b;this.jc=c};m(W,V);
W.prototype.yi=function(){V.prototype.yi.call(this);this.b.h(this.Ga<<24|this.jc&16777215)};var lj=function(a){W.call(this,1935763823,0,0);this.C=a};m(lj,W);lj.prototype.B=function(){this.b.h(1);this.b.h(this.C)};var mj=function(a){W.call(this,1952867444,1,0);this.ee=a};m(mj,W);mj.prototype.B=function(){this.b.zi(this.ee)};var nj=function(a,b){W.call(this,1935763834,0,0);this.Ti=a;this.dk=b};m(nj,W);nj.prototype.B=function(){this.b.Lg(this.Ti);this.b.h(this.dk.length);0==this.Ti&&N(this.b,this.dk)};
var oj=function(a,b){W.call(this,1702061171,0,0);this.xl=a;this.fe=b};m(oj,W);oj.prototype.B=function(){N(this.b,[3,25,0,1,0,4,17,this.xl,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.fe[0],this.fe[1]])};var pj=function(a,b){V.call(this,1635148611);this.jk=a;this.Vj=b};m(pj,V);pj.prototype.B=function(){N(this.b,[1,77,64,30,255,225]);this.b.md(this.jk.length);N(this.b,this.jk);this.b.Lg(1);this.b.md(this.Vj.length);N(this.b,this.Vj)};var qj=function(){W.call(this,1937011571,0,0)};m(qj,W);qj.prototype.B=function(){this.b.h(0)};
var rj=function(a,b,c){W.call(this,1952804451,0,1);this.Vk=c?0:a;this.Uk=b;this.Si=c};m(rj,W);rj.prototype.B=function(){this.b.h(256|this.Vk);N(this.b,this.Uk.hd());this.Si&&(this.b.Lg(16),N(this.b,this.Si))};var sj=function(a){W.call(this,1936027235,0,2);this.fi=a};m(sj,W);sj.prototype.B=function(){this.b.h(this.fi.length);for(var a=0;a<this.fi.length;a++){var b=this.fi[a].lk;this.b.md(b.length);for(var c=0;c<b.length;c++){var d=b[c];this.b.md(d.Tg);this.b.h(d.Ug)}}};
var tj=function(a,b){W.call(this,1935894637,0,0);this.Vl=a;this.Wl=b};m(tj,W);tj.prototype.B=function(){this.b.h(this.Vl);this.b.h(this.Wl)};var uj=function(a){V.call(this,1718775137);this.Rk=a};m(uj,V);uj.prototype.B=function(){this.b.h(this.Rk)};var vj=function(a){W.call(this,1751411826,0,0);this.gl=a};m(vj,W);vj.prototype.B=function(){this.b.h(0);this.b.h(this.gl);N(this.b,[0,0,0,0,0,0,0,0,0,0,0,0])};var wj=function(a){W.call(this,1835296868,0,0);this.hb=a};m(wj,W);
wj.prototype.B=function(){this.b.h(0);this.b.h(0);this.b.h(this.hb);this.b.h(0);N(this.b,[85,196,0,0])};var xj=function(a,b){W.call(this,1953196132,0,3);this.im=a;this.hl=b};m(xj,W);xj.prototype.B=function(){this.b.h(0);this.b.h(0);N(this.b,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);this.b.h(this.im<<16);this.b.h(this.hl<<16)};var yj=function(a){W.call(this,1953654136,0,0);this.ll=a};m(yj,W);
yj.prototype.B=function(){var a=65536;this.ll&&(a&=-65537);N(this.b,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);this.b.h(a)};var zj=function(a,b){W.call(this,1886614376,0,0);this.pi=a;this.qb=b};m(zj,W);zj.prototype.B=function(){N(this.b,this.pi.hd());this.b.h(this.qb.length);N(this.b,this.qb)};var Aj=function(a){W.call(this,1836476516,0,0);this.hb=a};m(Aj,W);
Aj.prototype.B=function(){this.b.h(0);this.b.h(0);this.b.h(this.hb);N(this.b,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var Bj=function(a){W.call(this,1952868452,0,8);this.Wk=a};m(Bj,W);Bj.prototype.B=function(){this.b.h(1);this.b.h(this.Wk)};var Cj=function(a){W.call(this,1953658222,0,513);this.hi=a};m(Cj,W);
Cj.prototype.B=function(){this.b.h(this.hi.length);this.b.h(0);for(var a=0;a<this.hi.length;a++)this.b.h(this.hi[a].length)};var Dj=function(a){W.call(this,1835427940,0,0);this.xc=a};m(Dj,W);Dj.prototype.B=function(){this.b.h(this.xc)};var Ej=function(a){V.call(this,1835295092);this.Oi=a};m(Ej,V);Ej.prototype.B=function(){for(var a=0;a<this.Oi.length;a++)N(this.b,this.Oi[a])};var Gj=function(a){var b=new Uint8Array(2+a.length);b[1]=1;Ja(a,b,2);zj.call(this,Fj,b)};m(Gj,zj);
var Fj=new Jf([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);var Ij=function(a,b){var c=new Cg;(new zj(Lf,Hj(a,b))).i(c);return Bg(c)},Hj=function(a,b){var c=new pf;hf(c,1,1);var d=Qf(a.ye);df(c,2).push(d);hf(c,3,a.Ol);if(a=a.Mk){b&&(a=window.atob(a));b=[];for(d=0;d<a.length;d++)b.push(a.charCodeAt(d));b=new Uint8Array(b);hf(c,4,b)}hf(c,9,1667392371);return c.pg()},Jj=[71,64,1,16,0,1,176,45,255,255,193,0,0,9,34,99,101,224,16,99,98,99,115,0,1,0,0,1,0,16,1,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,143,19,198,145,164,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,71,64,17,16,127,255,255,255,0,0,0,32,112,115,115,104,0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,16,48,147,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,79,16,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,1,112,213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183];var Kj=function(a,b,c){this.wl=a;this.sampleRate=b;this.lb=c;this.Qc=void 0},Lj=function(a,b,c,d){this.width=a;this.height=b;this.fd=c;this.Pe=d},Mj=function(a,b,c,d,e,f){this.wb=a;this.Bc=b;this.Jk=c;this.fl=d;this.audio=e;this.video=f},Nj=function(a){V.call(this,1836019574);this.j=a};m(Nj,V);Nj.prototype.B=function(){(new Aj(this.j.Bc)).i(this.b);var a=this.j.wb;a&&a.ne&&(new zj(a.systemId,a.ne)).i(this.b);(new Oj(this.j)).i(this.b);(new Pj(this.j)).i(this.b)};
var Pj=function(a){V.call(this,1953653099);this.j=a};m(Pj,V);Pj.prototype.B=function(){var a=0,b=0,c=this.j.video;c&&(a=c.width,b=c.height);(new xj(a,b)).i(this.b);(new Qj(this.j)).i(this.b)};var Qj=function(a){V.call(this,1835297121);this.j=a};m(Qj,V);Qj.prototype.B=function(){(new wj(this.j.Bc)).i(this.b);(new vj(this.j.fl)).i(this.b);(new Rj(this.j)).i(this.b)};var Rj=function(a){V.call(this,1835626086);this.j=a};m(Rj,V);Rj.prototype.B=function(){(new Sj(this.j)).i(this.b)};
var Sj=function(a){V.call(this,1937007212);this.j=a};m(Sj,V);Sj.prototype.B=function(){(new Tj(this.j)).i(this.b);this.j.video&&(new qj).i(this.b)};var Tj=function(a){W.call(this,1937011556,0,0);this.j=a};m(Tj,W);Tj.prototype.B=function(){this.b.h(1);(this.j.video?new Uj(this.j):new Vj(this.j)).i(this.b)};var Vj=function(a){V.call(this,a.wb?1701733217:1836069985);this.j=a};m(Vj,V);
Vj.prototype.B=function(){N(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);this.b.h(this.j.audio.sampleRate<<16);(new oj(this.j.audio.wl,this.j.audio.lb)).i(this.b);this.j.wb&&(new Wj(this.j)).i(this.b)};var Uj=function(a){V.call(this,a.wb?1701733238:1635148593);this.j=a};m(Uj,V);
Uj.prototype.B=function(){N(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);this.b.md(this.j.video.width);this.b.md(this.j.video.height);N(this.b,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new pj(this.j.video.fd,this.j.video.Pe)).i(this.b);this.j.wb&&(new Wj(this.j)).i(this.b)};var Oj=function(a){V.call(this,1836475768);this.j=a};m(Oj,V);Oj.prototype.B=function(){(new yj(!this.j.video)).i(this.b)};
var Wj=function(a){V.call(this,1936289382);this.j=a};m(Wj,V);Wj.prototype.B=function(){(new uj(this.j.Jk)).i(this.b);(new tj(this.j.wb.scheme||1667591779,0)).i(this.b);(new Xj(this.j)).i(this.b)};var Xj=function(a){V.call(this,1935894633);this.j=a};m(Xj,V);Xj.prototype.B=function(){var a=this.j.wb;a&&a.Ae&&(new rj(a.Vf,a.Ae,a.Kk)).i(this.b)};var Yj=function(a,b,c,d,e){Nj.call(this,new Mj(a,b,1836069985,1936684398,new Kj(c,d,e),null))};m(Yj,Nj);
var Zj=function(a,b,c,d,e,f){Nj.call(this,new Mj(a,b,1635148593,1986618469,null,new Lj(c,d,e,f)))};m(Zj,Nj);var ak=function(a,b,c,d){V.call(this,1836019558);this.j={Sl:a,Ek:b,Tl:c,ck:d}};m(ak,V);ak.prototype.B=function(){(new Dj(0)).i(this.b);(new bk(this.j)).i(this.b)};var bk=function(a){V.call(this,1953653094);this.j=a};m(bk,V);bk.prototype.B=function(){this.j.ck&&(new sj(this.j.ck)).i(this.b);(new Bj(this.j.Sl)).i(this.b);(new mj(this.j.Ek)).i(this.b);(new Cj(this.j.Tl)).i(this.b)};var ck=function(a,b,c){V.call(this,1836019558);this.ee=b;this.El=a;this.ug=c};m(ck,V);
ck.prototype.B=function(){for(var a=Yg(O(this.El),void 0);0<a.length;){var b=a.shift();switch(b.getName()){case 1953653094:(new dk(b,this.ee,this.ug)).i(this.b);break;default:b.i(this.b)}}};var dk=function(a,b,c){V.call(this,1953653094);this.ee=b;this.Fl=a;this.ug=c};m(dk,V);
dk.prototype.B=function(){for(var a=Yg(O(this.Fl),void 0),b=null,c=!1,d=!1;0<a.length;){var e=a.shift();switch(e.getName()){case 1970628964:e instanceof Ng&&(b=e);break;case 1952868452:var f=e;f.jc&32&&(this.ug=!1);Dg(O(f),0,1);e.i(this.b);break;case 1953658222:(new ek(e,this.ug)).i(this.b);break;case 1935763823:c=!0;e.i(this.b);break;case 1935763834:d=!0;e.i(this.b);break;default:e.i(this.b)}}(new mj(this.ee)).i(this.b);b&&(d||(new nj(b.Eh?0:8,b.ng)).i(this.b),c||(new lj(0)).i(this.b))};
var ek=function(a,b){var c=a.jc,d=!1;var e=null;c&1||(d=!0,c|=1);!b||c&1024||c&4||(c|=4,e=0);b=d;W.call(this,1953658222,a.Ga,c);this.Xl=b;this.Wi=e;this.Gl=a};m(ek,W);ek.prototype.B=function(){var a=new zg(O(this.Gl));this.b.h(L(a));this.Xl&&this.b.h(0);null===this.Wi||this.b.h(this.Wi);N(this.b,mg(a))};var fk=function(a,b,c){hg.call(this,a);this.Lf=new fj(b);this.Af=c};m(fk,hg);fk.prototype.lg=function(){throw Error("readAudioHeader is not implemented");};var gk=function(a,b,c,d,e,f,g,k){this.Di=a;this.yf=c;this.fb=d;this.Lh=f;this.Af=g;this.Sk=k;this.je=[];this.sampleRate=0;this.og=e;this.fe=new Uint8Array([0,0])};
gk.prototype.parse=function(a){for(var b=this.wf(this.yf),c=[],d=null;b.offset<b.buffer.length;){var e=b.Lf.append(a,b.buffer,b.offset);b.offset+=e;if(!e)if(d=b.lg())d.ek&&(this.og=d.ek),c.push(lg(b,d.nh)),a+=this.og/d.sampleRate;else return Mc(hk,"Neither ID3 nor ADTS header was found at "+mg(b).byteOffset),!1}if(null===d)return Mc(hk,"No ADTS header was found."),!1;b=Gg(d.profile,d.sampleRate,d.Oh);if(null===b)return Mc(hk,"Cannot generate audio codec private data."),!1;this.je=c;this.sampleRate=
d.sampleRate;this.fe=b;return!0};gk.prototype.wf=function(){throw Error("createdataReader is not implemented");};gk.prototype.le=function(){return this.fb};gk.prototype.Cd=function(){throw Error("getTimeScale is not implemented");};var hk=C("cast.player.hls.PackedAudioParser");var ik=function(a,b){fk.call(this,a,b)};m(ik,fk);ik.prototype.lg=function(){var a=this.buffer.subarray(this.offset);if(255!=a[0]||240!=(a[1]&240))return null;var b=((a[3]&3)<<11)+(a[4]<<3)+((a[5]&224)>>5),c=a[2]>>2&15,d=a[1]&1?7:9;this.offset+=d;return{profile:(a[2]>>6&3)+1,sampleRate:Eg[c],Oh:(a[2]<<2&4)+(a[3]>>6&3),nh:b-d}};var jk=function(a,b,c,d,e,f){var g=a.match("mp4a.67")?103:64;gk.call(this,g,a,b,c,1024,d,e,f)};m(jk,gk);jk.prototype.wf=function(a){return new ik(a,this.Lh)};
jk.prototype.Cd=function(){return 1E6};var kk=[48E3,44100,32E3],lk=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],
[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],mk=function(a,b,c){fk.call(this,a,b,c)};m(mk,fk);mk.prototype.lg=function(){var a=this.buffer.subarray(this.offset),b=0;if(11!=a[b++]||119!=a[b++])return null;b+=2;var c=a[b++];b=c>>6&3;c=lk[c&63];return t(c)?{profile:(a[2]>>6&3)+1,sampleRate:kk[b],Oh:6,nh:2*c[b]}:(this.Af(316),null)};var nk=function(a,b,c,d,e,f){gk.call(this,165,a,b,c,1536,d,e,f)};m(nk,gk);nk.prototype.wf=function(a){return new mk(a,this.Lh,this.Af)};
nk.prototype.Cd=function(){return this.sampleRate};var ok=function(a,b){this.a=a;this.xh=!1;this.Wg=b;this.Wh=this.Bl.bind(this);this.Th=this.Id.bind(this)};ok.prototype.cancel=function(){this.xh=!0};ok.prototype.Id=function(a){if(!this.xh){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);this.a.U(203,void 0,b)}};ok.prototype.Bl=function(a){this.xh||this.Wg(a)};var pk=function(a,b,c,d,e){ok.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.Wh,this.Th)};m(pk,ok);var qk=[1,2,3,6],rk=C("cast.player.hls.Eac3Reader"),sk=function(a){fk.apply(this,arguments)};m(sk,fk);sk.prototype.lg=function(){var a=this.buffer.subarray(this.offset);if(11!=a[0]||119!=a[1])return null;var b=a[2]<<8&1792|a[3],c=a[4]>>6&3;3===c?(c=a[4]>>4&3,a=3,c=3>c?kk[c]/2:void 0):(a=a[4]>>4&3,c=kk[c]);return t(c)?{profile:0,sampleRate:c,ek:256*qk[a],Oh:6,nh:2*(b+1)}:(Mc(rk,"Cannot determine sample rate."),null)};var tk=function(a,b,c,d,e,f){gk.call(this,166,a,b,c,256,d,e,f)};m(tk,gk);tk.prototype.wf=function(a){return new sk(a,this.Lh,this.Af)};tk.prototype.Cd=function(){return this.sampleRate};var uk=function(a,b,c){ok.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.Wh,this.Th)};m(uk,ok);var vk=function(a){this.Ra=-1;this.w=null;this.rl=this.ql.bind(this);this.Hl=a};vk.prototype.ql=function(a,b){for(var c=0,d=null,e=0;e<b.length;e++)if(null!==b[e].gg){c=e;d=b[e].gg;break}if(null===d)return null;b=-1;e=Infinity;for(var f=0;f<a.length;f++){var g=Math.abs(a[f].gg-d);if(100>g)return f-c;g<e&&(b=f,e=g)}return 0>b||e>500*this.w.xg?-1:b-c};var wk=function(a,b){b=b[0].ki;for(var c=0;c<a.length;c++)if(a[c].ki==b)return c;return null};h=vk.prototype;
h.update=function(a,b){b=void 0===b?!1:b;if(0>this.Ra)this.w=a;else if(0==a.c.length)F(xk,"new manifest has no segment");else{var c=this.w.c,d=c[this.Ra],e=a.c,f={Ad:wk,vj:"sequence number"};var g={Ad:this.rl,vj:"program date time"};g=this.w.qh&&a.qh?this.Hl?[f,g]:[g,f]:[f];a:{f=b;f=void 0===f?!1:f;g=q(g);for(var k=g.next();!k.done;k=g.next()){k=k.value;b:{var l=this.Ra;var n=k.Ad,p=f;p=void 0===p?!1:p;var u=n(c,e);if(null===u){u=n(e,c);if(null===u){l=-1;break b}u*=-1}n=l-u;!(l<u)||this.w.R&&p?n>=
e.length&&(e.length=0,Array.prototype.push.apply(e,c),n=l):(l=c[l],0<e.length&&(e[0].zf=!0),e.splice(0,0,l),n=0);l=n}if(0>l)F(xk,"No match was found using "+k.vj);else{c=l;break a}}c=-1}!(0>c)||this.w.R&&b||(F(xk,"New segments are appended after current"),0<e.length&&(e[0].zf=!0),e.splice(0,0,d),c=0);0>c?(b=this.w.c[0],b=(this.Ra-c)*b.duration+b.Aa):b=d.Aa-e[c].Aa;e=q(e);for(d=e.next();!d.done;d=e.next())d.value.Aa+=b;this.Ra=0>c?0:c;this.w=a}};
h.next=function(){var a=this.Ra+1;return a<this.w.c.length?(this.Ra=a,!0):!1};h.Ib=function(){return!this.w.R&&this.Ra==this.w.c.length-1};h.Da=function(){var a=this.w.c,b=a[0].Aa,c=a.length-1;a=a[c].Aa+a[c].duration;this.w.R&&(a-=3*this.w.xg,a<b&&(a=b));return{start:b,end:a}};
h.seek=function(a){var b=this.Da();if(!b)return null;for(var c=this.w.c,d=q(c),e=d.next();!e.done;e=d.next())e.value.$=!1;a<b.start&&(a=b.start);a>b.end&&(a=b.end);for(b=c.length-1;0<=b;b--)if(a>=c[b].Aa)return this.Ra=b,c[this.Ra].$=!0,a;return null};var yk=function(a){return 0>a.Ra?null:a.w.c[a.Ra]},xk=C("cast.player.hls.Iterator");var zk=function(a,b){this.oi=Q(a,1952867444,void 0,!0).le()/b};zk.prototype.le=function(){return this.oi};var Ak=function(a,b,c,d){ok.call(this,a,b);cast.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.Wh,this.Th)};m(Ak,ok);var X=function(a,b,c,d){D.call(this);this.a=a;this.L=c;this.ua=d;this.rk=b;this.Y=null;this.sb=new vk(1==this.a.preferSequenceNumberForPlaylistMatching);this.Kj=this.zl.bind(this);this.Ri=this.Tk.bind(this);this.ii=this.kg=null;this.Zj=-1;this.Le=null;this.g=new H;zd(this.g);E(this.g,"success",this.yl,!1,this);E(this.g,"error",this.Gj,!1,this);E(this.g,"timeout",this.Gj,!1,this);this.v=new xf;this.v.setResponse=this.$i.bind(this);this.ze=this.Qe=this.oj=this.Kb=this.ge=this.ui=null;this.Ge=this.$f=
!1;this.Zd=!0;this.oa=null;this.Ck={};this.Ed=this.Ma=this.nc=null;this.zj=new Map;this.yd=-1};m(X,D);h=X.prototype;h.H=function(){this.reset();this.g.J()};h.reset=function(){this.Zd=!0;this.nc=this.oa=this.Le=null;this.g.abort();this.Qe&&(this.Qe.cancel(),this.Qe=null);this.ge&&(this.ge.cancel(),this.ge=null);null===this.Ma||clearTimeout(this.Ma)};h.zl=function(a){this.Qe=null;this.ze=a;this.Ma=setTimeout(this.Ri,0)};h.yl=function(a){this.$i(Kd(a.target))};
h.$i=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Ka(a))){a.then(function(a){Bk(b,a)});return}Bk(this,a)}else this.a.U(313)};var Bk=function(a,b){a.Qe=a.a.sh?new Ak(a.a,a.Kj,b,a.ui):new uk(a.a,a.Kj,b)};X.prototype.Gj=function(){this.a.U(314,new yf(this.v.url,this.g.Lb,Id(this.g),this.g.getAllResponseHeaders(),Kd(this.g)))};
X.prototype.Tk=function(){var a=this.Le.info,b=this.Le.data;a&&a.Qc&&this.ze&&b&&(G(Ck,"decrypt segment"),this.ge=new pk(this.a,this.Kl.bind(this,a),this.ze,a.Qc,b),this.Ma=this.Le=null)};X.prototype.Kl=function(a,b){this.Re(a,new Uint8Array(b))};
X.prototype.Re=function(a,b){G(Ck,"process segment");this.ge=null;if(null!=this.ua)switch(this.ua){case 0:var c=new jj(b,this.a.processMetadata,a.Aa);break;case 1:c=Dk(this,a,b)}if(null!=this.L)switch(this.L){case 2:case 6:case 1:switch(this.L){case 2:c=nk;break;case 6:c=tk;break;default:c=jk}b=new c(this.Y.X.codecs,b,a.Aa,this.a.processMetadata,this.a.U.bind(this.a),this.a.decodeContentId);var d=a.zf||a.$;c=this.Ck;var e=a.ac||void 0,f=a.Qc||void 0,g=c.endOfLastSegment;g=d||!t(g)?b.fb:g;if(b.parse(g)){b.fb=
g;c.endOfLastSegment=g+b.og/b.sampleRate*b.je.length;c=new Cg(2*b.yf.length);d&&(d=null,e&&(d={systemId:Lf,url:null,ne:Hj(e,b.Sk),Ae:new Jf(Qf(e.ye),!1),Kk:f,Vf:f?f.length:16,scheme:1667392371}),G(hk,"Built AudioMoov with objectType(0x"+b.Di.toString(16)+") and sampleRate("+b.sampleRate+")"),(new Yj(d,b.Cd(),b.Di,b.sampleRate,b.fe)).i(c));f=g*b.Cd();d=b.og/b.sampleRate*b.Cd();g=b.je;if(e){e=b.je;for(var k=[],l=0;l<e.length;l++){var n=e[l].length;if(0==n%16)k.push({lk:[{Tg:16,Ug:n-16}]});else{var p=
n%16;k.push({lk:[{Tg:16,Ug:n-16-p},{Tg:p,Ug:0}]})}}e=k}else e=void 0;(new ak(d,f,g,e)).i(c);(new Ej(b.je)).i(c);c=Bg(c);Wg(c)}else c=null;e=c;if(!e){this.a.U(315);return}c=b;b=e;break;case 4:break;case 7:c=Dk(this,a,b);break;default:c=new jj(b,this.a.processMetadata,a.Aa)}if(a.zf||a.$)this.oa=null,a.$=!1;a={time:a.Aa,duration:a.duration};e=c?c.le():a.time;if(c=null===this.oa&&Infinity!=e)G(Ck,"start: "+e),this.oa=4==this.L?0:e,this.nc=a,this.rk&&(f=this.rk,f.fa&&f.fa.$(e,a));e=this.ii;this.ii=null;
Zh(e,b,a,this.oa||0,c)};var Fk=function(a){a.a.sh&&!a.ui?cast.__platform__.cryptokeys.getKeyByName("CKP").then(function(b){a.ui=b;Ek(a)}):Ek(a)},Ek=function(a){a.ze=null;a.v.url=a.Kb;a.v.skipRequest=!1;if(a.a.updateLicenseRequestInfo&&(a.a.updateLicenseRequestInfo(a.v),a.v.skipRequest))return;a.g.be=a.v.withCredentials;a.g.Yb=Math.max(0,a.v.timeoutInterval);a.g.send(a.v.url,void 0,void 0,a.v.headers)};h=X.prototype;
h.processSegment=function(a,b,c){this.ii=c;this.Le={data:b,info:a};(c=a.qj)?this.Kb!=c||null===this.ze?(this.Kb=c,Fk(this)):this.Ma=setTimeout(this.Ri,0):this.Re(a,b)};h.updateSegmentRequestInfo=function(a){var b=yk(this.sb);if(b){var c;this.Ge?(this.Ge=!1,this.Ed=c=b.Ee,b=this.Y.O.Ih.get(c),c=b.Cb,b=b.url):(a.vc=b,this.Zd&&(b.$=!0,this.Zd=!1),a.interval=this.getSegmentInterval(),c=b.Cb,b=b.url);c&&(a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end);a.url=b}};
h.getSegmentInterval=function(){var a=yk(this.sb);return a?{time:a.Aa,duration:a.duration}:{time:0,duration:0}};h.Da=function(){return this.sb.Da()};h.Ib=function(){return this.sb.Ib()};var Gk=function(a){var b=yk(a.sb);if(b.ni||b.ac&&b.ac.ye!=a.oj&&(0===a.L||0===a.ua))a.$f=!0;b.Ee!==a.Ed&&(a.Ge=!0)};X.prototype.pc=function(){var a=this.sb.next();a&&Gk(this);return a};X.prototype.seek=function(a){a=this.sb.seek(a);x(a)&&Gk(this);return a};
X.prototype.Je=function(){this.yd=this.Y.duration;Hk(this,this.Y.O)};var Hk=function(a,b){a.sb.update(b,a.a.mediaElement&&a.a.mediaElement.paused);a.kg&&(gi(a.kg),a.kg=null)};X.prototype.sg=function(a,b,c){this.Zj=a;this.kg=b;this.Zd=!0;this.Y&&this.Y.O&&this.Y.O.R&&this.Y.Fa();this.Y=c;c.O?Hk(this,c.O):c.load()};X.prototype.getQualityLevel=function(){return this.Zj};X.prototype.$=function(a,b){this.Zd=!0;this.oa=a;this.nc=b};
X.prototype.rg=function(a){this.Y.O.Ih.get(this.Ed).Ii=a;this.zj.set(this.Ed,Q(a,1835296868,void 0,!0).Yd)};var Dk=function(a,b,c){a=a.zj.get(b.Ee);if(!t(a))throw Error("Unable to derive timescale");return new zk(c,a)};
X.prototype.ke=function(){var a=yk(this.sb),b=a.Ee;if(b&&b!==this.Ed){if(a=this.Y.O.Ih.get(b).Ii)this.Ge=!1,this.Ed=b;return a}if(a.ni)return this.$f=!1,(b=Rf("hls-sample-aes-init-segment"))&&b.clear_leader?Ja(window.atob(b.clear_leader)):null;if(!a.ac||!a.Qc)return null;this.$f=!1;this.oj=a.ac.ye;b=a.ac;a=a.Qc;var c=this.a.decodeContentId;var d=(d=Rf("hls-sample-aes-init-segment"))?{Yj:d.pssh_offset,nj:d.key_id_offset,mj:d.iv_offset,mk:Ja(window.atob(d.template))}:{Yj:196,nj:530,mj:548,mk:new Uint8Array(Jj)};
var e=d.mk;e.set(Ij(b,c),d.Yj);e.set(Qf(b.ye),d.nj);e.set(a,d.mj);return e};X.prototype.Df=function(){var a=yk(this.sb);return a?a.uk:null};X.prototype.Hd=function(){return this.$f||this.Ge};X.prototype.getDuration=function(){return this.yd};var Ck=C("cast.player.hls.Adaptation"),Ik=function(a){X.call(this,a,null,3)};m(Ik,X);Ik.prototype.pc=function(){return null===this.oa||null===this.nc?!1:X.prototype.pc.call(this)};
Ik.prototype.seek=function(a){return null===this.oa||null===this.nc?null:X.prototype.seek.call(this,a)};Ik.prototype.processSegment=function(a,b,c){var d={time:a.Aa,duration:a.duration},e=!1;if(null===this.oa||null===this.nc)b=new Uint8Array(0);else if(this.Zd||a.$)d=this.nc,e=!0;Zh(c,b,d,this.oa||0,e)};var Jk=function(a,b,c){this.Fk=new J(a);this.L=b;this.ua=c;this.f=0;this.xe=this.Jg=this.nf=this.Kb=this.Ac=this.Za=null;this.hh=this.xc=0;this.fh=!1;this.Qd=null;this.cj=this.bj=!1;this.yj=new Map;this.Hh=this.Xf=null;this.w={jj:!1,R:!0,eg:null,ig:"none",qh:!1,xg:0,si:0,c:[],Wb:[],Aj:[],Ih:this.yj}};
Jk.prototype.parse=function(a){a=q(a.split("\n"));for(var b=a.next();!b.done;b=a.next())if(!Kk(this,b.value))return F(Lk,"failed to parse HLS playlist"),this.w=null;if(this.bj&&this.cj)for(a=0;a<this.w.Wb.length;)b=this.w.Wb[a].codecs,Mk(this.w.Wb[a].mimeType,b)?(F(Lk,"filtered out "+b+" stream"),this.w.Wb.splice(a,1)):a++;if(0<this.w.c.length&&(a=this.w.c[0],!a.ac))for(b=1;b<this.w.c.length;b++)this.w.c[b].ac&&(a.ni=!0);return this.w};
var Mk=function(a,b){return 0<=a.indexOf("audio")||0>b.indexOf(",")&&(0==b.indexOf("mp4a.")||"ac-3"==b)?!0:!1},Nk=function(a,b){var c=new J(b);c.Pb||(b=a.Fk.resolve(c).toString());return b},Kk=function(a,b){b=b.trim();if(!b)return!0;if("#"!=b[0]){if(3!=a.f&&4!=a.f)Ok(a,"URI"),a=!1;else{b=Nk(a,b);if(3==a.f){a.Za.gg=a.Qd;null!==a.Qd&&(a.Qd+=1E3*a.Za.duration);if(a.Kb||a.nf||a.Jg){a.Za.qj=a.Kb;a.Za.ac=a.nf;a.Za.uk=a.Jg;var c=a.Za;if(a.xe){var d=a.xe;for(var e=new Uint8Array(16),f=15,g=d.length;0<g;g-=
2,f--)e[f]=parseInt(1<g?d.substr(g-2,2):d.substr(0,1),16);d=e}else{d=a.Za.ki;e=new Uint8Array(16);for(f=15;0<=f;f--)e[f]=d&255,d>>=8;d=e}c.Qc=d}a.Xf&&(a.Za.Ee=a.Xf);a.Za.url=b;a.w.c.push(a.Za)}else a.Ac.url=b,a.w.Wb.push(a.Ac);a.f=2;a=!0}return a}c="#EXTINF:";if(0==b.indexOf(c))return d=b.indexOf(","),b=b.substr(c.length,(0<=d?d:b.length)-c.length),2!=a.f&&1!=a.f?(Ok(a,"EXTINF"),a=!1):(b=parseFloat(b),a.Za={ki:a.xc,url:"",Cb:null,Aa:a.hh,duration:b,zf:a.fh,gg:a.Qd,qj:null,ac:null,uk:null,Qc:null,
$:!1,ni:!1,Ee:null},a.w.si+=b,a.hh+=b,a.fh=!1,a.xc+=1,a.f=3,a=!0),a;c="#EXT-X-MAP:";if(0==b.indexOf(c))return Pk(a,b.substr(c.length));c="#EXT-X-KEY:";if(0==b.indexOf(c))return Qk(a,b.substr(c.length));if(0==b.indexOf("#EXT-X-DISCONTINUITY-SEQUENCE"))return 1!=a.f?(Ok(a,"EXT-X-DISCONTINUITY-SEQUENCE"),a=!1):a=!0,a;if(0==b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=a.f&&1!=a.f?(Ok(a,"EXT-X-DISCONTINUITY"),a=!1):(a.fh=!0,a.f=2,a=!0),a;c="#EXT-X-PROGRAM-DATE-TIME:";if(0==b.indexOf(c))return b=b.substr(c.length),
2!=a.f&&3!=a.f&&1!=a.f?(Ok(a,"EXT-X-PROGRAM-DATE-TIME"),a=!1):(c=Date.parse(b),isNaN(c)?(F(Lk,"cannot parse #EXT-X-PROGRAM-DATE-TIME: "+b),a=!1):(a.Qd=c,a=a.w.qh=!0)),a;c="#EXT-X-BYTERANGE:";if(0==b.indexOf(c))return b=b.substr(c.length),3!=a.f?(Ok(a,"EXT-X-BYTERANGE"),a=!1):(b=Rk(a,b),a.Za.Cb=b,a.Hh=b.end,a=!0),a;if(0==b.indexOf("#EXTM3U"))return 0!=a.f?(Ok(a,"EXTM3U"),a=!1):(a.f=1,a=!0),a;c="#EXT-X-PLAYLIST-TYPE:";if(0==b.indexOf(c)){b=b.substr(c.length);if(1!=a.f)Ok(a,"EXT-X-PLAYLIST-TYPE"),a=
!1;else{if("EVENT"==b||"VOD"==b)a.w.eg=b;a=!0}return a}if(0==b.indexOf("#EXT-X-ENDLIST"))return 2!=a.f&&1!=a.f?(Ok(a,"EXT-X-ENDLIST"),a=!1):(a.w.R=!1,a=!0),a;c="#EXT-X-STREAM-INF:";if(0==b.indexOf(c)){b=b.substr(c.length);if(1!=a.f&&2!=a.f)Ok(a,"EXT-X-STREAM-INF"),a=!1;else if(g=b.match("BANDWIDTH=([0-9]+)")){c=parseInt(g[1],10);d="video/mp2t";(e=Sk(b,'CODECS="([^"]*)"'))?Mk(d,e)?(a.bj=!0,f=a.L,7==f||1==f||2==f||6==f?d="audio/mp4":4==f&&(d="audio/mpeg",e="")):(a.cj=!0,e=e.replace("mp4a.40.34","mp4a.6B"),
1==a.ua&&(d="video/mp4")):e="avc1.4D401E,mp4a.40.2";f={width:null,height:null};if(g=b.match("RESOLUTION=(\\d+x\\d+)"))g=g[1].split("x"),2===g.length&&(f.width=parseInt(g[0],10),f.height=parseInt(g[1],10));a.Ac={kk:"variant",mimeType:d,za:c,codecs:e,di:f,bl:Sk(b,"FRAME-RATE=([0-9]+)"),Ec:[Sk(b,'AUDIO="([^"]*)"')],cm:Sk(b,'SUBTITLES="([^"]*)"'),Ik:Sk(b,'CLOSED-CAPTIONS="([^"]*)"'),url:""};a.w.jj=!0;a.f=4;a=!0}else F(Lk,"no BANDWIDTH attribute"),a=!1;return a}c="#EXT-X-TARGETDURATION:";if(0==b.indexOf(c))return b=
b.substr(c.length),1!=a.f?(Ok(a,"EXT-X-TARGETDURATION"),a=!1):(a.w.xg=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA-SEQUENCE:";if(0==b.indexOf(c))return b=b.substr(c.length),1!=a.f?(Ok(a,"EXT-X-MEDIA-SEQUENCE"),a=!1):(a.xc=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA:";if(0==b.indexOf(c))a:if(b=b.substr(c.length),2!=a.f&&1!=a.f)Ok(a,"EXT-X-MEDIA"),a=!1;else{e=Sk(b,"TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)");switch(e){case "SUBTITLES":c="webvtt";d="text/vtt";break;case "CLOSED-CAPTIONS":c="webvtt";d="text/mp2t";
break;case "AUDIO":c=Sf(a.L);d="audio/mp4";0==a.L&&(d="video/mp2t");break;default:a=!0;break a}f=null;g=b.match('URI="([^"]*)"');null===g||(f=Nk(a,g[1]));var k=!1;g=b.match('DEFAULT="?(YES|NO)"?');null===g||(k="YES"==g[1]);if(f||"CLOSED-CAPTIONS"==e)b={kk:"media",type:e,mimeType:d,codecs:c,url:f,name:Sk(b,'NAME="([^"]*)"'),language:Sk(b,'LANGUAGE="([^"]*)"'),kl:k,groupId:Sk(b,'GROUP-ID="([^"]*)"')},a.w.Aj.push(b);a=!0}else a=!0;return a},Ok=function(a,b){F(Lk,"unexpected "+b+": state "+a.f)},Rk=function(a,
b){var c=b.split("@");b=parseInt(c[0],10);if(1<c.length)a=parseInt(c[1],10);else if(null!=a.Hh)a=a.Hh+1;else return F(Lk,"Expected EXT-X-BYTERANGE to either have offset or to come after another EXT-X-BYTERANGE"),null;return{start:a,end:a+b-1}},Pk=function(a,b){if(1!=a.f&&2!=a.f)return Ok(a,"EXT-X-MAP"),!1;var c=Sk(b,'URI="([^"]*)"');if(!c)return F(Lk,"expected #EXT-X-MAP to have URI: "+b),!1;c=Nk(a,c);b=Sk(b,'BYTERANGE="([^"]*)"');var d=null;if(b&&(d=Rk(a,b),!d))return!1;c={url:c,Cb:d,Ii:null};b=
c.Cb;d="url="+c.url+",byterange=";a.Xf=b?""+d+b.start+"-"+b.end:d+"all";a.yj.set(a.Xf,c);return!0},Qk=function(a,b){if(2!=a.f&&3!=a.f&&1!=a.f)return Ok(a,"EXT-X-KEY"),!1;var c;if(0<=b.indexOf("METHOD=AES-128")){if(c=b.match('URI="([^"]*)"'))a.Kb=Nk(a,c[1]);a.xe=Sk(b,"IV=0[x|X]([0-9a-fA-F]+)");a.nf=null;a.w.ig="aes_128";return!0}if(0<=b.indexOf("METHOD=SAMPLE-AES")){c=b.match('KEYFORMAT="([^"]*)"');if(!c)return F(Lk,"Missing KEYFORMAT for SAMPLE-AES"),!0;var d=c[1];if("com.widevine"!=d&&"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"!=
d)return F(Lk,"KEYFORMAT "+d+" is not supported for SAMPLE-AES"),!0;if(1!=Rf("enable-hls-sample-aes"))return F(Lk,"SAMPLE-AES not support by Cast platform"),!1;if(c=b.match('URI="data:.*?,(.*?)"'))if(c=c[1],"com.widevine"==d){a:{try{var e=JSON.parse(window.atob(c))}catch(g){e=!1;break a}var f=e.key_ids;f&&Array.isArray(f)&&0!=f.length?(a.nf={Ol:e.provider,Mk:e.content_id,ye:f[0]},e=!0):(F(Lk,"no Widevine key ID"),e=!1)}if(!e)return!1}else{if(e="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"==d){a:{try{f=
window.atob(c)}catch(g){e=!1;break a}a.Jg=Ja(f);e=!0}e=!e}if(e)return!1}a.xe=Sk(b,"IV=0[x|X]([0-9a-fA-F]+)");a.Kb=null;a.w.ig="widevine";return!0}if(0<=b.indexOf("METHOD=NONE"))return a.Kb=null,a.nf=null,a.Jg=null,a.xe=null,!0;F(Lk,"unsupported KEY");return!1},Sk=function(a,b){return(a=a.match(b))?a[1]:null},Lk=C("cast.player.hls.Parser");var Tk=function(a,b,c,d,e,f){f=void 0===f?!0:f;D.call(this);this.a=a;this.Ne=b;this.Mb=new ti(this);this.pa=null;this.gm=this.Fg.bind(this);this.X=c;this.duration=-1;this.O=null;this.L=d;this.ua=e;this.ji=f;this.we=this.Of=void 0;this.ah=0};m(Tk,D);h=Tk.prototype;h.H=function(){this.Mb.J();null!==this.pa&&(clearTimeout(this.pa),this.pa=null);D.prototype.H.call(this)};h.load=function(){this.Fg()};
h.Fa=function(){this.duration=-1;this.O=null;this.Mb.abort();null!==this.pa&&(clearTimeout(this.pa),this.pa=null)};h.Fg=function(){this.X.url?(G(Uk,"update: "+this.X.url),this.Mb.Fd(this.a,this.X.url)):Mc(Uk,"cannot load stream without url")};
h.tc=function(a){if(a){var b=new Jk(this.X.url,this.L,this.ua),c=this.O;(this.O=b.parse(a))?(this.O.R&&(this.we=!1,"EVENT"==this.O.eg&&(this.Of=!1)),c&&c.R&&(a=this.O,c.c[0].url!==a.c[0].url||c.c[c.c.length-1].url!==a.c[a.c.length-1].url||c.c[0].Cb!==a.c[0].Cb||c.c[c.c.length-1].Cb!==a.c[a.c.length-1].Cb?(this.ah=0,"EVENT"!=c.eg&&(this.O.c.length==c.c.length?this.Of=!0:this.O.c.length>c.c.length&&(this.Of=!1)),this.we=!this.O.R):(this.ah++,3==this.ah&&(this.we=!0))),this.O.R&&!this.we?(c=1E3*this.O.xg,
this.pa=setTimeout(this.gm,c),G(Uk,"update in: "+c)):this.duration=this.O.si,this.Ne.Je(this)):this.a.U(412)}else this.a.U(312,ri(this.Mb))};var Uk=C("cast.player.hls.Playlist");var Vk=function(a,b,c,d,e){D.call(this);this.a=a;this.Mb=new ti(this);this.De=b;this.Ne=c;this.L=d;this.ua=e;this.Ea=[];this.Ua=[];this.$a=[];this.ae=[];this.Gb={}};m(Vk,D);Vk.prototype.H=function(){this.Mb.J();for(var a=q(this.Ua),b=a.next();!b.done;b=a.next())b.value.J();this.Ua.length=0;this.$a.length=0;a=q(this.Ea);for(b=a.next();!b.done;b=a.next())b.value.J();this.Ea.length=0;this.ae=[];this.Gb={};D.prototype.H.call(this)};Vk.prototype.load=function(){this.Mb.Fd(this.a,this.a.url)};
Vk.prototype.tc=function(a){if(a){var b=this.Mb.jd;if(b)if(a=(new Jk(b,this.L,this.ua)).parse(a)){if(a.jj){Wk(a);if(0===a.Wb.length){this.a.U(411);return}b={};for(var c=q(a.Wb),d=c.next();!d.done;d=c.next())if(d=d.value,t(b[d.url]))this.Ea[b[d.url]].X.Ec=this.Ea[b[d.url]].X.Ec.concat(d.Ec);else{var e=new Tk(this.a,this.Ne,d,this.L,this.ua);this.Ea.push(e);b[d.url]=this.Ea.length-1}for(b=0;b<this.Ea.length;b++)c=this.Ea[b].X,c.Ec.length&&(this.ae[b]||(this.ae[b]=[]),this.ae[b]=this.ae[b].concat(c.Ec))}else{switch(this.L){case 1:case 7:c=
"mp4a.40.2";d="audio/mp4";break;case 2:c="ac-3";d="audio/mp4";break;case 6:c="mp4a.a6";d="audio/mp4";break;case 4:c="";d="audio/mpeg";break;case 5:c="mp4a.40.2";d="video/mp2t";break;default:c="avc1.4D401E,mp4a.40.2",d="video/mp2t"}1==this.ua&&(d="video/mp4");b=new Tk(this.a,this.Ne,{kk:"variant",mimeType:d,za:0,codecs:c,di:{width:null,height:null},bl:null,Ec:[],cm:null,Ik:null,url:b},this.L,this.ua);this.Ea.push(b)}a=q(a.Aj);for(b=a.next();!b.done;b=a.next())b=b.value,c=0,"AUDIO"==b.type&&t(this.L)&&
(c=this.L),c=new Tk(this.a,this.Ne,b,c),"CLOSED-CAPTIONS"==b.type&&this.a.onCue||this.Ua.push(c);Xk(this);this.De.onManifestReady()}else this.a.U(411)}else this.a.U(311,ri(this.Mb))};
var Yk=function(a){for(var b={},c=0;c<a.Ua.length;c++){var d=a.Ua[c].X;if("AUDIO"==d.type&&t(d.groupId)){var e=d.groupId,f={};e in b||(b[e]=f);b[d.groupId][d.language+d.name]=c}else a.$a.push(gb(a.Ua[c]))}return b},Xk=function(a){var b=Yk(a),c=[];for(e in b)b.hasOwnProperty(e)&&c.push(b[e]);b=Object.keys(b);if(0==c.length)a.$a=a.Ua;else{var d=Object.keys(c[0]).length;var e=0;for(var f=1;f<c.length;f++){var g=Object.keys(c[f]).length;g<d&&(d=g,e=f)}0!=e&&F(Zk,"Group has different number of tracks.");
for(var k in c[e])a.Gb[k]=[c[e][k]];for(k=0;k<c.length;k++)if(k!=e){d=c[k];f={};for(var l in d)a.Gb[l]?a.Gb[l].push(d[l]):(f.eh=b[k],a.Ea.every(function(a){return function(b){return b.X.Ec.includes(a.eh)}}(f))&&(a.Gb[l]=[d[l]])),f={eh:f.eh}}c=[];for(var n in a.Gb)a.Gb[n].sort(),c.push(gb(a.Ua[a.Gb[n][0]]));a.$a.unshift.apply(a.$a,oa(c))}},$k=function(a,b){var c=a.$a[b],d=c.X;if("AUDIO"!=d.type){if(a=a.Ua.find(function(a){return a.X==d}))return a}else for(var e=q(a.Gb[d.language+d.name]),f=e.next();!f.done;f=
e.next())if(f=f.value,a.Ua[f].ji)return a.Ua[f];F(Zk,"No playlist is selectable with "+b+".");return c},al=function(a,b){var c=a.ae[b];a.Ua.forEach(function(a){"AUDIO"==a.X.type&&(a.X.groupId&&c.includes(a.X.groupId)?a.ji=!0:a.ji=!1)})},Wk=function(a){a.Wb=a.Wb.filter(function(a){if(Wf){var b=a.codecs;var d=a.mimeType,e=a.di.width;a=a.di.height;x(e)&&x(a)&&2160<=a&&(b||"audio/mpeg"!=d)?(d=d+"; codecs="+b,e&&a&&(d+="; width="+e+"; height="+a),Od(b)&&(d+="; eotf=smpte2084"),b=Wf(d),G(Zk,"canDisplayType("+
d+"): "+b)):b=!0}else b=!0;return b})},Zk=C("cast.player.hls.MasterPlaylist");var Y=function(a,b,c){this.a=a;this.L=b;this.ua=void 0===c?0:c;this.ma=this.vf=this.xj=this.De=null;this.tb=new X(a,this,void 0,this.ua);this.fa=this.da=null;this.zh=this.Ch=void 0};Y.prototype.load=function(a){this.vf=this.xj=this.De=a;this.ma=new Vk(this.a,this,this,this.L,this.ua);this.ma.load();B("Cast.MPL.HlsVideoSegmentFormat",this.ua)};Y.prototype.Fa=function(){this.tb.J();this.da&&(this.da.J(),this.da=null);this.fa&&(this.fa.J(),this.fa=null);this.ma&&(this.ma.J(),this.ma=null)};
Y.prototype.onManifestReady=function(){var a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0);a=!0;for(var b=q(this.ma.Ea),c=b.next();!c.done;c=b.next())if(c=c.value,!Mk(c.X.mimeType,c.X.codecs)){a=!1;break}a&&t(this.L)&&(a=this.tb,a.L=this.L,a.ua=void 0);if(this.a.onManifestReady)this.a.onManifestReady();this.De.onManifestReady();this.De=null};
Y.prototype.getDefaultAudioStreamIndex=function(){for(var a=this.ma.$a,b=-1,c=0;c<a.length;c++){var d=a[c].X;if("AUDIO"==d.type&&d.kl)if("mp4a.a5"==d.codecs){b=c;break}else-1==b&&(b=c)}return-1<b?b+1:b};Y.prototype.getDefaultAudioStreamIndex=Y.prototype.getDefaultAudioStreamIndex;Y.prototype.getStreamCount=function(){return this.ma.$a.length+1};Y.prototype.getStreamCount=Y.prototype.getStreamCount;
Y.prototype.enableStream=function(a,b,c){if(0<a){a=$k(this.ma,a-1);var d=a.X.type;"AUDIO"==d?this.da&&this.da.Y==a||(this.da&&(this.da.J(),this.da=null),b&&Nf("audio/mp4",Sf(this.L))&&(this.da=new X(this.a,this,t(this.L)?this.L:1),this.da.Y=a,c&&c.ie())):"SUBTITLES"==d&&(this.fa&&(this.fa.J(),this.fa=null),b&&(this.fa=new Ik(this.a),this.fa.Y=a,this.fa.$(this.tb.oa,this.tb.nc)))}};Y.prototype.enableStream=Y.prototype.enableStream;Y.prototype.isStreamEnabled=function(a){return null!==bl(this,a)};
Y.prototype.isStreamEnabled=Y.prototype.isStreamEnabled;var bl=function(a,b){0==b?a=a.tb:(b=$k(a.ma,b-1),a=null===a.da||a.da.Y!=b?null===a.fa||a.fa.Y!=b?null:a.fa:a.da);return a};Y.prototype.getQualityLevel=function(a){return bl(this,a).getQualityLevel()};Y.prototype.getQualityLevel=Y.prototype.getQualityLevel;
Y.prototype.getStreamInfo=function(a){var b=[],c;if(0==a){b=[];a=this.ma.Ea;for(c=0;c<a.length;c++)b.push(a[c].X.za);a=this.ma.Ea[0].X;c=a.codecs;if(this.da)for(var d=a.codecs.split(","),e=0;e<d.length;e++)if(0==d[e].indexOf("avc1.")){c=d[e];break}}else a=this.ma.$a[a-1].X,b.push(0),c=a.codecs;return new zf(c,a.mimeType,b,a.language,a.name,null)};Y.prototype.getStreamInfo=Y.prototype.getStreamInfo;h=Y.prototype;
h.sg=function(a,b,c,d){var e=bl(this,a),f=0==a?this.ma.Ea[b]:$k(this.ma,a-1);if(0==a){al(this.ma,b);if(this.da&&this.da.Y)a:{for(a=0;a<this.ma.$a.length;a++){var g=this.ma.$a[a].X;if("AUDIO"==g.type&&g.language+g.name==this.da.Y.X.language+this.da.Y.X.name){a+=1;break a}}a=-1}else a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0,d);G(Gf,"Switched to media "+a+".")}e.sg(b,c,f)};h.reset=function(a){bl(this,a).reset()};h.Da=function(a){return bl(this,a).Da()};
h.Je=function(a){t(this.Ch)||(Ea("Cast.MPL.Live",a.O.R),this.Ch=a.O.R);t(this.zh)||(this.zh="EVENT"==a.O.eg?!0:!1);this.tb.Y==a?this.tb.Je():null!==this.da&&this.da.Y==a?this.da.Je():null!==this.fa&&this.fa.Y==a&&this.fa.Je();if(this.vf){var b=a.O.ig;switch(b){case "widevine":this.vf.He([b]);break;case "aes_128":this.a.sh&&(b="aes_128_ckp",a.O.ig=b);Wd(b,2);break;case "none":break;default:F(Gf,"Unexpected HLS protection type")}this.vf=null}this.xj.Uh()};h.updateLicenseRequestInfo=function(){};
h.getDuration=function(){return this.tb.getDuration()};h.seek=function(a,b){return bl(this,a).seek(b)};h.pc=function(a){return bl(this,a).pc()};h.isLiveStream=function(){return this.Ch||!1};h.isEventStream=function(){return this.zh||!1};h.isLiveSeekableRangeMovingWindow=function(){var a=this.tb.Y;return a?a.Of:void 0};h.isLiveDone=function(){var a=this.tb.Y;return a?a.we:void 0};h.Ib=function(a){return bl(this,a).Ib()};h.getSegmentInterval=function(a){return bl(this,a).getSegmentInterval()};
h.Hd=function(a){return bl(this,a).Hd()};h.rg=function(a,b){bl(this,a).rg(b)};h.ke=function(a){return bl(this,a).ke()};h.Df=function(a){return bl(this,a).Df()};h.updateSegmentRequestInfo=function(a,b){bl(this,a).updateSegmentRequestInfo(b)};h.processSegment=function(a,b,c){b.Oc?Zh(c,b.data,{time:0,duration:0},0,!0):bl(this,a).processSegment(b.vc,b.data,c)};h.Ef=function(){return 2};var el=function(a){this.R=new Ai("IsLive");this.Yk=new zi("DVRWindowLength");this.Bc=new zi("TimeScale");for(this.duration=new zi("Duration");a;){if("SmoothStreamingMedia"==a.nodeName){Fi(a.attributes,this);break}a=a.nextElementSibling}this.streams=[];this.wb=null;if(a)for(this.Bc.value||(this.Bc.value=1E7),a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("StreamIndex"==a.nodeName){var b=new cl(a,this.Bc.value);0<b.cb.length&&this.streams.push(b)}else"Protection"==a.nodeName&&(this.wb=new dl(a.firstElementChild))},
fl=function(a,b){U.call(this,a,b)};m(fl,U);fl.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4D40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "DFXP":case "TTML":this.value="ttml";break;default:this.value=null}};var gl=function(){T.call(this,"CodecPrivateData");this.Pe=this.fd=null};m(gl,T);
gl.prototype.parse=function(a){T.prototype.parse.call(this,a);a=a.split("00000001");3==a.length&&(this.fd=Qf(a[1]),this.Pe=Qf(a[2]))};var hl=function(){T.call(this,"CodecPrivateData");this.value=null};m(hl,T);hl.prototype.parse=function(a){T.prototype.parse.call(this,a);a&&(this.value=Qf(a))};var il=function(a){this.za=new zi("Bitrate");this.format=new fl("FourCC",a)},jl=function(a){il.call(this,"ttml");Fi(a.attributes,this)};m(jl,il);
var kl=function(a){il.call(this,"avc1.4D401E");this.width=new zi("MaxWidth");this.height=new zi("MaxHeight");this.lb=new gl;Fi(a.attributes,this)};m(kl,il);var ll=function(a){il.call(this,"mp4a.40.2");this.sampleRate=new zi("SamplingRate");this.Hk=new zi("Channels");this.lb=new hl;Fi(a.attributes,this)};m(ll,il);
var cl=function(a,b){this.type=new U("Type");this.url=new U("Url");this.name=new U("Name");this.language=new U("Language");Fi(a.attributes,this);this.Xb=0;switch(this.type.value){case "video":this.Xb=2;break;case "audio":this.Xb=1;break;case "text":this.Xb=3}this.c=[];this.cb=[];var c=new xg("0");for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("QualityLevel"==a.nodeName){var d=a;switch(this.Xb){case 2:d=new kl(d);break;case 1:d=new ll(d);break;case 3:d=new jl(d);break;default:d=null}d&&
d.format.value&&this.cb.push(d)}else if("c"==a.nodeName){var e=a;d=b;var f=e.attributes.getNamedItem("t");f&&c.reset(f.value);f=null;var g=-1;e.attributes.getNamedItem("d")&&(f=parseInt(e.attributes.d.value,10),g=f/d);e=(e=e.attributes.getNamedItem("r"))?parseInt(e.value,10):1;for(var k=0;k<e;k++)this.c.push({time:parseInt(c.toString(),10)/d,duration:g,Ob:new xg(c.toString()),offset:0,size:0,url:null}),null===f||c.add(f)}c=this.c.length-1;for(a=0;a<c;a++)if(d=this.c[a],f=this.c[a+1],0>d.duration){f=
f.Ob;g=d.Ob;if(f.ca==g.ca)f=0;else{if(!yg(f,g))throw Error("Value must be smaller than the current value");k=e=0;for(var l=1,n=0;n<f.ca.length;n++){var p=parseInt(f.ca.charAt(f.ca.length-1-n),10)-(n<g.ca.length?parseInt(g.ca.charAt(g.ca.length-1-n),10):0)-k;k=0>p?1:0;e+=(k?10+p:p)*l;l*=10}if(k)throw Error("Value must be smaller than the current value");if(e>Number.MAX_SAFE_INTEGER)throw Error("Difference lost precision");f=e}d.duration=f/b}},dl=function(a){this.systemId=new Ei("SystemID");Fi(a.attributes,
this);this.Te=null;this.systemId.value&&Kf.Eb(this.systemId.value)&&(this.Te=ui(Ja(window.atob(a.textContent.trim()))))};C("cast.player.smooth");var ml=function(a){S.call(this,a);this.Ue=null;this.hb=1E7};m(ml,S);
ml.prototype.Nh=function(a){var b=a.wb;if(b){b=b.Te;if(null===b){nl(this,"invalid protection info");return}this.Ue=b}a.Bc.value&&(this.hb=a.Bc.value);a.duration.value&&(this.duration=a.duration.value/this.hb);yi(this,1==a.R.value);this.R&&(this.duration=-1,a.Yk.value?(this.yh=!1,this.Bh=!0):(this.yh=!0,this.Bh=!1));b=Infinity;for(var c=q(a.streams),d=c.next();!d.done;d=c.next())d=d.value,(2==d.Xb||1==d.Xb)&&d.c[0].time<b&&(b=d.c[0].time);c=[];a=q(a.streams);for(d=a.next();!d.done;d=a.next()){var e=
d.value;if(0==e.cb.length){nl(this,"no quality levels");return}d=e.cb[0].format.value;if(null===d){nl(this,"unknown media format");return}var f=null;if(2==e.Xb)a:{f=b;var g=e.cb[0];if(null===g.lb.fd)nl(this,"no sps"),f=null;else{g=g.lb.fd[3].toString(16);1==g.length&&(g="0"+g);for(var k=ol(2,"video/mp4",d+g.toLowerCase(),e.language.value,e.name.value),l=0;l<e.cb.length;l++){g=e.cb[l];if(null===g.za.value||null===g.width.value||null===g.height.value||null===g.lb.fd||null===g.lb.Pe){nl(this,"invalid video quality");
f=null;break a}var n=this.Ue,p=this.hb,u=g.width.value,w=g.height.value,A=g.lb.fd,ua=g.lb.Pe,vb=new Cg;(new Zj(n,p,u,w,A,ua)).i(vb);k.A.push(pl(e.url.value,g.za.value,f,e.c,Bg(vb)))}f=k}}else if(1==e.Xb)a:{f=b;g=ol(1,"audio/mp4",d,e.language.value,e.name.value);for(k=0;k<e.cb.length;k++){l=e.cb[k];if(null===l.za.value||null===l.sampleRate.value){nl(this,"invalid audio quality");f=null;break a}(n=l.lb.value)||(n=l.Hk.value,n=Gg(2,l.sampleRate.value,null===n?2:n));w=n;if(null===w){nl(this,"invalid audio codec private data");
f=null;break a}n=this.Ue;p=this.hb;u=l.sampleRate.value;A="mp4a.a6"==d?166:64;ua=new Cg;(new Yj(n,p,A,u,w)).i(ua);g.A.push(pl(e.url.value,l.za.value,f,e.c,Bg(ua)))}f=g}else if(3==e.Xb){f=b;g=ol(3,"text/mp4",d,e.language.value,e.name.value,!1);for(k=0;k<e.cb.length;k++)g.A.push(pl(e.url.value,e.cb[k].za.value||0,f,e.c,null));f=g}f&&("mp4a.a6"==d?c.push(f):this.l.push(f))}Array.prototype.push.apply(this.l,c)};var nl=function(a,b){a.host.U(431,void 0,b,ql)};h=ml.prototype;
h.tc=function(a,b){if(a){b&&(this.uri=new J(b));var c=(new DOMParser).parseFromString(a,"text/xml");c=new el(c.firstChild);this.Nh(c);S.prototype.tc.call(this,a,b);this.Ue&&this.Zc.He(["playready"])}else this.host.U(331,ri(this.Tc))};h.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.Ue.url};h.ke=function(a){a=this.l[a];a.Wa=!1;return a.A[a.V].rb.data};
h.updateSegmentRequestInfo=function(a,b){S.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.l[a];a=c.index;c=c.A[c.V];var d=c.url;d=d.replace(rl,c.za.toString());d=d.replace(sl,c.c[a].Ob.toString());b.url=this.uri.resolve(new J(d)).toString().toString()};
h.processSegment=function(a,b,c){var d=this.l[a],e=b.data,f=b.interval;if(b.Oc)Zh(c,e,{time:f.time,duration:0},0,!1);else{if(this.R){var g=this.hb;var k=(k=Q(e,1970628964,Lg,!0))?k.ph(g):null;if(null===k||0==k.length)F(ql,"no new segments");else{a=this.l[a];g=a.A[a.V].c;if(0!=k.length){for(var l=k[0].time,n=0;n<g.length;n++){var p=g[n].time;if(p>l||.3>Math.abs(p-l)){g.splice(n,g.length-n);break}}k=q(k);for(l=k.next();!l.done;l=k.next())g.push(l.value)}tl(a)}if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=
q(b[1].split(/,|;/));for(a=b.next();!a.done;a=b.next())if(a=a.value.match("([^=]*)=([0-9]*)"))for(g=a[1],k=q(this.l),l=k.next();!l.done;l=k.next())if(l=l.value,g==l.name){g=l.A[0].c;a=a[2];k=parseInt(a,10)/this.hb;(0==g.length||g[g.length-1].time<k)&&g.push({time:k,duration:0,Ob:new xg(a),offset:0,size:0,url:null});break}b=q(this.l);for(l=b.next();!l.done;l=b.next())tl(l.value)}}b=f.time+d.A[d.V].P;if(3==d.type)e=(e=Q(e,1835295092))?O(e):null;else{a=b*this.hb;g=2==d.type;k=Yg(e);l=new Cg(e.byteLength+
1024);n=null;for(e=0;0<k.length;)switch(p=k.shift(),p.getName()){case 1836019558:n=Q(O(p),1970628964,Og,!0);(new ck(p,a,g)).i(l);break;case 1835295092:var u=null;n&&(u=n.gi?n.gi:new Uint8Array([]));e=u?u.length:0;(new Ej(u?[u,O(p)]:[O(p)])).i(l);break;default:p.i(l)}a=Bg(l);Wg(a,e);e=a}null===e?this.host.U(332,void 0,"no media data",ql):(Zh(c,e,f,b,d.$),d.$=!1)}};h.Ef=function(){return 3};
var ol=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,$:!0,A:[],language:d,Wa:t(f)?f:!0,codecs:c,index:-1,V:-1}},pl=function(a,b,c,d,e){return{url:a||"",za:b,P:c,c:d,D:null,I:null,rb:e?{url:null,ya:null,data:e}:null}},tl=function(a){var b=a.A[0].c,c=b.length-1E4;0<c&&a.index>=c&&(b.splice(0,c),a.index-=c)},ql=C("cast.player.smooth.Protocol"),rl=/{bitrate}|{Bitrate}/,sl=/{start time}|{start_time}/;var ul=function(a,b,c){this.Vb=a;this.ra=b;this.Lk=c;this.Sb=this.s=null;this.tk=!1;this.wg=new oe;this.ra.Wj=this.Jl.bind(this);this.ra.onError=this.Id.bind(this)};h=ul.prototype;h.load=function(){switch(this.ra.Xj){case 1:this.s=new Vi(this.ra);break;case 2:this.s=new Y(this.ra,this.ra.il);break;case 3:this.s=new ml(this.ra);break;default:F(li,"Unrecognized streaming protocol "+this.ra.Xj);return}G(li,"Pre caching "+this.ra.url);this.s.load(this)};
h.Fa=function(){this.s&&(this.s.Fa(),this.wg.clear(),this.tk=!0);this.Sb&&(this.Sb.J(),this.Sb=null)};h.Jl=function(a,b){var c=this;if(null===a)return null;kd(dg(this.Vb,b,a),function(a){F(li,a);vl(c)});return this.ra.processManifest?this.ra.processManifest(a):a};h.onManifestReady=function(){for(var a=this.s.getStreamCount(),b=0;b<a;b++)if(this.s.isStreamEnabled(b)){var c=this.s.getStreamInfo(b).mimeType;this.wg.enqueue(b,Md(c)?0:Ld(c)?1:2)}wl(this)};h.Uh=function(){};
var wl=function(a){if(a.wg.xa()||a.tk)vl(a);else if($d(a.Vb.ka))F(li,"Cache is full. Notifies Content Cache to move to next content."),vl(a);else{var b=a.wg.wd();a.s.enableStream(b,!0);a.Sb=new ki(a,a.ra,a.s,b,a);Xh(a.Sb)}};ul.prototype.kc=function(){return this.ra.vh};var mi=function(a,b){if(0<a.Sb.Ca(a.ra.vh)){var c=a.Vb,d=a.ra.url,e=a.s.getQualityLevel(b);c.isEnabled()&&(c.Ze.gc(d)||c.Ze.set(d,[]),c.Ze.get(d)[b]=e)}wl(a)};ul.prototype.sc=function(){this.Sb.$e()};ul.prototype.Id=function(){vl(this)};
var vl=function(a){a.s.Fa();a.Lk.Cj()};h=ul.prototype;h.He=function(){};h.Sh=function(){};h.Vh=function(){};h.Se=function(){};h.ie=function(){};h.Ph=function(){};h.bg=function(){};var li=C("cast.player.cache.ContentLoader");var xl=function(){};z("cast.player.cache.ContentCacheCallbacks",xl);xl.prototype.Cj=function(){};var yl=function(a){$f.call(this,a);this.Xj=a.protocolType||0;this.vh=a.initialTime||0;this.il=a.hlsSegmentFormat};m(yl,$f);z("cast.player.api.ContentCacheHost",yl);var zl=function(){this.Vb=bg.Bd();this.$g=new pe;this.dc=this.ud=null};z("cast.player.api.ContentCache",zl);
zl.prototype.load=function(a){if(!this.Vb.isEnabled())return F(Al,"Platform cache is not enabled"),Promise.reject(Error("Platform cache is not enabled"));this.Vb.reset();a=q(a);for(var b=a.next();!b.done;b=a.next())b=new ul(this.Vb,b.value,this),this.$g.enqueue(b);Bl(this);this.dc=id();return Promise.resolve(this.dc.Nl)};zl.prototype.load=zl.prototype.load;zl.prototype.Fa=function(){this.ud&&(this.ud.Fa(),this.ud=null);this.dc&&(this.dc.reject("Canceled"),this.dc=null)};zl.prototype.unload=zl.prototype.Fa;
var Bl=function(a){$d(a.Vb.ka)||a.$g.xa()?a.dc&&(a.ud=null,a.dc.resolve(),a.dc=null):(a.ud=a.$g.wd(),a.ud.load())};zl.prototype.Cj=function(){Bl(this)};zl.setCacheInsertCallback=function(a){bg.Bd().Rh=a};zl.setCacheHitCallback=function(a){bg.Bd().Qh=a};var Al=C("cast.player.api.ContentCache");var Dl=function(a){this.Qi=a;this.Sg=this.oa=this.Xd=this.mode=this.Zf=0;this.kh=new Cl(this);this.lh=new Cl(this);this.Hc=[];this.reset()},El=function(a){return a.Xd+a.oa};Dl.prototype.clear=function(){this.Sg=this.Xd=this.mode=0;this.Hc=[];this.reset()};Dl.prototype.reset=function(){this.mode=0;this.kh.reset(0);this.lh.reset(1)};
var Gl=function(a,b,c){if(255==a&&255==b||!a&&!b)return{qf:a,rf:b,result:0};a=Fl[a];b=Fl[b];if(a&128){if(!(b&128)&&0!=c.f&&c.Rg==b)return{qf:a,rf:b,result:1}}else if(b&128&&1<=a&&31>=a)return{qf:a,rf:b,result:2};return{qf:a,rf:b,result:3}},Il=function(a,b,c){255==b&&255==c||!b&&!c?(45==++a.Sg&&a.reset(),a.kh.Rc.clear(),a.lh.Rc.clear()):(a.Sg=0,Hl(a.kh,b,c))};
Dl.prototype.decode=function(){this.Hc.sort(function(a,b){var c=a.time-b.time;return 0==c?a.order-b.order:c});for(var a=0;a<this.Hc.length;a++){var b=this.Hc[a];this.Xd=b.time;0==b.type?Il(this,b.Ki,b.Li):1==b.type&&this.Zf&496&&Hl(this.lh,b.Ki,b.Li)}this.Hc.length=0};
var Fl=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],Jl=function(){this.Zb=0};Jl.prototype.set=function(a){this.Zb=a};
Jl.prototype.get=function(){return this.Zb};var Kl=function(){this.Rg=this.Fi=this.f=0};Kl.prototype.clear=function(){this.f=0};Kl.prototype.update=function(){this.f=2==this.f?1:0};Kl.prototype.matches=function(a,b){return 0!=this.f&&a==this.Fi&&b==this.Rg};var Ll=function(){this.timestamp=this.$b=0;this.ue=!1};Ll.prototype.reset=function(){this.timestamp=this.$b=0;this.ue=!1};
var Ml=function(a){this.jb=[];for(var b=0;15>=b;b++){this.jb[b]=[];for(var c=0;32>=c;c++)this.jb[b][c]=new Ll}this.T=this.qa=this.ta=0;this.style=new Jl;this.aa=a;this.Fe=0},Ol=function(a){for(var b="",c=El(a.aa),d=c,e=1;15>=e;++e){for(var f="",g=!1,k=1;32>=k;++k){var l=a.jb[e][k];if(0!=l.$b){var n=String.fromCharCode(l.$b);" "!=n&&(g=!0);f+=n;var p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3==a.style.Zb?(!l.ue&&" "==n&&g&&32>k&&Nl(a.aa.Qi,c,c,b?b+"\n"+f:f),l.ue=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&Nl(a.aa.Qi,
c,d,b)};Ml.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.jb[b][c].reset();this.Fe=a;this.T=0;this.qa=this.ta=1};
var Pl=function(a){return a.jb[a.ta][a.qa]},Sl=function(a,b,c){2<=b&&1<a.qa&&(--a.qa,Pl(a).$b=0);var d=Pl(a);d.timestamp=El(a.aa);a:{switch(b){case 0:b=Ql[(c&127)-32];break a;case 1:b=Rl[c&15];break a}b=0}d.$b=b;32>a.qa&&a.qa++},Tl=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.jb[b+e][f],k=a.jb[c+e][f];g.$b=k.$b;g.timestamp=k.timestamp;g.ue=k.ue}},Ul=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.jb[b+d][e].reset()},Vl=function(a){a.ta=0<a.T?a.T:1;a.qa=1;Ul(a,0,
15)},Ql=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Rl=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],Wl=function(a){this.aa=a;this.Yg=0;this.style=new Jl;this.Jh=new Ml(a);this.Kh=new Ml(a);this.fa=new Ml(a);
this.nb=this.Jh;this.Gd=this.Kh;this.N=this.nb};Wl.prototype.reset=function(a,b){this.Yg=b;this.style.set(2);this.nb=this.Jh;this.Gd=this.Kh;this.N=this.nb;var c=(a<<2)+(b<<1);this.Jh.reset(c);this.Kh.reset(c);this.fa.reset((a<<2)+(b<<1)+1)};
var Xl=function(a,b){var c=a.nb;switch(a.style.get()){case 4:if(0<c.T)break;case 1:case 2:Ol(c),Vl(a.nb),Vl(a.Gd),c.ta=15,c.T=b}a.style.set(3);a.N=c;a.N.style=a.style;a.aa.mode=1<<c.Fe;c.qa=1;c.T!=b&&(c.T>b?(Ol(c),Ul(c,c.ta-c.T,b)):c.ta<b&&(b=c.T),c.T=b)},Yl=function(a){a.style.set(1);a.N=a.Gd;a.N.T=0;a.N.style=a.style;a.aa.mode=1<<a.N.Fe},Zl=function(a){a.style.set(4);a.N=a.fa;a.N.style=a.style;a.aa.mode=1<<a.N.Fe},Cl=function(a){this.aa=a;this.Rc=new Kl;this.mh=0;this.sf=new Wl(a);this.Gi=new Wl(a);
this.dh=this.sf};Cl.prototype.reset=function(a){this.mh=a;this.Rc.clear();this.dh=this.sf;this.sf.reset(a,0);this.Gi.reset(a,1)};
var Hl=function(a,b,c){a.Rc.update();b=Gl(b,c,a.Rc);switch(b.result){case 0:return;case 1:case 2:return}var d=b.qf;c=b.rf;if(32<=d||!d)a.aa.mode&a.aa.Zf&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.dh.N,b&96&&Sl(a,0,b),c&96&&Sl(a,0,c));else if(d&16)a:if(!a.Rc.matches(d,c)&&(b=a.Rc,b.Fi=d,b.Rg=c,b.f=2,b=d&8?a.Gi:a.sf,a.dh=b,a.aa.mode=1<<(a.mh<<2)+(b.Yg<<1)+(4==b.style.Zb?1:0),(a.aa.mode|1<<(a.mh<<2)+(b.Yg<<1)+(4!=b.style.Zb?1:0))&a.aa.Zf))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>
5&1];c=c&16?4*((c&14)>>1):0;d=b.N;switch(b.style.get()){case 4:a=d.ta;break;case 3:if(a!=d.ta){if(a<d.T&&(a=d.T,a==d.ta))break;var e=1+d.ta-d.T,f=1+a-d.T;Tl(d,f,e,d.T);b=e;var g=d.T;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));Ul(d,b,g)}}d.ta=a;d.qa=c+1}else switch(d&7){case 1:switch(c&112){case 32:Sl(b.N,0,32);break a;case 48:57==c?(b=b.N,Pl(b).$b=0,32>b.qa&&b.qa++):Sl(b.N,1,c&15)}break;case 2:c&32&&Sl(b.N,2,c&31);break;case 3:c&32&&Sl(b.N,3,c&31);break;case 4:case 5:if(32<=c&&47>=c)switch(c){case 32:Yl(b);
break;case 33:b=b.N;1<b.qa&&(--b.qa,Pl(b).$b=0);break;case 36:b=b.N;a=Pl(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.jb[c][d]==a){for(;32>=d;d++)b.jb[c][d].reset();break}break;case 37:Xl(b,2);break;case 38:Xl(b,3);break;case 39:Xl(b,4);break;case 40:Sl(b.N,0,32);break;case 41:b.style.set(2);b.N=b.nb;b.N.T=0;b.N.style=b.style;b.aa.mode=1<<b.N.Fe;break;case 42:a=b.fa;a.T=15;a.style.set(4);Vl(a);Zl(b);break;case 43:Zl(b);break;case 44:a=b.nb;switch(b.style.get()){case 1:case 2:case 3:Ol(a)}Ul(a,0,15);
break;case 45:b:{a=b.N;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.ta){++a.ta;a.qa=1;break b}case 3:}2>a.T&&(a.T=2,a.ta<a.T&&(a.ta=a.T));b=a.ta-a.T+1;Ol(a);Tl(a,b,b+1,a.T-1);Ul(a,a.ta,1)}break;case 46:Ul(b.Gd,0,15);break;case 47:Ol(b.nb),a=b.Gd,b.Gd=b.nb,b.nb=a,Yl(b)}break;case 7:switch(c){case 33:case 34:case 35:b=b.N,32<(b.qa+=c&3)&&(b.qa=32)}}};var $l=function(a){this.Wg=a;this.Tb=0;this.gb=new Uint8Array(5120)};$l.prototype.clear=function(){this.Tb=0};$l.prototype.append=function(a){this.gb.set(a,this.Tb);this.Tb+=a.length};
var am=function(a,b){for(var c,d=c=0,e=0;d<a.Tb;)2==c&&3==a.gb[d]?c=0:(0==a.gb[d]?c++:c=0,a.gb[e]=a.gb[d],e++),d++;c=d-e;for(d=0;d+c<a.Tb;){for(var f=0;255==a.gb[d];)f+=255,d++;f+=a.gb[d++];if(45<f)break;for(e=0;255==a.gb[d];)e+=255,d++;e+=a.gb[d++];if(4==f){f=a.Wg.aa;var g=b,k=new hg(a.gb.subarray(d,d+e));if(181==ig(k)&&49==jg(k)&&1195456820==L(k)&&3==ig(k)){var l=ig(k);if(0!=(l&64)){l&=31;M(k,1);for(var n=0;n<l;n++){var p=ig(k),u=(p&4)>>2,w=ig(k),A=ig(k);u&&f.Hc.push({time:g,type:p&3,Ki:w,Li:A,
order:f.Hc.length})}}}}d+=e}a.Tb=0};var bm=function(a){this.Ub=new $l(a);this.kb=null;this.yd=0;this.Yd=9E4;this.Ud=0;this.cd=[];this.Td=[]};h=bm.prototype;h.la=function(a){if(a){var b=Q(a,1835296868,void 0,!0);b&&(this.Yd=b.Yd);if(b=Q(a,1953658222,void 0,!0))if(this.cd=b.cd,0!=this.cd.length&&(this.Td=b.Td,this.Ud=b.Ud,a=Q(a,1835295092)))this.kb=new hg(O(a))}else this.yd=0,this.kb=null};h.fk=function(a){this.yd=a};h.xa=function(){return null===this.kb};
h.Nf=function(){var a;(a=null===this.kb)||(a=this.kb,a=!(a.offset<a.buffer.length));return a};h.parse=function(){if(this.kb)for(var a=this.yd/this.Ud,b=0,c=0,d=this.cd[0];!this.Nf();){var e=L(this.kb);6==(ig(this.kb)&31)?(this.Ub.append(lg(this.kb,e-1)),am(this.Ub,0==this.Td.length?b:b+this.Td[c]/this.Yd)):M(this.kb,e-1);d-=e+4;0==d&&(b+=a,c++,d=this.cd[c])}};var cm=function(a){hj.call(this);this.Ub=new $l(a)};m(cm,hj);cm.prototype.la=function(a){hj.prototype.la.call(this,a);this.Ub.clear()};cm.prototype.fk=function(){};
cm.prototype.Sj=function(a,b){for(var c=0;;){a:{var d=a;var e=b;for(e-=3;d<=e;){if(0==this.m[d]&&0==this.m[d+1]){if(0==this.m[d+2]&&1==this.m[d+3]){d+=4;break a}if(1==this.m[d+2]){d+=3;break a}}d++}d=-1}e=0<=d;if(0<this.Ub.Tb||6==c){c=e?d-1:b;var f=this.Ub;f.Tb+(c-a+1)<=f.gb.length||am(this.Ub,this.$c);this.Ub.append(this.m.subarray(a,c+1))}if(!e)break;am(this.Ub,this.$c);a=d;c=this.m[a++]&31}};var dm=function(a,b){lh.call(this,a,b,"webvtt");this.wa=C("cast.player.cea608.InbandCaptionsManager");this.aa=new Dl(this);this.aa.Zf=1;this.Oa=null;this.oa=0;this.zd=null;this.sd=[];this.Kd=this.Xh.bind(this);this.Ma=null;this.Md=new pe};m(dm,lh);dm.prototype.H=function(){this.reset();lh.prototype.H.call(this)};
dm.prototype.Xh=function(){if(this.Oa.xa()){var a=this.Md.wd();this.oa!=a.P&&(this.aa.clear(),this.zd=null);this.oa=a.P;this.aa.oa=a.Pk;this.Oa.la(a.data);this.Oa.fk(a.duration)}this.Oa.parse();if(this.Oa.Nf()){this.aa.decode();if(0<this.sd.length){for(nh(this);0<this.sd.length;)a=this.sd.pop(),a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue({yg:a});this.sd.length=0}this.Oa.la(null)}this.Md.xa()&&this.Oa.xa()?this.Ma=null:this.Ma=setTimeout(this.Kd,20)};
var Nl=function(a,b,c,d){null!==a.zd&&b<a.zd&&(b=a.zd);.1>c-b&&(c=b+.1);a.zd=c;a.sd.push({start:b,end:c,text:d})};dm.prototype.Se=function(a,b,c,d,e){if(Md(a)){if(!this.Oa)switch(a){case "video/mp2t":this.Oa=new cm(this);break;case "video/mp4":this.Oa=new bm(this);break;default:return}1<this.Md.Fb()?F(this.wa,"Dropped segment"):(this.Md.enqueue({data:b,duration:e,P:c,Pk:"video/mp4"==a?d:c}),G(this.wa,"Pending "+this.Md.Fb()),null===this.Ma&&(this.Ma=setTimeout(this.Kd,20)))}};
dm.prototype.reset=function(){lh.prototype.reset.call(this);this.oa=0;this.zd=null;this.sd.length=0;this.Oa&&this.Oa.la(null);this.aa.clear();this.Md.clear();null!==this.Ma&&(clearTimeout(this.Ma),this.Ma=null)};var em=function(a,b,c,d){D.call(this);this.a=a;this.s=b;this.ol=d;this.qb=c;this.o=this.pj=null;this.Jb="none";this.Cg=this.Bg=this.qc=null;this.Gg=!1;this.g=new H;zd(this.g);E(this.g,"success",this.Wc,!1,this);E(this.g,"error",this.Nb,!1,this)};m(em,D);em.prototype.H=function(){this.o&&(this.qc&&Dc(this.qc,"message",this.Hj,!1,this),this.o=null);this.qc&&(this.qc.close(),this.qc=null);this.g.J();D.prototype.H.call(this)};
em.prototype.createSession=function(a){G(fm,"create session");this.Cg=y();var b=this.a.licenseCustomData;if(b){var c=new Cg(this.qb.length+b.length+34);N(c,this.qb);(new Gj(b)).i(c);b=Bg(c)}else b=this.qb;this.o=this.a.mediaElement;this.Jb=a;this.qc=a=this.o.mediaKeys.createSession();E(this.qc,"message",this.Hj,!1,this);a.generateRequest("cenc",b.buffer).catch(this.Fj.bind(this))};
em.prototype.Wc=function(a){G(fm,"xhr success");var b=this.Bg;null!==b&&(b=y()-b,B("Cast.MPL.LicenseReq.ServerLatency",b));this.Bg=null;this.aj(Kd(a.target))};em.prototype.aj=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Ka(a))){a.then(function(a){gm(b,a)});return}gm(this,a)}else this.a.U(201,void 0)};
var gm=function(a,b){a.Gg=!0;a.qc.update(b.buffer).then(function(){a.Gg=!1;var b=a.ol;G(hm,"key session ended: "+b.ed);8<b.La.length?b.La.shift().J():b.ed++;b.ed<b.La.length&&b.La[b.ed].createSession(b.Jb)},function(b){a.Gg=!1;a.Fj(b)})};h=em.prototype;h.Nb=function(){G(fm,"xhr error");var a=new yf(String(this.g.Ce),this.g.Lb,Id(this.g),this.g.getAllResponseHeaders(),Kd(this.g));this.a.U(201,a)};
h.Hj=function(a){G(fm,"message");this.pj=new Uint8Array(a.Kc.message);this.a.prepareLicenseRequest&&!this.a.prepareLicenseRequest()||this.zc()};h.Fj=function(a){G(fm,"keyerror "+a);this.a.U(202)};
h.zc=function(){var a=new xf;a.timeoutInterval=18E4;a.protectionSystem=this.Jb;a.content=this.pj;a.setResponse=this.aj.bind(this);this.s.updateLicenseRequestInfo(a);this.a.licenseUrl&&(a.url=this.a.licenseUrl);if(!a.url&&this.qb&&"playready"==this.Jb){var b=new Sg(this.qb);if(b=ui(b.getData()))a.url=b.url}if(this.a.updateLicenseRequestInfo&&(this.a.updateLicenseRequestInfo(a),a.skipRequest))return;this.g.be=a.withCredentials;this.g.Yb=Math.max(0,a.timeoutInterval);this.g.send(a.url,"POST",a.content,
a.headers);a=this.Cg;null!==a&&(a=y()-a,B("Cast.MPL.LicenseReq.GenLatency",a));this.Cg=null;this.Bg=y()};h.se=function(){return null!==this.Cg||null!==this.Bg||this.Gg};var fm=C("cast.player.core.MediaKeySession");var jm=function(a,b,c,d,e){D.call(this);this.a=a;this.s=b;this.La=[];this.ed=0;this.Jb=null;E(this.a.mediaElement,"encrypted",this.Dj,!1,this);c&&0<c.length&&(a.protectionSystem&&(c.includes(a.protectionSystem)?c.splice(0,0,c.splice(c.indexOf(a.protectionSystem),1)[0]):F(hm,"Preferred protection system not found")),im(this,{Fh:c,Wf:0,Bk:d,hm:e}))};m(jm,D);
jm.prototype.H=function(){Dc(this.a.mediaElement,"encrypted",this.Dj,!1,this);for(var a=q(this.La),b=a.next();!b.done;b=a.next())b.value.J();this.La.length=0;D.prototype.H.call(this)};
var im=function(a,b){km(a,b).catch(function(c){b.Wf++;b.Wf<b.Fh.length?im(a,b):(Mc(hm,c.toString()),F(hm,"unsupported protection system"),a.a.U(202))})},km=function(a,b){var c=b.Fh[b.Wf];b=lm(b);return navigator.requestMediaKeySystemAccess(Ff[c],[b]).then(function(a){return a.createMediaKeys()}).then(function(b){return a.a.mediaElement.setMediaKeys(b)}).then(function(){a.Jb=c;Wd(a.Jb,a.s.Ef());0<a.La.length&&a.La[0].createSession(c);return Promise.resolve()})};
jm.prototype.Dj=function(a){a=a.Kc;G(hm,"onencrypted: "+this.ed);(a=a.initData)?this.createSession(new Uint8Array(a)):G(hm,"invalid init data")};var mm=function(a,b){return a.La.some(function(a){a:if(b.length!=a.qb.length)a=!1;else{for(var c=b.length,e=0;e<c;e++)if(b[e]!=a.qb[e]){a=!1;break a}a=!0}return a})};jm.prototype.createSession=function(a){mm(this,a)||(a=new em(this.a,this.s,a,this),this.Jb&&this.ed==this.La.length&&a.createSession(this.Jb),this.La.push(a))};jm.prototype.zc=function(){this.La[this.ed].zc()};
jm.prototype.se=function(){return this.La.some(function(a){return a.se()})};var lm=function(a){var b=a.Fh[a.Wf],c={initDataTypes:["cenc"]},d=a.Bk||"";a=a.hm||"";d=d.replace("video/mp2t","audio/mp4");a=a.replace("video/mp2t","video/mp4");d&&(c.audioCapabilities=[{contentType:d,robustness:nm[b]||""}]);a&&(c.videoCapabilities=[{contentType:a,robustness:om[b]||""}]);return c},pm={},nm=(pm.widevine="HW_SECURE_CRYPTO",pm),qm={},om=(qm.widevine="HW_SECURE_ALL",qm),hm=C("cast.player.core.MediaKeysManager");var rm=function(a,b,c){D.call(this);var d=this;this.a=a;this.s=b;this.sa=c;this.ga=[];this.qd=[];this.ub=null;this.ea=new MediaSource;this.ij=this.lj=this.Pf=!1;this.Gh=this.mf=this.de=null;this.xf=function(a){d.ub.createSession(a)};E(this.ea,"sourceopen",this.Pj,!1,this);this.a.mediaElement&&E(this.a.mediaElement,"durationchange",this.Dg,!1,this)};m(rm,D);
rm.prototype.H=function(){this.s.Fa();sm(this);this.mf=this.de=null;this.ub&&(this.ub.J(),this.ub=null);Dc(this.ea,"sourceopen",this.Pj,!1,this);this.a.mediaElement&&Dc(this.a.mediaElement,"durationchange",this.Dg,!1,this);D.prototype.H.call(this)};rm.prototype.Pj=function(){G(tm,"sourceopen");if(this.ij){this.update();um(this);for(var a=q(this.ga),b=a.next();!b.done;b=a.next())(b=b.value)&&b.createBuffer()}};var vm=function(a){!a.ub&&a.Gh&&a.lj&&(a.de||a.mf)&&(a.ub=new jm(a.a,a.s,a.Gh,a.de,a.mf))};
rm.prototype.Dg=function(){if(t(this.ea.setLiveSeekableRange)&&"open"==this.ea.readyState&&Infinity==this.ea.duration){var a=this.Da();a&&this.ea.setLiveSeekableRange(a.start,a.end)}};var wm=function(a){return a.split(",").find(function(a){return!Tf(a)})},xm=function(a){return a.split(",").find(function(a){return Tf(a)})};h=rm.prototype;
h.Da=function(){for(var a=-Infinity,b=Infinity,c=this.s.getStreamCount(),d=0;d<c;d++)if(this.s.isStreamEnabled(d)){var e=this.s.Da(d);if(!e)return null;e.start>a&&(a=e.start);e.end<b&&(b=e.end)}a>b&&(a=b);return{start:a,end:b}};h.onManifestReady=function(){this.ij=!0;this.update();this.Dg()};h.Uh=function(){this.Dg()};h.He=function(a){this.Gh=a;vm(this)};h.endOfStream=function(){"open"==this.ea.readyState&&this.ea.endOfStream()};h.load=function(){sm(this);this.open()};
h.open=function(){this.Pf||(this.s.load(this),this.Pf=!0);this.a.mediaElement.src?(wc(this.a.mediaElement,"emptied",function(){ym(this)},!1,this),this.a.mediaElement.src=""):ym(this)};var ym=function(a){G(tm,"open");!a.ub&&a.a.mediaElement.setMediaKeys?a.a.mediaElement.setMediaKeys(null).catch(function(a){Mc(tm,a.toString())}).then(function(){zm(a)}):zm(a)},zm=function(a){a.a.mediaElement.src=window.URL.createObjectURL(a.ea);a.lj=!0;vm(a)};
rm.prototype.preload=function(){this.Pf?F(tm,"protocol already loaded"):(this.s.load(this),this.Pf=!0)};var sm=function(a){for(var b=q(a.ga),c=b.next();!c.done;c=b.next())(c=c.value)&&c.J();a.ga.length=0;a.qd=[]},um=function(a){if("open"==a.ea.readyState){var b=a.s.getDuration();0<b&&!a.ea.duration&&(a.ea.duration=parseFloat((b-1E-4).toFixed(4)))}};h=rm.prototype;h.reset=function(){for(var a=q(this.ga),b=a.next();!b.done;b=a.next())(b=b.value)&&b.reset()};
h.update=function(){for(var a=this.s.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.s.isStreamEnabled(d)){var e=this.s.getStreamInfo(d),f=e.mimeType;e=e.codecs;Ld(f)||Tf(e)?b?F(tm,"more than one audio stream enabled"):(b=xm(e),b=f+';codecs="'+b+'"'):Md(f)&&(c?F(tm,"more than one video stream enabled"):(c=wm(e),c=f+';codecs="'+c+'"'));if(!this.ga[d]){try{this.ga[d]=new Th(this.sa,this.a,this.s,d,this.ea,this.xf,void 0,this.qd)}catch(g){F(tm,g.message);22==g.code&&this.sa.bg();return}this.s.enableStream(d,
!0);Xh(this.ga[d])}}else this.ga[d]&&(Uh(this.ga[d]),this.ga[d]=null);b||c?this.de||this.mf||(this.de=b,this.mf=c,vm(this)):F(tm,"no enabled audio or video stream")};
h.ie=function(){for(var a=this.s.getStreamCount(),b=0;b<a;b++)if(this.s.isStreamEnabled(b)){var c=this.s.getStreamInfo(b),d=c.codecs;if(Ld(c.mimeType)||Tf(d)){this.ga[b]&&(Uh(this.ga[b]),this.ga[b]=null);try{this.ga[b]=new Th(this.sa,this.a,this.s,b,this.ea,this.xf,void 0,this.qd)}catch(e){F(tm,e.message);22==e.code&&this.sa.bg();break}this.s.enableStream(b,!0);Xh(this.ga[b])}}};h.Dh=function(a){return this.ga[a].Dh()};h.$e=function(a){this.ga[a].$e()};h.te=function(a){return this.ga[a].te()};
h.Ca=function(a,b){return this.ga[a].Ca(b)};h.zc=function(){this.ub.zc()};h.se=function(){return null!==this.ub&&this.ub.se()};h.getStreamCount=function(){return this.ga.length};var tm=C("cast.player.core.MediaSourceManager");var Am=function(a,b,c,d){lh.call(this,a,b,c);a=new xf;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.nk=new pi(this);this.nk.load(a)};m(Am,lh);Am.prototype.H=function(){this.nk.J();lh.prototype.H.call(this)};Am.prototype.reset=function(){};Am.prototype.tc=function(a){a&&this.parse(a,0)};var Z=function(a){G(Bm,"Version: 1.0.0.56");Da()&&cast.__platform__.metrics.setMplVersion("1.0.0.56");this.a=a;this.s=null;this.Hb=0;this.yb=null;this.Ei=this.Sa=this.Ah=this.ab=!1;this.Uf=!0;this.Tf=!1;this.fc=this.S=this.o=null;this.qe=!1;this.ef=null;this.Kd=this.Xh.bind(this);this.Ag=this.zg=this.df=null;this.vg=this.Qf=!1};z("cast.player.api.Player",Z);var Dm=function(a,b){Cm(a);a.ef=setTimeout(a.Kd,b||0)};h=Z.prototype;h.sc=function(a){Dm(this,a)};
h.Se=function(a,b,c,d,e){this.Ah&&this.fc.Se(a,b,c,d,e);Dm(this)};h.Vh=function(a){this.ab&&(Infinity==this.Hb||this.Hb<a)&&(this.Hb=a)};h.Sh=function(){um(this.S)};h.kc=function(){return this.ab?this.Hb:this.o.currentTime};h.ie=function(){this.S.ie()};h.Ph=function(){this.S.update()};Z.prototype.onAudioChanged=Z.prototype.Ph;Z.prototype.bg=function(){this.reload()};var Cm=function(a){null!==a.ef&&(clearTimeout(a.ef),a.ef=null)};h=Z.prototype;
h.Oj=function(){G(Bm,"seeking");this.qe?this.qe=!1:(this.Tf=this.ab=!1,this.df=null,this.fc&&this.fc.reset(),this.S.reset())};h.Nj=function(){G(Bm,"seeked");this.yb=y()};h.Id=function(){Mc(Bm,"error");this.a.U(Pd(this.o.error))};h.Jj=function(){this.df=y();Fa("Cast.MPL.Playing");if(this.zg){var a=y()-this.zg;B("Cast.MPL.AutoPauseTime",a);this.zg=null}};
h.Ij=function(){var a=y();this.Sa&&!this.ab&&null!==this.df&&(this.zg=a,B("Cast.MPL.PlayTimeBeforeAutoPause",a-this.df));Fa("Cast.MPL.Pause");this.yb=this.df=null};h.Ej=function(){Fa("Cast.MPL.Ended");this.yb=null};
h.Fg=function(){if(this.ab&&this.o&&!isNaN(this.o.duration)&&0!=this.o.buffered.length&&(this.ab=!1,this.yb=y(),B("Cast.MPL.MediaDuration",this.o.duration),0!=this.Hb&&this.Hb!=this.o.currentTime)){var a=this.Hb;this.qe=!0;this.o.currentTime=a}this.Uf=!1;var b=0,c=0,d=!0;a=this.kc();for(var e=this.S.getStreamCount(),f=0;f<e;f++)if(this.s.isStreamEnabled(f)&&(c++,this.S.te(f))){b++;var g=this.S.Ca(f,a);if(this.Sa&&d){var k=this.s.getSegmentInterval(f).duration*this.a.autoResumeNumberOfSegments;if(0==
k||k>this.a.autoResumeDuration)k=this.a.autoResumeDuration;g<k&&(d=!1)}k=f;20<=g?G(Bm,"not requesting more segments, buffered duration "+g+" seconds exceeds max duration."):(g<this.a.autoPauseDuration&&(g=this.s.getStreamInfo(k),Hf(g.role,g.mimeType,g.codecs)||(this.Uf=!0)),this.S.Dh(k)&&this.S.$e(k))}if(this.o&&0!=c){this.Uf?!this.o.paused&&this.o.duration-a>this.a.autoPauseDuration&&(G(Bm,"auto pause "+a),this.Sa=!0,this.o.pause(),this.a.onAutoPause&&this.a.onAutoPause(this.Sa)):!this.ab&&this.Sa&&
d&&(this.Sa=!1,this.o.paused&&(G(Bm,"auto resume "+a),this.o.play(),this.a.onAutoPause&&this.a.onAutoPause(this.Sa),this.yb=y()));if(0==b){if(!this.Tf&&(G(Bm,"endOfStream "+a),this.S.endOfStream(),this.a.onMediaDownloadEnded))this.a.onMediaDownloadEnded();this.Tf=!0}if(!(this.ab||this.Sa||this.o.paused||!this.S||this.S.se())&&(G(Bm,"time="+a),this.yb&&(b=y(),c=2500<b-this.yb,this.a.Bi||c))){a:{d=this.o.currentTime;e=this.o.buffered;for(f=e.length-1;0<=f;f--){g=e.start(f);if(d>=g)break;if(0==f||d>
e.end(f-1)-.15){F(Bm,"stall jump to "+g);Fa("Cast.MPL.PlaybackStallGap");this.qe=this.vg=!0;this.o.currentTime=g;d=!0;break a}}d=!1}d?this.yb=null:c&&(this.yb=this.a.Bi?b:null,F(Bm,"playback stalled in buffered region"),Fa("Cast.MPL.PlaybackStall"),this.qe=this.vg=!0,this.o.currentTime=a+.5)}}Dm(this,400)};
h.Qj=function(){this.yb=y();this.vg&&(B("Cast.MPL.StallPrevented",1),this.vg=!1);if(this.Ag){var a=y()-this.Ag;B(this.Qf?"Cast.MPL.PreloadAutoplayStartupLatency":"Cast.MPL.AutoplayStartupLatency",a);this.Ag=null}};h.Xh=function(){this.ef=null;this.Fg()};var Em=function(a,b,c){a.s=b;a.ab=!0;a.Hb=c||0;a.S=new rm(a.a,a.s,a)};
Z.prototype.load=function(a,b){G(Bm,"load");Fa("Cast.MPL.Load");var c=sh();t(c)&&vh("Cast.MPL.ExperimentationBlockId",c.blockIds);this.a.Ui&&Fa("Cast.MPL.DisableBufferAdjust");this.o=this.a.mediaElement;E(this.o,"error",this.Id,!1,this);E(this.o,"seeking",this.Oj,!1,this);E(this.o,"seeked",this.Nj,!1,this);E(this.o,"pause",this.Ij,!1,this);E(this.o,"playing",this.Jj,!1,this);E(this.o,"timeupdate",this.Qj,!1,this);E(this.o,"ended",this.Ej,!1,this);this.o.autoplay&&(this.Ag=y(),this.o.autoplay=!1,this.Ei=
!0,this.Uj());this.S?this.S.open():a?(this.Qf=!1,Em(this,a,b),this.S.load()):Mc(Bm,"no protocol")};Z.prototype.load=Z.prototype.load;Z.prototype.preload=function(a,b){G(Bm,"preload");Fa("Cast.MPL.Preload");Em(this,a,b);this.S.preload();this.Qf=!0};Z.prototype.preload=Z.prototype.preload;
Z.prototype.Fa=function(){G(Bm,"unload");Fm(this);this.S&&(this.S.J(),this.S=null);Cm(this);this.o&&(this.Ei&&(this.o.autoplay=!0),this.Tf=this.Sa=!1,Dc(this.o,"error",this.Id,!1,this),Dc(this.o,"seeking",this.Oj,!1,this),Dc(this.o,"seeked",this.Nj,!1,this),Dc(this.o,"pause",this.Ij,!1,this),Dc(this.o,"playing",this.Jj,!1,this),Dc(this.o,"timeupdate",this.Qj,!1,this),Dc(this.o,"ended",this.Ej,!1,this),this.o=null,this.Qf=!1)};Z.prototype.unload=Z.prototype.Fa;
Z.prototype.reload=function(){this.ab||(this.Hb=this.o.currentTime);this.ab=!0;this.o.paused||(this.Sa=!0);Cm(this);this.S.load()};Z.prototype.reload=Z.prototype.reload;Z.prototype.Uj=function(){this.Sa=!0};Z.prototype.playWhenHaveEnoughData=Z.prototype.Uj;Z.prototype.getState=function(a){var b=this.S.Da();t(a)||(a=1);var c={};a&1&&(c.underflow=this.Uf||this.Sa);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};Z.prototype.getState=Z.prototype.getState;
Z.prototype.Ca=function(a){return this.S.Ca(a,this.kc())};Z.prototype.getBufferDuration=Z.prototype.Ca;Z.prototype.dl=function(){return 20};Z.prototype.getMaxBufferDuration=Z.prototype.dl;Z.prototype.zc=function(){this.S.zc()};Z.prototype.startLicenseRequest=Z.prototype.zc;var Fm=function(a){a.fc&&(a.Ah=!1,a.fc.J(),a.fc=null)};Z.prototype.Zk=function(a,b,c){b?a?"cea608"==b?(this.Ah=!0,this.fc=new dm(this,this.a)):c&&(this.fc=new Am(this,this.a,b,c)):Fm(this):this.S.update()};
Z.prototype.enableCaptions=Z.prototype.Zk;Z.prototype.el=function(){return this.s};Z.prototype.getStreamingProtocol=Z.prototype.el;Z.prototype.cl=function(){return this.a};Z.prototype.getHost=Z.prototype.cl;var Bm=C("cast.player.api.Player");Z.State={UNDERFLOW:1,SEEKABLE:2};z("cast.player.api.CreateDashStreamingProtocol",function(a){B("Cast.MPL.StreamingProtocolType",1);return new Vi(a)});z("cast.player.api.CreateHlsStreamingProtocol",function(a,b,c){B("Cast.MPL.StreamingProtocolType",2);return new Y(a,b,c)});z("cast.player.api.CreateSmoothStreamingProtocol",function(a){B("Cast.MPL.StreamingProtocolType",3);return new ml(a)}); }).call(window);
